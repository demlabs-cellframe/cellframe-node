# Common: Verify Token Exists
# Check that a token exists in the token list
# Variables: token_name (required), network_name (default: stagenet)

check:
  - cli: token list -net {{network_name|stagenet}}
    node: "{{target_node|node1}}"
    save: token_list_check
  
  - python: |
      token_list = ctx.get_variable('token_list_check')
      token_name = ctx.get_variable('token_name')
      assert token_name in token_list, \
        f"Token '{token_name}' should exist in token list"

