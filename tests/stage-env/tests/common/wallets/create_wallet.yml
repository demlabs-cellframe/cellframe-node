# Common: Create test wallet
# Shared component for creating a test wallet

setup:
  - cli: wallet new -w test_wallet
    node: node1
    expect: success
    save: wallet_created
    wait: 1s
    description: "Create test wallet"
  
  # Extract wallet address with built-in validation
  - cli: wallet info -w test_wallet -net stagenet
    node: node1
    expect: success
    extract_to:
      wallet_addr:
        pattern: "addr:\\s+(\\S+)"
        type: wallet_address  # Automatic base58 decode + checksum validation!
        group: 1
    description: "Get wallet address with validation"
