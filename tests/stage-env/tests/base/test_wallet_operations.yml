# Stage Environment - Wallet Operations Test
# Проверка базовых операций с кошельками

name: Wallet Operations Test
description: Verify basic wallet creation and info retrieval
tags: [e2e, basic, wallet, fast]
version: "1.0"

network:
  topology: default

defaults:
  node: node1
  wait: 1s

setup:
  - cli: wallet new -w test_wallet
    wait: 2s

test:
  - cli: wallet info -w test_wallet
    save: wallet_info
  
  - cli: wallet list
    save: wallet_list

check:
  - python: |
      wallet_list = ctx.get_variable('wallet_list')
      assert 'test_wallet' in wallet_list, \
        "Created wallet should appear in wallet list"
  
  - python: |
      wallet_info = ctx.get_variable('wallet_info')
      assert 'test_wallet' in wallet_info, \
        "Wallet info should contain wallet name"

