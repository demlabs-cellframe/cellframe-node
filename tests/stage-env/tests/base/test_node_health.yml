# Stage Environment - Node Health Check Test
# Проверка здоровья и доступности всех нод

name: Node Health Check Test
description: Verify that all nodes are healthy and responding
tags: [e2e, basic, health, monitoring]
version: "1.0"

defaults:
  wait: 0.5s

setup:
  - wait: 5s

test:
  # Validators
  - name: "Validator nodes health"
    defaults:
      wait: 0.3s
    steps:
      - cli: version
        node: node1
      
      - cli: version
        node: node2
      
      - cli: version
        node: node3
  
  # Regular nodes
  - name: "Regular nodes health"
    defaults:
      wait: 0.3s
    steps:
      - cli: version
        node: node4
      
      - cli: version
        node: node5
      
      - cli: version
        node: node6
      
      - cli: version
        node: node7

check:
  - cli: node dump
    node: node1
    contains: "node"
  
  - cli: node dump
    node: node4
    contains: "node"

