# Token Creation Test
# Test scenario #1: Create new CF20 token

name: Token Creation Test
description: Test token declaration with various parameters
tags: [token, creation]

# Этот сценарий использует общий setup из suite.yml
# Кошельки owner_addr, receiver_addr, thirdparty_addr уже созданы

test:
  # Test 1: Simple token
  - cli: token_decl -token TEST1 -total_supply 1000000 -decimals 18 -signs_total 1 -signs_emission 1
    node: node1
    save: test1_hash
    expect: success
    wait: 3s
  
  # Verify token created
  - cli: token info -token TEST1
    node: node1
    contains: "TEST1"
    contains: "1000000"
  
  # Test 2: Token with flags
  - cli: token_decl -token TEST2 -total_supply 5000000 -decimals 18 -signs_total 1 -flags ALL_SENDER_ALLOWED,ALL_RECEIVER_ALLOWED
    node: node1
    save: test2_hash
    expect: success
    wait: 3s
  
  # Verify second token
  - cli: token info -token TEST2
    node: node1
    contains: "TEST2"
    contains: "ALL_SENDER_ALLOWED"

check:
  - cli: token list -net stagenet
    node: node1
    contains: "TEST1"
  
  - cli: token list -net stagenet
    node: node1
    contains: "TEST2"

