# Test: Chain Atoms
# Test chain atom operations

name: Chain Atom Test
description: Test reading chain atoms
tags: [e2e, chain, atoms]
version: "1.0"

network:
  topology: default

includes:
  - common/create_test_cert.yml
  - common/networks/single_node.yml
  - common/wallets/create_wallet.yml

defaults:
  node: node1
  wait: 3s

setup:
 
  # Create token to generate some chain activity
  - cli: token_decl -decimals 18 -signs_total 1 -signs_emission 1 -token ATOMTEST -total_supply 1000000 -certs test_cert
 
  - cli: token_emit -token ATOMTEST -value 5000 -addr {{wallet_addr}} -certs test_cert
    wait: 5s

test:
  # Test: List chains
  - cli: net list chains
    save: chain_list
    wait: 0s

check:
  # Verify chains exist
  - python: |
      chains = ctx.get_variable('chain_list')
      assert chains, "Chain list should not be empty"
    description: "Chains are accessible"

