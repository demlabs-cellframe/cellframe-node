# Test: Network Status
# Verify network status reporting

name: Network Status Test
description: Test getting network status information
tags: [e2e, network, status]
version: "1.0"

network:
  topology: default

includes:
  - common/networks/single_node.yml

setup:
  - wait: 5s

test:
  # Test: Get network status
  - cli: net -net stagenet get status
    node: node1
    expect: success
    save: net_status
    description: "Get network status"
  
  # Test: Get network ID
  - cli: net -net stagenet get id
    node: node1
    expect: success
    save: net_id
    description: "Get network ID"

check:
  # Verify status contains key fields
  - python: |
      status = ctx.get_variable('net_status')
      assert 'status' in status.lower() or 'state' in status.lower(), \
        "Status should contain status information"
    description: "Network status is valid"
  
  # Verify network ID is present
  - python: |
      net_id = ctx.get_variable('net_id')
      assert net_id.strip(), "Network ID should not be empty"
    description: "Network ID is present"

