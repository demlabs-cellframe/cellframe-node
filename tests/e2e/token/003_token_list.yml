# Test: Token Listing
# Verify token enumeration

name: Token List Test
description: Test listing available tokens
tags: [e2e, token, list, fast]
version: "1.0"

network:
  topology: default

includes:
  - common/networks/single_node.yml

setup:
  # Create test tokens
  - cli: token_decl -net stagenet -token LIST1 -total 1000000
    node: node1
    expect: success
    wait: 6s
  
  - cli: token_decl -net stagenet -token LIST2 -total 2000000
    node: node1
    expect: success
    wait: 6s

test:
  # Wait for tokens to sync
  - wait: 7s
  
  # Test: List tokens
  - cli: token list -net stagenet
    node: node1
    expect: success
    save: token_list

check:
  # Verify our tokens are in the list
  - python: |
      token_list = ctx.get_variable('token_list')
      assert 'LIST1' in token_list, "LIST1 should be in token list"
      assert 'LIST2' in token_list, "LIST2 should be in token list"
    description: "Created tokens appear in list"

