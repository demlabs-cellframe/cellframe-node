# Test: Wallet Address Operations  
# Test wallet address generation and retrieval

name: Wallet Address Operations
description: Test getting and verifying wallet addresses
tags: [e2e, wallet, address]
version: "1.0"

network:
  topology: default

includes:
  - common/networks/single_node.yml

defaults:
  node: node1
  wait: 1s

setup:
  - wait: 2s
  
  # Create test wallet
  - cli: wallet new -w test_addr_wallet

test:
  # Get wallet info with address
  - cli: wallet info -w test_addr_wallet -net stagenet
    save: wallet_info
    extract:
      pattern: "addr:\\s+(\\S+)"
      group: 1
      variable: wallet_address

check:
  # Verify address variable was extracted
  - python: |
      assert 'wallet_address' in ctx.variables, "Address should be extracted"
      addr = ctx.get_variable('wallet_address')
      assert addr and len(addr) > 10, "Address should not be empty"
