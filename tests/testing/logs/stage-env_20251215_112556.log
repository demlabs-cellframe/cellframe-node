2025-12-15T04:25:56.740850Z [info     ] file_logging_enabled           log_file=/home/olzh/demlabs/second/cellframe-node/tests/stage-env/../testing/logs/stage-env_20251215_112556.log
2025-12-15T04:25:56.840490Z [info     ] artifacts_manager_initialized  artifacts_dir=/home/olzh/demlabs/second/cellframe-node/tests/testing/artifacts collect_crash_dumps=True collect_health_logs=True collect_node_logs=True
2025-12-15T04:25:56.841782Z [info     ] loading_topology_from_template topology=default
2025-12-15T04:25:56.842253Z [info     ] loaded_config                  path=/home/olzh/demlabs/second/cellframe-node/tests/stage-env/config/stage-env.cfg
2025-12-15T04:25:56.847278Z [info     ] cert_generator_initialized     certs_dir=/home/olzh/demlabs/second/cellframe-node/tests/stage-env/cache/certs docker_mode=True
2025-12-15T04:25:56.864417Z [info     ] docker_connected               version=28.5.1
2025-12-15T04:25:56.997490Z [info     ] genesis_initializer_created    network=stagenet
2025-12-15T04:25:57.006970Z [info     ] artifacts_manager_initialized  artifacts_dir=/home/olzh/demlabs/second/cellframe-node/tests/testing/artifacts collect_crash_dumps=True collect_health_logs=True collect_node_logs=True
2025-12-15T04:25:57.010058Z [info     ] filesystem_mode_initialized    rsync_available=True snapshots_dir=/home/olzh/demlabs/second/cellframe-node/tests/testing/snapshots
2025-12-15T04:25:57.010248Z [info     ] snapshot_manager_initialized   base_path=/home/olzh/demlabs/second/cellframe-node/tests/stage-env config={'mode': 'filesystem', 'squashfs_compression': 'none', 'auto_create_on_startup': True, 'snapshot_name': 'clean_state', 'genesis_stage': 'full', 'phase1_snapshot_name': 'phase1_zerochain_genesis', 'auto_cleanup': True, 'keep_snapshot_count': 5, 'snapshots_dir': '../testing/snapshots', 'cache_dir': 'cache'} mode=filesystem
2025-12-15T04:25:57.010607Z [info     ] network_manager_initialized    cache_dir=cache network=stagenet snapshot_mode=filesystem timeouts={'startup': 600, 'health_check': 600, 'command': 30} topology=default
2025-12-15T04:25:57.010880Z [info     ] starting_network               rebuild=False topology=default
2025-12-15T04:25:57.010965Z [info     ] stopping_previous_environment 
2025-12-15T04:25:57.011007Z [info     ] stopping_services              remove_images=False volumes=False
2025-12-15T04:25:57.075508Z [info     ] services_stopped              
2025-12-15T04:25:57.075658Z [info     ] previous_environment_stopped  
2025-12-15T04:25:57.075701Z [info     ] cleanup_stale_resources        project=cellframe-stage
2025-12-15T04:25:57.085250Z [info     ] cleanup_completed             
2025-12-15T04:25:57.085426Z [info     ] no_phase1_snapshot_cleaning_data_for_fresh_start name=phase1_zerochain_genesis
2025-12-15T04:25:57.085495Z [info     ] cleaning_node_data_after_stop 
2025-12-15T04:25:57.085589Z [info     ] removing_node_data_directories path=/home/olzh/demlabs/second/cellframe-node/tests/stage-env/cache/data
2025-12-15T04:25:57.085661Z [info     ] cleaning_cache_data_with_docker path=/home/olzh/demlabs/second/cellframe-node/tests/stage-env/cache/data
2025-12-15T04:25:57.455147Z [info     ] cache_data_cleaned             output='Cleanup complete'
2025-12-15T04:25:57.455293Z [info     ] node_data_removed             
2025-12-15T04:25:57.455535Z [info     ] node_data_cleaned_and_recreated nodes=0
2025-12-15T04:25:57.455605Z [info     ] generating_node_configs       
2025-12-15T04:25:57.455710Z [info     ] node_configs_generated         count=8 seed_nodes=3 validators=3
2025-12-15T04:25:57.455771Z [info     ] generating_configs_and_certs  
2025-12-15T04:25:57.455811Z [info     ] generating_configurations      force=False network=stagenet nodes=8
2025-12-15T04:25:57.457996Z [info     ] generating_certificates        count=8 force=False
2025-12-15T04:25:57.458152Z [info     ] generating_all_certificates    method=docker network=stagenet nodes=8 validators=3
• Generating 8 node certificates using Docker...
2025-12-15T04:25:57.487683Z [info     ] calling_docker_cert_generator  image=cf-cert-generator:latest network_id=0x1234 network_name=stagenet node_count=8 output_dir=/home/olzh/demlabs/second/cellframe-node/tests/stage-env/cache/certs
2025-12-15T04:25:57.891059Z [info     ] cert_generator_docker_output   stdout=
✓ Generated 8 node + 0 validator certificates
2025-12-15T04:25:57.892123Z [info     ] all_certificates_generated     nodes=8 validators=0
2025-12-15T04:25:57.894296Z [info     ] organizing_validator_certificates
2025-12-15T04:25:57.895553Z [info     ] copying_all_private_certs_to_root1_for_centralized_genesis
2025-12-15T04:25:57.895773Z [info     ] all_private_certs_copied_to_root1 additional_certs=2 note='root-1 can now perform centralized genesis with threshold consensus' own_cert=1 total_pvt_certs=3
2025-12-15T04:25:57.896203Z [info     ] distributing_public_certs_to_all_nodes network=stagenet total_nodes=8
2025-12-15T04:25:57.896679Z [info     ] public_certs_distributed_to_node master_certs=3 node_id=1 root_certs=3
2025-12-15T04:25:57.897068Z [info     ] public_certs_distributed_to_node master_certs=3 node_id=2 root_certs=3
2025-12-15T04:25:57.897441Z [info     ] public_certs_distributed_to_node master_certs=3 node_id=3 root_certs=3
2025-12-15T04:25:57.897869Z [info     ] public_certs_distributed_to_node master_certs=3 node_id=4 root_certs=3
2025-12-15T04:25:57.898259Z [info     ] public_certs_distributed_to_node master_certs=3 node_id=5 root_certs=3
2025-12-15T04:25:57.898617Z [info     ] public_certs_distributed_to_node master_certs=3 node_id=6 root_certs=3
2025-12-15T04:25:57.899005Z [info     ] public_certs_distributed_to_node master_certs=3 node_id=7 root_certs=3
2025-12-15T04:25:57.899392Z [info     ] public_certs_distributed_to_node master_certs=3 node_id=8 root_certs=3
2025-12-15T04:25:57.899453Z [info     ] certificates_generated         count=8
2025-12-15T04:25:57.906309Z [info     ] validator_addresses_collected  addresses=[50F8::69A2::4827::3CB9,D76A::CC6B::DB70::921D,8A4... count=3
2025-12-15T04:25:57.906573Z [info     ] root_node_addresses_collected  addresses=[F0F7::21B7::FFE2::35AF,47A7::A4CC::0AFF::71DD,8C0... count=3
2025-12-15T04:25:57.906722Z [info     ] validator_addresses_collected  addresses=[50F8::69A2::4827::3CB9,D76A::CC6B::DB70::921D,8A4... count=3
2025-12-15T04:25:57.906793Z [info     ] mainchain_validators_configured master_validators_count=3 min_validators_count=2 note='Using master node addresses in validators_addrs for mainchain'
2025-12-15T04:25:57.907315Z [info     ] loaded_config                  path=/home/olzh/demlabs/second/cellframe-node/tests/stage-env/config/stage-env.cfg
2025-12-15T04:25:57.912090Z [info     ] configurations_generated       network=stagenet nodes=8
2025-12-15T04:25:57.912259Z [info     ] generating_docker_compose     
2025-12-15T04:25:57.912693Z [info     ] generating_compose_file        build_type=debug cache_dir=cache node_count=8 node_source_type=url
2025-12-15T04:25:57.940295Z [info     ] compose_file_generated         path=/home/olzh/demlabs/second/cellframe-node/tests/stage-env/docker-compose.generated.yml services=8
2025-12-15T04:25:57.940478Z [info     ] node_distribution              full=2 master=3 root=3
2025-12-15T04:25:57.940529Z [info     ] === PHASE 1: ROOT Nodes Startup (DAG-PoA Genesis) ===
2025-12-15T04:25:57.950252Z [info     ] network_consensus_monitor_initialized network=stagenet nodes=3
2025-12-15T04:25:57.964105Z [info     ] Loaded scenario: PHASE 1 - Zerochain Genesis from genesis/phase1_zerochain.yml
2025-12-15T04:25:57.974639Z [info     ] executing_phase1_scenario     
2025-12-15T04:25:57.974786Z [info     ] Starting scenario: PHASE 1 - Zerochain Genesis
2025-12-15T04:25:57.974835Z [info     ] Description: Initialize ROOT nodes, create token and emission
2025-12-15T04:25:57.974896Z [info     ] Executing setup phase...      
2025-12-15T04:25:57.974969Z [info     ] Step 1/4: ConfigStep (cellframe-node)
2025-12-15T04:25:57.975151Z [info     ] Config: regenerating 'cellframe-node' for nodes [1, 2, 3] with vars ['seed_mode']
2025-12-15T04:25:57.976028Z [info     ] cert_generator_initialized     certs_dir=/home/olzh/demlabs/second/cellframe-node/tests/stage-env/cache/certs docker_mode=True
2025-12-15T04:25:57.977320Z [info     ] Regenerated cellframe-node.cfg for node 1
2025-12-15T04:25:57.977563Z [info     ] Regenerated cellframe-node.cfg for node 2
2025-12-15T04:25:57.977828Z [info     ] Regenerated cellframe-node.cfg for node 3
2025-12-15T04:25:57.977897Z [info     ] Step 2/4: DockerOpStep        
2025-12-15T04:25:57.977971Z [info     ] Docker operation: start on services ['root-1', 'root-2', 'root-3']
2025-12-15T04:25:57.978042Z [info     ] starting_services              services=['node-1', 'node-2', 'node-3']
2025-12-15T04:25:58.467148Z [info     ] services_started              
2025-12-15T04:25:58.467599Z [info     ] waiting_for_container_ips      containers=['cellframe-stage-node-1', 'cellframe-stage-node-2', 'cellframe-stage-node-3']
2025-12-15T04:25:58.467723Z [info     ] waiting_for_container_ips      containers=['cellframe-stage-node-3', 'cellframe-stage-node-2', 'cellframe-stage-node-1'] timeout=30.0
2025-12-15T04:25:58.486174Z [info     ] all_containers_have_ips        count=3 elapsed=0.0
2025-12-15T04:25:58.486341Z [info     ] ✅ All containers have IP addresses count=3
2025-12-15T04:25:58.486394Z [info     ] ✅ Docker operation 'start' completed
2025-12-15T04:25:58.486441Z [info     ] Step 3/4: NetworkWaitStep     
2025-12-15T04:25:58.486497Z [info     ] Waiting for network state: online on nodes ['root-1', 'root-2', 'root-3']
2025-12-15T04:25:56.235645Z [info     ] waiting_for_nodes_online       node_count=3 timeout=60
2025-12-15T04:26:03.072317Z [info     ] all_nodes_online               count=3 elapsed=6.6s
2025-12-15T04:26:03.072466Z [info     ] ✅ Network state 'online' achieved
2025-12-15T04:26:03.072525Z [info     ] Step 4/4: WaitStep            
2025-12-15T04:26:03.072588Z [info     ] Executing WaitStep. Dump: {'wait': '5s', 'datum': None, 'node': None, 'nodes': None, 'network': None, 'chain': None, 'timeout': 60, 'wallet': None, 'token': None, 'balance': None, 'check_master': True, 'expected_count': None}
2025-12-15T04:26:03.072766Z [info     ] Waiting 5s (5s)               
2025-12-15T04:26:08.142470Z [info     ] collecting_global_context_after_setup nodes=3
2025-12-15T04:26:08.142755Z [info     ] global_context_waiting_for_ips containers=['cellframe-stage-node-1', 'cellframe-stage-node-2', 'cellframe-stage-node-3'] count=3
2025-12-15T04:26:08.142818Z [info     ] waiting_for_container_ips      containers=['cellframe-stage-node-3', 'cellframe-stage-node-2', 'cellframe-stage-node-1'] timeout=30.0
2025-12-15T04:26:08.156516Z [info     ] all_containers_have_ips        count=3 elapsed=0.0
2025-12-15T04:26:08.156677Z [info     ] global_context_ips_collected   count=3 node_ip_map={'node1': '172.20.0.10', 'node2': '172.20.0.11', 'node3': '172.20.0.12'}
2025-12-15T04:26:08.156747Z [info     ] global_context_injected_into_scenario node_count=3 node_ip_map={'node1': '172.20.0.10', 'node2': '172.20.0.11', 'node3': '172.20.0.12'} variables=['network_name', 'topology_name', 'node_ips', 'node_ip', 'node_count', 'root_count', 'master_count', 'full_count', 'root_nodes', 'master_nodes', 'full_nodes']
2025-12-15T04:26:08.157164Z [info     ] Loaded CLI commands from cache: 41 commands
2025-12-15T04:26:08.157257Z [info     ] Executing test phase...       
2025-12-15T04:26:08.157323Z [info     ] Step 1/28: StepGroup          
2025-12-15T04:26:08.157372Z [info     ] Step 1/3: CLIStep             
2025-12-15T04:26:08.157423Z [info     ] CLI: node dump                
2025-12-15T04:26:08.165797Z [info     ] exec_cli_command_debug         command_original='node dump -net stagenet' command_split=['node', 'dump', '-net', 'stagenet'] container=cellframe-stage-node-1 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-1', 'sh', '-c', 'cellframe-node-cli node dump -net stagenet'] shell_cmd='cellframe-node-cli node dump -net stagenet'
2025-12-15T04:26:08.257634Z [info     ] cli_save_node_output_debug     command='node dump -net stagenet' output_length=292 output_preview='Record timestamp: Mon, 15 Dec 2025 04:26:06 +0000\nRecord version: 2\nNode version: 5.7-14\nNode addr: F0F7::21B7::FFE2::35AF\nNet: stagenet\nRole: NODE_ROLE_ROOT\nEvents count: 0\nAtoms count: 0\nUplinks count: 0\nDownlinks count: 0\n-----------------------------------------------------------------\n\n' pattern='Node addr:\\s+([A-Fa-f0-9:]+)'
2025-12-15T04:26:08.257988Z [info     ] Step 2/3: CLIStep             
2025-12-15T04:26:08.258065Z [info     ] CLI: node dump                
2025-12-15T04:26:08.268265Z [info     ] exec_cli_command_debug         command_original='node dump -net stagenet' command_split=['node', 'dump', '-net', 'stagenet'] container=cellframe-stage-node-2 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-2', 'sh', '-c', 'cellframe-node-cli node dump -net stagenet'] shell_cmd='cellframe-node-cli node dump -net stagenet'
2025-12-15T04:26:08.334551Z [info     ] cli_save_node_output_debug     command='node dump -net stagenet' output_length=292 output_preview='Record timestamp: Mon, 15 Dec 2025 04:26:06 +0000\nRecord version: 2\nNode version: 5.7-14\nNode addr: 47A7::A4CC::0AFF::71DD\nNet: stagenet\nRole: NODE_ROLE_ROOT\nEvents count: 0\nAtoms count: 0\nUplinks count: 0\nDownlinks count: 0\n-----------------------------------------------------------------\n\n' pattern='Node addr:\\s+([A-Fa-f0-9:]+)'
2025-12-15T04:26:08.334767Z [info     ] Step 3/3: CLIStep             
2025-12-15T04:26:08.334832Z [info     ] CLI: node dump                
2025-12-15T04:26:08.343384Z [info     ] exec_cli_command_debug         command_original='node dump -net stagenet' command_split=['node', 'dump', '-net', 'stagenet'] container=cellframe-stage-node-3 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-3', 'sh', '-c', 'cellframe-node-cli node dump -net stagenet'] shell_cmd='cellframe-node-cli node dump -net stagenet'
2025-12-15T04:26:08.401835Z [info     ] cli_save_node_output_debug     command='node dump -net stagenet' output_length=292 output_preview='Record timestamp: Mon, 15 Dec 2025 04:26:06 +0000\nRecord version: 2\nNode version: 5.7-14\nNode addr: 8C0F::ADE2::02EB::1DA7\nNet: stagenet\nRole: NODE_ROLE_ROOT\nEvents count: 0\nAtoms count: 0\nUplinks count: 0\nDownlinks count: 0\n-----------------------------------------------------------------\n\n' pattern='Node addr:\\s+([A-Fa-f0-9:]+)'
2025-12-15T04:26:08.402050Z [info     ] Step 2/28: StepGroup          
2025-12-15T04:26:08.402140Z [info     ] Step 1/2: CLIStep             
2025-12-15T04:26:08.402234Z [info     ] CLI: node add -addr 47A7::A4CC::0AFF::71DD -alias root-2 -host 172.20.0.11 -port 8079
2025-12-15T04:26:08.411076Z [info     ] exec_cli_command_debug         command_original='node add -addr 47A7::A4CC::0AFF::71DD -alias root-2 -host 172.20.0.11 -port 8079 -net stagenet' command_split=['node', 'add', '-addr', '47A7::A4CC::0AFF::71DD', '-alias', 'root-2', '-host', '172.20.0.11', '-port', '8079', '-net', 'stagenet'] container=cellframe-stage-node-1 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-1', 'sh', '-c', 'cellframe-node-cli node add -addr 47A7::A4CC::0AFF::71DD -alias root-2 -host 172.20.0.11 -port 8079 -net stagenet'] shell_cmd='cellframe-node-cli node add -addr 47A7::A4CC::0AFF::71DD -alias root-2 -host 172.20.0.11 -port 8079 -net stagenet'
2025-12-15T04:26:08.506948Z [info     ] Step 2/2: CLIStep             
2025-12-15T04:26:08.507112Z [info     ] CLI: node add -addr 8C0F::ADE2::02EB::1DA7 -alias root-3 -host 172.20.0.12 -port 8079
2025-12-15T04:26:08.516119Z [info     ] exec_cli_command_debug         command_original='node add -addr 8C0F::ADE2::02EB::1DA7 -alias root-3 -host 172.20.0.12 -port 8079 -net stagenet' command_split=['node', 'add', '-addr', '8C0F::ADE2::02EB::1DA7', '-alias', 'root-3', '-host', '172.20.0.12', '-port', '8079', '-net', 'stagenet'] container=cellframe-stage-node-1 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-1', 'sh', '-c', 'cellframe-node-cli node add -addr 8C0F::ADE2::02EB::1DA7 -alias root-3 -host 172.20.0.12 -port 8079 -net stagenet'] shell_cmd='cellframe-node-cli node add -addr 8C0F::ADE2::02EB::1DA7 -alias root-3 -host 172.20.0.12 -port 8079 -net stagenet'
2025-12-15T04:26:08.581912Z [info     ] Step 3/28: StepGroup          
2025-12-15T04:26:08.582083Z [info     ] Step 1/2: CLIStep             
2025-12-15T04:26:08.582147Z [info     ] CLI: node add -addr F0F7::21B7::FFE2::35AF -alias root-1 -host 172.20.0.10 -port 8079
2025-12-15T04:26:08.590158Z [info     ] exec_cli_command_debug         command_original='node add -addr F0F7::21B7::FFE2::35AF -alias root-1 -host 172.20.0.10 -port 8079 -net stagenet' command_split=['node', 'add', '-addr', 'F0F7::21B7::FFE2::35AF', '-alias', 'root-1', '-host', '172.20.0.10', '-port', '8079', '-net', 'stagenet'] container=cellframe-stage-node-2 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-2', 'sh', '-c', 'cellframe-node-cli node add -addr F0F7::21B7::FFE2::35AF -alias root-1 -host 172.20.0.10 -port 8079 -net stagenet'] shell_cmd='cellframe-node-cli node add -addr F0F7::21B7::FFE2::35AF -alias root-1 -host 172.20.0.10 -port 8079 -net stagenet'
2025-12-15T04:26:08.662552Z [info     ] Step 2/2: CLIStep             
2025-12-15T04:26:08.662710Z [info     ] CLI: node add -addr 8C0F::ADE2::02EB::1DA7 -alias root-3 -host 172.20.0.12 -port 8079
2025-12-15T04:26:08.670895Z [info     ] exec_cli_command_debug         command_original='node add -addr 8C0F::ADE2::02EB::1DA7 -alias root-3 -host 172.20.0.12 -port 8079 -net stagenet' command_split=['node', 'add', '-addr', '8C0F::ADE2::02EB::1DA7', '-alias', 'root-3', '-host', '172.20.0.12', '-port', '8079', '-net', 'stagenet'] container=cellframe-stage-node-2 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-2', 'sh', '-c', 'cellframe-node-cli node add -addr 8C0F::ADE2::02EB::1DA7 -alias root-3 -host 172.20.0.12 -port 8079 -net stagenet'] shell_cmd='cellframe-node-cli node add -addr 8C0F::ADE2::02EB::1DA7 -alias root-3 -host 172.20.0.12 -port 8079 -net stagenet'
2025-12-15T04:26:08.758461Z [info     ] Step 4/28: StepGroup          
2025-12-15T04:26:08.758629Z [info     ] Step 1/2: CLIStep             
2025-12-15T04:26:08.758690Z [info     ] CLI: node add -addr F0F7::21B7::FFE2::35AF -alias root-1 -host 172.20.0.10 -port 8079
2025-12-15T04:26:08.767189Z [info     ] exec_cli_command_debug         command_original='node add -addr F0F7::21B7::FFE2::35AF -alias root-1 -host 172.20.0.10 -port 8079 -net stagenet' command_split=['node', 'add', '-addr', 'F0F7::21B7::FFE2::35AF', '-alias', 'root-1', '-host', '172.20.0.10', '-port', '8079', '-net', 'stagenet'] container=cellframe-stage-node-3 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-3', 'sh', '-c', 'cellframe-node-cli node add -addr F0F7::21B7::FFE2::35AF -alias root-1 -host 172.20.0.10 -port 8079 -net stagenet'] shell_cmd='cellframe-node-cli node add -addr F0F7::21B7::FFE2::35AF -alias root-1 -host 172.20.0.10 -port 8079 -net stagenet'
2025-12-15T04:26:08.859243Z [info     ] Step 2/2: CLIStep             
2025-12-15T04:26:08.859413Z [info     ] CLI: node add -addr 47A7::A4CC::0AFF::71DD -alias root-2 -host 172.20.0.11 -port 8079
2025-12-15T04:26:08.867182Z [info     ] exec_cli_command_debug         command_original='node add -addr 47A7::A4CC::0AFF::71DD -alias root-2 -host 172.20.0.11 -port 8079 -net stagenet' command_split=['node', 'add', '-addr', '47A7::A4CC::0AFF::71DD', '-alias', 'root-2', '-host', '172.20.0.11', '-port', '8079', '-net', 'stagenet'] container=cellframe-stage-node-3 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-3', 'sh', '-c', 'cellframe-node-cli node add -addr 47A7::A4CC::0AFF::71DD -alias root-2 -host 172.20.0.11 -port 8079 -net stagenet'] shell_cmd='cellframe-node-cli node add -addr 47A7::A4CC::0AFF::71DD -alias root-2 -host 172.20.0.11 -port 8079 -net stagenet'
2025-12-15T04:26:08.935924Z [info     ] Step 5/28: DockerOpStep       
2025-12-15T04:26:08.936126Z [info     ] Docker operation: restart on services ['root-1', 'root-2', 'root-3']
2025-12-15T04:26:08.936190Z [info     ] restarting_services            services=['node-1', 'node-2', 'node-3']
2025-12-15T04:26:09.694965Z [info     ] services_restarted            
2025-12-15T04:26:09.695127Z [info     ] ✅ Docker operation 'restart' completed
2025-12-15T04:26:09.695187Z [info     ] Step 6/28: WaitStep           
2025-12-15T04:26:09.695248Z [info     ] Executing WaitStep. Dump: {'wait': '20s', 'datum': None, 'node': None, 'nodes': None, 'network': None, 'chain': None, 'timeout': 60, 'wallet': None, 'token': None, 'balance': None, 'check_master': True, 'expected_count': None}
2025-12-15T04:26:09.695295Z [info     ] Waiting 20s (20s)             
2025-12-15T04:26:27.419051Z [info     ] Step 7/28: WaitStep           
2025-12-15T04:26:27.419293Z [info     ] Executing WaitStep. Dump: {'wait': 'cli_ready', 'datum': None, 'node': None, 'nodes': ['root-1', 'root-2', 'root-3'], 'network': None, 'chain': None, 'timeout': 40, 'wallet': None, 'token': None, 'balance': None, 'check_master': True, 'expected_count': None}
2025-12-15T04:26:27.419376Z [info     ] Waiting for condition: cli_ready
2025-12-15T04:26:27.429662Z [info     ] exec_cli_command_debug         command_original='net -net stagenet get status' command_split=['net', '-net', 'stagenet', 'get', 'status'] container=cellframe-stage-node-1 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-1', 'sh', '-c', 'cellframe-node-cli net -net stagenet get status'] shell_cmd='cellframe-node-cli net -net stagenet get status'
2025-12-15T04:26:27.522242Z [info     ] exec_cli_command_debug         command_original='net -net stagenet get status' command_split=['net', '-net', 'stagenet', 'get', 'status'] container=cellframe-stage-node-2 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-2', 'sh', '-c', 'cellframe-node-cli net -net stagenet get status'] shell_cmd='cellframe-node-cli net -net stagenet get status'
2025-12-15T04:26:27.602396Z [info     ] exec_cli_command_debug         command_original='net -net stagenet get status' command_split=['net', '-net', 'stagenet', 'get', 'status'] container=cellframe-stage-node-3 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-3', 'sh', '-c', 'cellframe-node-cli net -net stagenet get status'] shell_cmd='cellframe-node-cli net -net stagenet get status'
2025-12-15T04:26:27.660367Z [info     ] ✅ Waiter 'cli_ready' completed
2025-12-15T04:26:27.660520Z [info     ] Step 8/28: WaitStep           
2025-12-15T04:26:27.660586Z [info     ] Executing WaitStep. Dump: {'wait': '45s', 'datum': None, 'node': None, 'nodes': None, 'network': None, 'chain': None, 'timeout': 60, 'wallet': None, 'token': None, 'balance': None, 'check_master': True, 'expected_count': None}
2025-12-15T04:26:27.660642Z [info     ] Waiting 45s (45s)             
2025-12-15T04:27:10.393296Z [info     ] Step 9/28: CLIStep            
2025-12-15T04:27:10.393515Z [info     ] CLI: wallet new -w fee_collector
2025-12-15T04:27:10.402834Z [info     ] exec_cli_command_debug         command_original='wallet new -w fee_collector -net stagenet' command_split=['wallet', 'new', '-w', 'fee_collector', '-net', 'stagenet'] container=cellframe-stage-node-1 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-1', 'sh', '-c', 'cellframe-node-cli wallet new -w fee_collector -net stagenet'] shell_cmd='cellframe-node-cli wallet new -w fee_collector -net stagenet'
2025-12-15T04:27:10.479998Z [info     ] Step 10/28: CLIStep           
2025-12-15T04:27:10.480151Z [info     ] CLI: wallet info -w fee_collector
2025-12-15T04:27:10.489980Z [info     ] exec_cli_command_debug         command_original='wallet info -w fee_collector -net stagenet' command_split=['wallet', 'info', '-w', 'fee_collector', '-net', 'stagenet'] container=cellframe-stage-node-1 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-1', 'sh', '-c', 'cellframe-node-cli wallet info -w fee_collector -net stagenet'] shell_cmd='cellframe-node-cli wallet info -w fee_collector -net stagenet'
2025-12-15T04:27:10.554793Z [info     ] Step 11/28: StepGroup         
2025-12-15T04:27:10.554963Z [info     ] Step 1/15: CLIStep            
2025-12-15T04:27:10.555015Z [info     ] CLI: token_decl -token TCELL -chain zerochain -total_supply 1000000.0e+18 -decimals 18 -signs_emission 2 -signs_total 3 -certs pvt.stagenet.root.0,pvt.stagenet.root.1,pvt.stagenet.root.2
2025-12-15T04:27:10.564549Z [info     ] exec_cli_command_debug         command_original='token_decl -token TCELL -chain zerochain -total_supply 1000000.0e+18 -decimals 18 -signs_emission 2 -signs_total 3 -certs pvt.stagenet.root.0,pvt.stagenet.root.1,pvt.stagenet.root.2 -net stagenet' command_split=['token_decl', '-token', 'TCELL', '-chain', 'zerochain', '-total_supply', '1000000.0e+18', '-decimals', '18', '-signs_emission', '2', '-signs_total', '3', '-certs', 'pvt.stagenet.root.0,pvt.stagenet.root.1,pvt.stagenet.root.2', '-net', 'stagenet'] container=cellframe-stage-node-1 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-1', 'sh', '-c', 'cellframe-node-cli token_decl -token TCELL -chain zerochain -total_supply 1000000.0e+18 -decimals 18 -signs_emission 2 -signs_total 3 -certs pvt.stagenet.root.0,pvt.stagenet.root.1,pvt.stagenet.root.2 -net stagenet'] shell_cmd='cellframe-node-cli token_decl -token TCELL -chain zerochain -total_supply 1000000.0e+18 -decimals 18 -signs_emission 2 -signs_total 3 -certs pvt.stagenet.root.0,pvt.stagenet.root.1,pvt.stagenet.root.2 -net stagenet'
2025-12-15T04:27:10.625460Z [info     ] Step 2/15: WaitStep           
2025-12-15T04:27:10.625625Z [info     ] Executing WaitStep. Dump: {'wait': '3s', 'datum': None, 'node': None, 'nodes': None, 'network': None, 'chain': None, 'timeout': 60, 'wallet': None, 'token': None, 'balance': None, 'check_master': True, 'expected_count': None}
2025-12-15T04:27:10.625689Z [info     ] Waiting 3s (3s)               
2025-12-15T04:27:13.794440Z [info     ] Step 3/15: CLIStep            
2025-12-15T04:27:13.794675Z [info     ] CLI: mempool proc -net stagenet -chain zerochain -datum 0xD87013E0D791269F7B4B5AA28F2B746A7BAC5553BA8D1A7FDB6629AC6B9EA8F4
2025-12-15T04:27:13.805310Z [info     ] exec_cli_command_debug         command_original='mempool proc -net stagenet -chain zerochain -datum 0xD87013E0D791269F7B4B5AA28F2B746A7BAC5553BA8D1A7FDB6629AC6B9EA8F4' command_split=['mempool', 'proc', '-net', 'stagenet', '-chain', 'zerochain', '-datum', '0xD87013E0D791269F7B4B5AA28F2B746A7BAC5553BA8D1A7FDB6629AC6B9EA8F4'] container=cellframe-stage-node-1 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-1', 'sh', '-c', 'cellframe-node-cli mempool proc -net stagenet -chain zerochain -datum 0xD87013E0D791269F7B4B5AA28F2B746A7BAC5553BA8D1A7FDB6629AC6B9EA8F4'] shell_cmd='cellframe-node-cli mempool proc -net stagenet -chain zerochain -datum 0xD87013E0D791269F7B4B5AA28F2B746A7BAC5553BA8D1A7FDB6629AC6B9EA8F4'
2025-12-15T04:27:13.884560Z [info     ] Step 4/15: WaitStep           
2025-12-15T04:27:13.884720Z [info     ] Executing WaitStep. Dump: {'wait': '2s', 'datum': None, 'node': None, 'nodes': None, 'network': None, 'chain': None, 'timeout': 60, 'wallet': None, 'token': None, 'balance': None, 'check_master': True, 'expected_count': None}
2025-12-15T04:27:13.884780Z [info     ] Waiting 2s (2s)               
2025-12-15T04:27:15.914125Z [info     ] Step 5/15: WaitStep           
2025-12-15T04:27:15.914341Z [info     ] Executing WaitStep. Dump: {'wait': '30s', 'datum': None, 'node': None, 'nodes': None, 'network': None, 'chain': None, 'timeout': 60, 'wallet': None, 'token': None, 'balance': None, 'check_master': True, 'expected_count': None}
2025-12-15T04:27:15.914410Z [info     ] Waiting 30s (30s)             
2025-12-15T04:27:43.615447Z [info     ] Step 6/15: CLIStep            
2025-12-15T04:27:43.615669Z [info     ] CLI: token list               
2025-12-15T04:27:43.625174Z [info     ] exec_cli_command_debug         command_original='token list -net stagenet' command_split=['token', 'list', '-net', 'stagenet'] container=cellframe-stage-node-1 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-1', 'sh', '-c', 'cellframe-node-cli token list -net stagenet'] shell_cmd='cellframe-node-cli token list -net stagenet'
2025-12-15T04:27:43.695901Z [info     ] Step 7/15: CLIStep            
2025-12-15T04:27:43.696055Z [info     ] CLI: global_db flush          
2025-12-15T04:27:43.704171Z [info     ] exec_cli_command_debug         command_original='global_db flush' command_split=['global_db', 'flush'] container=cellframe-stage-node-1 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-1', 'sh', '-c', 'cellframe-node-cli global_db flush'] shell_cmd='cellframe-node-cli global_db flush'
2025-12-15T04:27:43.775310Z [info     ] Step 8/15: WaitStep           
2025-12-15T04:27:43.775475Z [info     ] Executing WaitStep. Dump: {'wait': '5s', 'datum': None, 'node': None, 'nodes': None, 'network': None, 'chain': None, 'timeout': 60, 'wallet': None, 'token': None, 'balance': None, 'check_master': True, 'expected_count': None}
2025-12-15T04:27:43.775534Z [info     ] Waiting 5s (5s)               
2025-12-15T04:27:48.777438Z [info     ] Step 9/15: CLIStep            
2025-12-15T04:27:48.777744Z [info     ] CLI: token_emit -chain zerochain -token TCELL -emission_value 1000000.0e+18 -addr WkojSeUjApyYYy5XCRFvm1xpa917UxssvxV8J8KT7N72eP2p5nr8HZqsF4afb113bGreYoHTiTxrVKJ5nDsohGiHx3oqt7q3xR2qed5L -certs pvt.stagenet.root.0,pvt.stagenet.root.1,pvt.stagenet.root.2
2025-12-15T04:27:48.787932Z [info     ] exec_cli_command_debug         command_original='token_emit -chain zerochain -token TCELL -emission_value 1000000.0e+18 -addr WkojSeUjApyYYy5XCRFvm1xpa917UxssvxV8J8KT7N72eP2p5nr8HZqsF4afb113bGreYoHTiTxrVKJ5nDsohGiHx3oqt7q3xR2qed5L -certs pvt.stagenet.root.0,pvt.stagenet.root.1,pvt.stagenet.root.2 -net stagenet' command_split=['token_emit', '-chain', 'zerochain', '-token', 'TCELL', '-emission_value', '1000000.0e+18', '-addr', 'WkojSeUjApyYYy5XCRFvm1xpa917UxssvxV8J8KT7N72eP2p5nr8HZqsF4afb113bGreYoHTiTxrVKJ5nDsohGiHx3oqt7q3xR2qed5L', '-certs', 'pvt.stagenet.root.0,pvt.stagenet.root.1,pvt.stagenet.root.2', '-net', 'stagenet'] container=cellframe-stage-node-1 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-1', 'sh', '-c', 'cellframe-node-cli token_emit -chain zerochain -token TCELL -emission_value 1000000.0e+18 -addr WkojSeUjApyYYy5XCRFvm1xpa917UxssvxV8J8KT7N72eP2p5nr8HZqsF4afb113bGreYoHTiTxrVKJ5nDsohGiHx3oqt7q3xR2qed5L -certs pvt.stagenet.root.0,pvt.stagenet.root.1,pvt.stagenet.root.2 -net stagenet'] shell_cmd='cellframe-node-cli token_emit -chain zerochain -token TCELL -emission_value 1000000.0e+18 -addr WkojSeUjApyYYy5XCRFvm1xpa917UxssvxV8J8KT7N72eP2p5nr8HZqsF4afb113bGreYoHTiTxrVKJ5nDsohGiHx3oqt7q3xR2qed5L -certs pvt.stagenet.root.0,pvt.stagenet.root.1,pvt.stagenet.root.2 -net stagenet'
2025-12-15T04:27:48.851579Z [info     ] Step 10/15: WaitStep          
2025-12-15T04:27:48.851738Z [info     ] Executing WaitStep. Dump: {'wait': '5s', 'datum': None, 'node': None, 'nodes': None, 'network': None, 'chain': None, 'timeout': 60, 'wallet': None, 'token': None, 'balance': None, 'check_master': True, 'expected_count': None}
2025-12-15T04:27:48.851792Z [info     ] Waiting 5s (5s)               
2025-12-15T04:27:51.571924Z [info     ] Step 11/15: CLIStep           
2025-12-15T04:27:51.572171Z [info     ] CLI: mempool proc -net stagenet -chain zerochain -datum 0x685CCE2DF65DB7C61D25C30801D5E6CDCF6791E31827B0129FAE788E15FFCD75
2025-12-15T04:27:51.581940Z [info     ] exec_cli_command_debug         command_original='mempool proc -net stagenet -chain zerochain -datum 0x685CCE2DF65DB7C61D25C30801D5E6CDCF6791E31827B0129FAE788E15FFCD75' command_split=['mempool', 'proc', '-net', 'stagenet', '-chain', 'zerochain', '-datum', '0x685CCE2DF65DB7C61D25C30801D5E6CDCF6791E31827B0129FAE788E15FFCD75'] container=cellframe-stage-node-1 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-1', 'sh', '-c', 'cellframe-node-cli mempool proc -net stagenet -chain zerochain -datum 0x685CCE2DF65DB7C61D25C30801D5E6CDCF6791E31827B0129FAE788E15FFCD75'] shell_cmd='cellframe-node-cli mempool proc -net stagenet -chain zerochain -datum 0x685CCE2DF65DB7C61D25C30801D5E6CDCF6791E31827B0129FAE788E15FFCD75'
2025-12-15T04:27:51.649849Z [info     ] Step 12/15: WaitStep          
2025-12-15T04:27:51.650051Z [info     ] Executing WaitStep. Dump: {'wait': '5s', 'datum': None, 'node': None, 'nodes': None, 'network': None, 'chain': None, 'timeout': 60, 'wallet': None, 'token': None, 'balance': None, 'check_master': True, 'expected_count': None}
2025-12-15T04:27:51.650136Z [info     ] Waiting 5s (5s)               
2025-12-15T04:27:56.655802Z [info     ] Step 13/15: WaitStep          
2025-12-15T04:27:56.656054Z [info     ] Executing WaitStep. Dump: {'wait': '45s', 'datum': None, 'node': None, 'nodes': None, 'network': None, 'chain': None, 'timeout': 60, 'wallet': None, 'token': None, 'balance': None, 'check_master': True, 'expected_count': None}
2025-12-15T04:27:56.656123Z [info     ] Waiting 45s (45s)             
2025-12-15T04:28:39.475087Z [info     ] Step 14/15: CLIStep           
2025-12-15T04:28:39.475311Z [info     ] CLI: dag event list -chain zerochain
2025-12-15T04:28:39.485551Z [info     ] exec_cli_command_debug         command_original='dag event list -chain zerochain -net stagenet' command_split=['dag', 'event', 'list', '-chain', 'zerochain', '-net', 'stagenet'] container=cellframe-stage-node-1 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-1', 'sh', '-c', 'cellframe-node-cli dag event list -chain zerochain -net stagenet'] shell_cmd='cellframe-node-cli dag event list -chain zerochain -net stagenet'
2025-12-15T04:28:39.558816Z [info     ] Step 15/15: CLIStep           
2025-12-15T04:28:39.558969Z [info     ] CLI: dag event find -chain zerochain -datum 0xD87013E0D791269F7B4B5AA28F2B746A7BAC5553BA8D1A7FDB6629AC6B9EA8F4
2025-12-15T04:28:39.568280Z [info     ] exec_cli_command_debug         command_original='dag event find -chain zerochain -datum 0xD87013E0D791269F7B4B5AA28F2B746A7BAC5553BA8D1A7FDB6629AC6B9EA8F4 -net stagenet' command_split=['dag', 'event', 'find', '-chain', 'zerochain', '-datum', '0xD87013E0D791269F7B4B5AA28F2B746A7BAC5553BA8D1A7FDB6629AC6B9EA8F4', '-net', 'stagenet'] container=cellframe-stage-node-1 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-1', 'sh', '-c', 'cellframe-node-cli dag event find -chain zerochain -datum 0xD87013E0D791269F7B4B5AA28F2B746A7BAC5553BA8D1A7FDB6629AC6B9EA8F4 -net stagenet'] shell_cmd='cellframe-node-cli dag event find -chain zerochain -datum 0xD87013E0D791269F7B4B5AA28F2B746A7BAC5553BA8D1A7FDB6629AC6B9EA8F4 -net stagenet'
2025-12-15T04:28:39.626429Z [info     ] Step 12/28: ConfigStep (cellframe-node)
2025-12-15T04:28:39.626606Z [info     ] Config: regenerating 'cellframe-node' for nodes [1, 2, 3] with vars ['seed_mode']
2025-12-15T04:28:39.627596Z [info     ] cert_generator_initialized     certs_dir=/home/olzh/demlabs/second/cellframe-node/tests/stage-env/cache/certs docker_mode=True
2025-12-15T04:28:39.629057Z [info     ] Regenerated cellframe-node.cfg for node 1
2025-12-15T04:28:39.629321Z [info     ] Regenerated cellframe-node.cfg for node 2
2025-12-15T04:28:39.629516Z [info     ] Regenerated cellframe-node.cfg for node 3
2025-12-15T04:28:39.629583Z [info     ] Step 13/28: ConfigStep (stagenet/zerochain)
2025-12-15T04:28:39.629651Z [info     ] Config: regenerating 'stagenet/zerochain' for nodes [1, 2, 3] with vars ['static_genesis_event', 'is_static_genesis_event']
2025-12-15T04:28:39.630449Z [info     ] cert_generator_initialized     certs_dir=/home/olzh/demlabs/second/cellframe-node/tests/stage-env/cache/certs docker_mode=True
2025-12-15T04:28:39.631752Z [info     ] Regenerated zerochain.cfg for node 1
2025-12-15T04:28:39.631966Z [info     ] Regenerated zerochain.cfg for node 2
2025-12-15T04:28:39.632147Z [info     ] Regenerated zerochain.cfg for node 3
2025-12-15T04:28:39.632213Z [info     ] Step 14/28: DockerOpStep      
2025-12-15T04:28:39.632282Z [info     ] Docker operation: restart on services ['root-1', 'root-2', 'root-3']
2025-12-15T04:28:39.632371Z [info     ] restarting_services            services=['node-1', 'node-2', 'node-3']
2025-12-15T04:28:40.369075Z [info     ] services_restarted            
2025-12-15T04:28:40.369348Z [info     ] ✅ Docker operation 'restart' completed
2025-12-15T04:28:40.369501Z [info     ] Step 15/28: NetworkWaitStep   
2025-12-15T04:28:40.369626Z [info     ] Waiting for network state: online on nodes ['root-1', 'root-2', 'root-3']
2025-12-15T04:28:40.369726Z [info     ] waiting_for_nodes_online       node_count=3 timeout=60
2025-12-15T04:28:44.897558Z [info     ] all_nodes_online               count=3 elapsed=6.7s
2025-12-15T04:28:44.897709Z [info     ] ✅ Network state 'online' achieved
2025-12-15T04:28:44.897775Z [info     ] Step 16/28: WaitStep          
2025-12-15T04:28:44.897829Z [info     ] Executing WaitStep. Dump: {'wait': '15s', 'datum': None, 'node': None, 'nodes': None, 'network': None, 'chain': None, 'timeout': 60, 'wallet': None, 'token': None, 'balance': None, 'check_master': True, 'expected_count': None}
2025-12-15T04:28:44.897871Z [info     ] Waiting 15s (15s)             
2025-12-15T04:28:59.915933Z [info     ] Step 17/28: ConfigStep (cellframe-node)
2025-12-15T04:28:59.916171Z [info     ] Config: regenerating 'cellframe-node' for nodes [4, 5, 6] with vars ['seed_mode']
2025-12-15T04:28:59.917298Z [info     ] cert_generator_initialized     certs_dir=/home/olzh/demlabs/second/cellframe-node/tests/stage-env/cache/certs docker_mode=True
2025-12-15T04:28:59.918655Z [info     ] Regenerated cellframe-node.cfg for node 4
2025-12-15T04:28:59.918929Z [info     ] Regenerated cellframe-node.cfg for node 5
2025-12-15T04:28:59.919166Z [info     ] Regenerated cellframe-node.cfg for node 6
2025-12-15T04:28:59.919249Z [info     ] Step 18/28: ConfigStep (stagenet/zerochain)
2025-12-15T04:28:59.919326Z [info     ] Config: regenerating 'stagenet/zerochain' for nodes [4, 5, 6] with vars ['static_genesis_event', 'is_static_genesis_event']
2025-12-15T04:28:59.920269Z [info     ] cert_generator_initialized     certs_dir=/home/olzh/demlabs/second/cellframe-node/tests/stage-env/cache/certs docker_mode=True
2025-12-15T04:28:59.921680Z [info     ] Regenerated zerochain.cfg for node 4
2025-12-15T04:28:59.921900Z [info     ] Regenerated zerochain.cfg for node 5
2025-12-15T04:28:59.922070Z [info     ] Regenerated zerochain.cfg for node 6
2025-12-15T04:28:59.922132Z [info     ] Step 19/28: DockerOpStep      
2025-12-15T04:28:59.922192Z [info     ] Docker operation: start on services ['master-1', 'master-2', 'master-3']
2025-12-15T04:28:59.922239Z [info     ] starting_services              services=['node-4', 'node-5', 'node-6']
2025-12-15T04:29:00.505344Z [info     ] services_started              
2025-12-15T04:29:00.505559Z [info     ] waiting_for_container_ips      containers=['cellframe-stage-node-4', 'cellframe-stage-node-5', 'cellframe-stage-node-6']
2025-12-15T04:29:00.505629Z [info     ] waiting_for_container_ips      containers=['cellframe-stage-node-5', 'cellframe-stage-node-4', 'cellframe-stage-node-6'] timeout=30.0
2025-12-15T04:29:00.518754Z [info     ] all_containers_have_ips        count=3 elapsed=0.0
2025-12-15T04:29:00.518915Z [info     ] ✅ All containers have IP addresses count=3
2025-12-15T04:29:00.519043Z [info     ] ✅ Docker operation 'start' completed
2025-12-15T04:29:00.519124Z [info     ] Step 20/28: NetworkWaitStep   
2025-12-15T04:29:00.519191Z [info     ] Waiting for network state: online on nodes ['master-1', 'master-2', 'master-3']
2025-12-15T04:29:00.519274Z [info     ] waiting_for_nodes_online       node_count=3 timeout=60
2025-12-15T04:29:07.481896Z [info     ] all_nodes_online               count=3 elapsed=6.8s
2025-12-15T04:29:07.482051Z [info     ] ✅ Network state 'online' achieved
2025-12-15T04:29:07.482112Z [info     ] Step 21/28: WaitStep          
2025-12-15T04:29:07.482167Z [info     ] Executing WaitStep. Dump: {'wait': '30s', 'datum': None, 'node': None, 'nodes': None, 'network': None, 'chain': None, 'timeout': 60, 'wallet': None, 'token': None, 'balance': None, 'check_master': True, 'expected_count': None}
2025-12-15T04:29:07.482215Z [info     ] Waiting 30s (30s)             
2025-12-15T04:29:35.208205Z [info     ] Step 22/28: WaitStep          
2025-12-15T04:29:35.208563Z [info     ] Executing WaitStep. Dump: {'wait': '60s', 'datum': None, 'node': None, 'nodes': None, 'network': None, 'chain': None, 'timeout': 60, 'wallet': None, 'token': None, 'balance': None, 'check_master': True, 'expected_count': None}
2025-12-15T04:29:35.208706Z [info     ] Waiting 60s (60s)             
2025-12-15T04:30:30.667386Z [info     ] Step 23/28: WaitStep          
2025-12-15T04:30:30.667646Z [info     ] Executing WaitStep. Dump: {'wait': 'cli_ready', 'datum': None, 'node': None, 'nodes': ['root-1', 'root-2', 'root-3', 'master-1', 'master-2', 'master-3'], 'network': None, 'chain': None, 'timeout': 40, 'wallet': None, 'token': None, 'balance': None, 'check_master': True, 'expected_count': None}
2025-12-15T04:30:30.667741Z [info     ] Waiting for condition: cli_ready
2025-12-15T04:30:30.678480Z [info     ] exec_cli_command_debug         command_original='net -net stagenet get status' command_split=['net', '-net', 'stagenet', 'get', 'status'] container=cellframe-stage-node-1 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-1', 'sh', '-c', 'cellframe-node-cli net -net stagenet get status'] shell_cmd='cellframe-node-cli net -net stagenet get status'
2025-12-15T04:30:30.747515Z [info     ] exec_cli_command_debug         command_original='net -net stagenet get status' command_split=['net', '-net', 'stagenet', 'get', 'status'] container=cellframe-stage-node-2 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-2', 'sh', '-c', 'cellframe-node-cli net -net stagenet get status'] shell_cmd='cellframe-node-cli net -net stagenet get status'
2025-12-15T04:30:30.829939Z [info     ] exec_cli_command_debug         command_original='net -net stagenet get status' command_split=['net', '-net', 'stagenet', 'get', 'status'] container=cellframe-stage-node-3 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-3', 'sh', '-c', 'cellframe-node-cli net -net stagenet get status'] shell_cmd='cellframe-node-cli net -net stagenet get status'
2025-12-15T04:30:30.915999Z [info     ] exec_cli_command_debug         command_original='net -net stagenet get status' command_split=['net', '-net', 'stagenet', 'get', 'status'] container=cellframe-stage-node-4 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-4', 'sh', '-c', 'cellframe-node-cli net -net stagenet get status'] shell_cmd='cellframe-node-cli net -net stagenet get status'
2025-12-15T04:30:31.012478Z [info     ] exec_cli_command_debug         command_original='net -net stagenet get status' command_split=['net', '-net', 'stagenet', 'get', 'status'] container=cellframe-stage-node-5 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-5', 'sh', '-c', 'cellframe-node-cli net -net stagenet get status'] shell_cmd='cellframe-node-cli net -net stagenet get status'
2025-12-15T04:30:31.082231Z [info     ] exec_cli_command_debug         command_original='net -net stagenet get status' command_split=['net', '-net', 'stagenet', 'get', 'status'] container=cellframe-stage-node-6 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-6', 'sh', '-c', 'cellframe-node-cli net -net stagenet get status'] shell_cmd='cellframe-node-cli net -net stagenet get status'
2025-12-15T04:30:31.142252Z [info     ] ✅ Waiter 'cli_ready' completed
2025-12-15T04:30:31.142410Z [info     ] Step 24/28: StepGroup         
2025-12-15T04:30:31.142480Z [info     ] Step 1/4: LoopStep            
2025-12-15T04:30:31.142550Z [info     ] Starting loop: 3 iterations   
2025-12-15T04:30:31.142606Z [info     ] Step 1/2: SetStep             
2025-12-15T04:30:31.142682Z [info     ] Set variable 'node_name' = root-1
2025-12-15T04:30:31.142720Z [info     ] Step 2/2: CLIStep             
2025-12-15T04:30:31.142751Z [info     ] CLI: global_db sync -net stagenet
2025-12-15T04:30:31.151011Z [info     ] exec_cli_command_debug         command_original='global_db sync -net stagenet' command_split=['global_db', 'sync', '-net', 'stagenet'] container=cellframe-stage-node-1 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-1', 'sh', '-c', 'cellframe-node-cli global_db sync -net stagenet'] shell_cmd='cellframe-node-cli global_db sync -net stagenet'
2025-12-15T04:30:31.218480Z [info     ] Step 1/2: SetStep             
2025-12-15T04:30:31.218644Z [info     ] Set variable 'node_name' = root-2
2025-12-15T04:30:31.218690Z [info     ] Step 2/2: CLIStep             
2025-12-15T04:30:31.218724Z [info     ] CLI: global_db sync -net stagenet
2025-12-15T04:30:31.227021Z [info     ] exec_cli_command_debug         command_original='global_db sync -net stagenet' command_split=['global_db', 'sync', '-net', 'stagenet'] container=cellframe-stage-node-2 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-2', 'sh', '-c', 'cellframe-node-cli global_db sync -net stagenet'] shell_cmd='cellframe-node-cli global_db sync -net stagenet'
2025-12-15T04:30:31.285582Z [info     ] Step 1/2: SetStep             
2025-12-15T04:30:31.285735Z [info     ] Set variable 'node_name' = root-3
2025-12-15T04:30:31.285780Z [info     ] Step 2/2: CLIStep             
2025-12-15T04:30:31.285811Z [info     ] CLI: global_db sync -net stagenet
2025-12-15T04:30:31.293289Z [info     ] exec_cli_command_debug         command_original='global_db sync -net stagenet' command_split=['global_db', 'sync', '-net', 'stagenet'] container=cellframe-stage-node-3 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-3', 'sh', '-c', 'cellframe-node-cli global_db sync -net stagenet'] shell_cmd='cellframe-node-cli global_db sync -net stagenet'
2025-12-15T04:30:31.382395Z [info     ] Step 2/4: WaitStep            
2025-12-15T04:30:31.382556Z [info     ] Executing WaitStep. Dump: {'wait': '5s', 'datum': None, 'node': None, 'nodes': None, 'network': None, 'chain': None, 'timeout': 60, 'wallet': None, 'token': None, 'balance': None, 'check_master': True, 'expected_count': None}
2025-12-15T04:30:31.382618Z [info     ] Waiting 5s (5s)               
2025-12-15T04:30:34.097148Z [info     ] Step 3/4: LoopStep            
2025-12-15T04:30:34.097365Z [info     ] Starting loop: 3 iterations   
2025-12-15T04:30:34.097420Z [info     ] Step 1/2: SetStep             
2025-12-15T04:30:34.097462Z [info     ] Set variable 'node_name' = root-1
2025-12-15T04:30:34.097555Z [info     ] Step 2/2: CLIStep             
2025-12-15T04:30:34.097648Z [info     ] CLI: mempool proc -net stagenet -chain zerochain
2025-12-15T04:30:34.112009Z [info     ] exec_cli_command_debug         command_original='mempool proc -net stagenet -chain zerochain' command_split=['mempool', 'proc', '-net', 'stagenet', '-chain', 'zerochain'] container=cellframe-stage-node-1 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-1', 'sh', '-c', 'cellframe-node-cli mempool proc -net stagenet -chain zerochain'] shell_cmd='cellframe-node-cli mempool proc -net stagenet -chain zerochain'
2025-12-15T04:30:34.173407Z [info     ] Step 1/2: SetStep             
2025-12-15T04:30:34.173568Z [info     ] Set variable 'node_name' = root-2
2025-12-15T04:30:34.173613Z [info     ] Step 2/2: CLIStep             
2025-12-15T04:30:34.173646Z [info     ] CLI: mempool proc -net stagenet -chain zerochain
2025-12-15T04:30:34.182006Z [info     ] exec_cli_command_debug         command_original='mempool proc -net stagenet -chain zerochain' command_split=['mempool', 'proc', '-net', 'stagenet', '-chain', 'zerochain'] container=cellframe-stage-node-2 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-2', 'sh', '-c', 'cellframe-node-cli mempool proc -net stagenet -chain zerochain'] shell_cmd='cellframe-node-cli mempool proc -net stagenet -chain zerochain'
2025-12-15T04:30:34.245929Z [info     ] Step 1/2: SetStep             
2025-12-15T04:30:34.246090Z [info     ] Set variable 'node_name' = root-3
2025-12-15T04:30:34.246134Z [info     ] Step 2/2: CLIStep             
2025-12-15T04:30:34.246166Z [info     ] CLI: mempool proc -net stagenet -chain zerochain
2025-12-15T04:30:34.254416Z [info     ] exec_cli_command_debug         command_original='mempool proc -net stagenet -chain zerochain' command_split=['mempool', 'proc', '-net', 'stagenet', '-chain', 'zerochain'] container=cellframe-stage-node-3 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-3', 'sh', '-c', 'cellframe-node-cli mempool proc -net stagenet -chain zerochain'] shell_cmd='cellframe-node-cli mempool proc -net stagenet -chain zerochain'
2025-12-15T04:30:34.305140Z [info     ] Step 4/4: WaitStep            
2025-12-15T04:30:34.305298Z [info     ] Executing WaitStep. Dump: {'wait': '5s', 'datum': None, 'node': None, 'nodes': None, 'network': None, 'chain': None, 'timeout': 60, 'wallet': None, 'token': None, 'balance': None, 'check_master': True, 'expected_count': None}
2025-12-15T04:30:34.305364Z [info     ] Waiting 5s (5s)               
2025-12-15T04:30:39.323766Z [info     ] Step 25/28: WaitStep          
2025-12-15T04:30:39.323995Z [info     ] Executing WaitStep. Dump: {'wait': '10s', 'datum': None, 'node': None, 'nodes': None, 'network': None, 'chain': None, 'timeout': 60, 'wallet': None, 'token': None, 'balance': None, 'check_master': True, 'expected_count': None}
2025-12-15T04:30:39.324063Z [info     ] Waiting 10s (10s)             
2025-12-15T04:30:49.348929Z [info     ] Step 26/28: StepGroup         
2025-12-15T04:30:49.349188Z [info     ] Step 1/1: LoopStep            
2025-12-15T04:30:49.349241Z [info     ] Starting loop: 3 iterations   
2025-12-15T04:30:49.349284Z [info     ] Step 1/5: SetStep             
2025-12-15T04:30:49.349327Z [info     ] Set variable 'master_idx' = 0 
2025-12-15T04:30:49.349359Z [info     ] Step 2/5: SetStep             
2025-12-15T04:30:49.349406Z [info     ] Set variable 'master_node' = master-1
2025-12-15T04:30:49.349447Z [info     ] Step 3/5: SetStep             
2025-12-15T04:30:49.349476Z [info     ] Set variable 'wallet_name' = stagenet_master_0
2025-12-15T04:30:49.349503Z [info     ] Step 4/5: CLIStep             
2025-12-15T04:30:49.349531Z [info     ] CLI: wallet new -w stagenet_master_0
2025-12-15T04:30:49.359943Z [info     ] exec_cli_command_debug         command_original='wallet new -w stagenet_master_0 -net stagenet' command_split=['wallet', 'new', '-w', 'stagenet_master_0', '-net', 'stagenet'] container=cellframe-stage-node-4 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-4', 'sh', '-c', 'cellframe-node-cli wallet new -w stagenet_master_0 -net stagenet'] shell_cmd='cellframe-node-cli wallet new -w stagenet_master_0 -net stagenet'
2025-12-15T04:30:49.422485Z [info     ] Step 5/5: CLIStep             
2025-12-15T04:30:49.422641Z [info     ] CLI: wallet info -w stagenet_master_0 -net stagenet
2025-12-15T04:30:49.431910Z [info     ] exec_cli_command_debug         command_original='wallet info -w stagenet_master_0 -net stagenet' command_split=['wallet', 'info', '-w', 'stagenet_master_0', '-net', 'stagenet'] container=cellframe-stage-node-4 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-4', 'sh', '-c', 'cellframe-node-cli wallet info -w stagenet_master_0 -net stagenet'] shell_cmd='cellframe-node-cli wallet info -w stagenet_master_0 -net stagenet'
2025-12-15T04:30:49.498221Z [info     ] Step 1/5: SetStep             
2025-12-15T04:30:49.498374Z [info     ] Set variable 'master_idx' = 1 
2025-12-15T04:30:49.498420Z [info     ] Step 2/5: SetStep             
2025-12-15T04:30:49.498455Z [info     ] Set variable 'master_node' = master-2
2025-12-15T04:30:49.498482Z [info     ] Step 3/5: SetStep             
2025-12-15T04:30:49.498509Z [info     ] Set variable 'wallet_name' = stagenet_master_1
2025-12-15T04:30:49.498534Z [info     ] Step 4/5: CLIStep             
2025-12-15T04:30:49.498576Z [info     ] CLI: wallet new -w stagenet_master_1
2025-12-15T04:30:49.506551Z [info     ] exec_cli_command_debug         command_original='wallet new -w stagenet_master_1 -net stagenet' command_split=['wallet', 'new', '-w', 'stagenet_master_1', '-net', 'stagenet'] container=cellframe-stage-node-5 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-5', 'sh', '-c', 'cellframe-node-cli wallet new -w stagenet_master_1 -net stagenet'] shell_cmd='cellframe-node-cli wallet new -w stagenet_master_1 -net stagenet'
2025-12-15T04:30:49.562078Z [info     ] Step 5/5: CLIStep             
2025-12-15T04:30:49.562230Z [info     ] CLI: wallet info -w stagenet_master_1 -net stagenet
2025-12-15T04:30:49.570067Z [info     ] exec_cli_command_debug         command_original='wallet info -w stagenet_master_1 -net stagenet' command_split=['wallet', 'info', '-w', 'stagenet_master_1', '-net', 'stagenet'] container=cellframe-stage-node-5 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-5', 'sh', '-c', 'cellframe-node-cli wallet info -w stagenet_master_1 -net stagenet'] shell_cmd='cellframe-node-cli wallet info -w stagenet_master_1 -net stagenet'
2025-12-15T04:30:49.649574Z [info     ] Step 1/5: SetStep             
2025-12-15T04:30:49.649846Z [info     ] Set variable 'master_idx' = 2 
2025-12-15T04:30:49.649950Z [info     ] Step 2/5: SetStep             
2025-12-15T04:30:49.650058Z [info     ] Set variable 'master_node' = master-3
2025-12-15T04:30:49.650112Z [info     ] Step 3/5: SetStep             
2025-12-15T04:30:49.650148Z [info     ] Set variable 'wallet_name' = stagenet_master_2
2025-12-15T04:30:49.650176Z [info     ] Step 4/5: CLIStep             
2025-12-15T04:30:49.650204Z [info     ] CLI: wallet new -w stagenet_master_2
2025-12-15T04:30:49.658199Z [info     ] exec_cli_command_debug         command_original='wallet new -w stagenet_master_2 -net stagenet' command_split=['wallet', 'new', '-w', 'stagenet_master_2', '-net', 'stagenet'] container=cellframe-stage-node-6 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-6', 'sh', '-c', 'cellframe-node-cli wallet new -w stagenet_master_2 -net stagenet'] shell_cmd='cellframe-node-cli wallet new -w stagenet_master_2 -net stagenet'
2025-12-15T04:30:49.718624Z [info     ] Step 5/5: CLIStep             
2025-12-15T04:30:49.718785Z [info     ] CLI: wallet info -w stagenet_master_2 -net stagenet
2025-12-15T04:30:49.727305Z [info     ] exec_cli_command_debug         command_original='wallet info -w stagenet_master_2 -net stagenet' command_split=['wallet', 'info', '-w', 'stagenet_master_2', '-net', 'stagenet'] container=cellframe-stage-node-6 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-6', 'sh', '-c', 'cellframe-node-cli wallet info -w stagenet_master_2 -net stagenet'] shell_cmd='cellframe-node-cli wallet info -w stagenet_master_2 -net stagenet'
2025-12-15T04:30:49.813545Z [info     ] Step 27/28: ConfigStep ({{network_name}}/zerochain)
2025-12-15T04:30:49.813710Z [info     ] Config: regenerating '{{network_name}}/zerochain' for nodes [1, 2, 3, 4, 5, 6] with vars ['static_genesis_event', 'is_static_genesis_event']
2025-12-15T04:30:49.814593Z [info     ] cert_generator_initialized     certs_dir=/home/olzh/demlabs/second/cellframe-node/tests/stage-env/cache/certs docker_mode=True
2025-12-15T04:30:49.816166Z [info     ] Regenerated zerochain.cfg for node 1
2025-12-15T04:30:49.816406Z [info     ] Regenerated zerochain.cfg for node 2
2025-12-15T04:30:49.816594Z [info     ] Regenerated zerochain.cfg for node 3
2025-12-15T04:30:49.816755Z [info     ] Regenerated zerochain.cfg for node 4
2025-12-15T04:30:49.816911Z [info     ] Regenerated zerochain.cfg for node 5
2025-12-15T04:30:49.817069Z [info     ] Regenerated zerochain.cfg for node 6
2025-12-15T04:30:49.817130Z [info     ] Step 28/28: ConfigStep ({{network_name}}/main)
2025-12-15T04:30:49.817214Z [info     ] Config: regenerating '{{network_name}}/main' for nodes [1, 2, 3, 4, 5, 6] with vars ['fee_addr']
2025-12-15T04:30:49.818086Z [info     ] cert_generator_initialized     certs_dir=/home/olzh/demlabs/second/cellframe-node/tests/stage-env/cache/certs docker_mode=True
2025-12-15T04:30:49.820044Z [info     ] Regenerated main.cfg for node 1
2025-12-15T04:30:49.820333Z [info     ] Regenerated main.cfg for node 2
2025-12-15T04:30:49.820531Z [info     ] Regenerated main.cfg for node 3
2025-12-15T04:30:49.820698Z [info     ] Regenerated main.cfg for node 4
2025-12-15T04:30:49.820853Z [info     ] Regenerated main.cfg for node 5
2025-12-15T04:30:49.821009Z [info     ] Regenerated main.cfg for node 6
2025-12-15T04:30:49.821082Z [info     ] Executing check phase...      
2025-12-15T04:30:49.821182Z [info     ] Scenario completed: 65/65 steps passed
2025-12-15T04:30:49.821247Z [info     ] zerochain_genesis_complete     emission_hash=0x685CCE2DF65DB7 fee_addr=WkojSeUjApyYYy5XCRFvm1xpa917UxssvxV8J8KT7N72eP2p5nr8HZqsF4afb113bGreYoHTiTxrVKJ5nDsohGiHx3oqt7q3xR2qed5L note='Phase1 genesis completed - emission ready for Phase2 transfers' root_addrs_available=(True, True, True)
2025-12-15T04:30:49.821337Z [info     ] creating_phase1_snapshot_after_zerochain_genesis
2025-12-15T04:30:49.821385Z [info     ] gracefully_shutting_down_root_containers_for_phase1_snapshot
2025-12-15T04:30:49.821458Z [info     ] graceful_shutdown_with_gdb_flush services=['node-1', 'node-2', 'node-3'] timeout=60
2025-12-15T04:30:49.821517Z [info     ] flushing_gdb_and_syncing_filesystem_before_shutdown
2025-12-15T04:30:50.155300Z [info     ] flushing_gdb_and_syncing_filesystem_before_shutdown
2025-12-15T04:30:50.429533Z [info     ] sending_exit_commands_to_nodes
2025-12-15T04:30:50.600231Z [info     ] monitoring_container_shutdown 
2025-12-15T04:30:50.894480Z [info     ] all_nodes_stopped_gracefully   elapsed=0.3s services_count=3
2025-12-15T04:30:50.894632Z [info     ] waiting_for_filesystem_sync   
2025-12-15T04:30:53.918371Z [info     ] verifying_chain_files_and_configs_before_snapshot
2025-12-15T04:30:53.919028Z [info     ] chain_files_found_before_snapshot count=1 files=['0.dchaincell'] node_id=1
2025-12-15T04:30:53.919420Z [info     ] zerochain_config_verified_before_snapshot node_id=1 path=/home/olzh/demlabs/second/cellframe-node/tests/stage-env/cache/configs/node1/network/stagenet/zerochain.cfg static_genesis_hash=0xFD9091AEBCA05E
2025-12-15T04:30:53.919574Z [info     ] chain_files_found_before_snapshot count=1 files=['0.dchaincell'] node_id=2
2025-12-15T04:30:53.919899Z [info     ] zerochain_config_verified_before_snapshot node_id=2 path=/home/olzh/demlabs/second/cellframe-node/tests/stage-env/cache/configs/node2/network/stagenet/zerochain.cfg static_genesis_hash=0xFD9091AEBCA05E
2025-12-15T04:30:53.920111Z [info     ] chain_files_found_before_snapshot count=1 files=['0.dchaincell'] node_id=3
2025-12-15T04:30:53.920513Z [info     ] zerochain_config_verified_before_snapshot node_id=3 path=/home/olzh/demlabs/second/cellframe-node/tests/stage-env/cache/configs/node3/network/stagenet/zerochain.cfg static_genesis_hash=0xFD9091AEBCA05E
2025-12-15T04:30:53.920681Z [info     ] chain_files_and_configs_verified chain_files_nodes=3 configs_nodes=3 total_nodes=3
2025-12-15T04:30:53.920729Z [info     ] preserving_data_for_phase1_snapshot note='Squashfs snapshot captures all mounted directories automatically'
2025-12-15T04:30:53.920788Z [info     ] creating_clean_snapshot        mode=filesystem name=phase1_zerochain_genesis
2025-12-15T04:30:53.920840Z [info     ] creating_snapshot              mode=filesystem name=phase1_zerochain_genesis
2025-12-15T04:30:53.920893Z [info     ] filesystem_create_start        name=phase1_zerochain_genesis
2025-12-15T04:30:54.299448Z [info     ] filesystem_snapshotting_configs nodes=9 note='Including configs to preserve static_genesis_event'
2025-12-15T04:30:54.687788Z [info     ] filesystem_create_complete     configs=9 name=phase1_zerochain_genesis nodes=8 size=2777593
2025-12-15T04:30:54.687982Z [info     ] snapshot_created_successfully  name=phase1_zerochain_genesis
2025-12-15T04:30:54.688069Z [info     ] phase1_snapshot_created        name=phase1_zerochain_genesis note='zerochain genesis and LN ready'
2025-12-15T04:30:54.688131Z [info     ] restarting_root_containers_after_snapshot_creation
2025-12-15T04:30:54.688174Z [info     ] starting_services              services=['node-1', 'node-2', 'node-3']
2025-12-15T04:30:54.752985Z [info     ] removing_conflicting_containers_before_up count=3 names=['cellframe-stage-node-3', 'cellframe-stage-node-1', 'cellframe-stage-node-2']
2025-12-15T04:30:56.372204Z [info     ] services_started              
2025-12-15T04:30:56.372409Z [info     ] waiting_for_root_nodes_online_for_phase2
2025-12-15T04:30:56.372479Z [info     ] waiting_for_nodes_online       node_count=3 timeout=60.0
2025-12-15T04:31:03.185411Z [info     ] all_nodes_online               count=3 elapsed=6.7s
2025-12-15T04:31:03.185579Z [info     ] root_nodes_online_for_phase2  
2025-12-15T04:31:03.185628Z [info     ] === PHASE 2: Start MASTER (ESBocs Genesis with Single Validator) ===
2025-12-15T04:31:03.192731Z [info     ] network_consensus_monitor_initialized network=stagenet nodes=6
2025-12-15T04:31:03.203145Z [info     ] Loaded scenario: PHASE 2 - ESBocs Genesis from genesis/phase2_esbocs.yml
2025-12-15T04:31:03.212122Z [info     ] phase2_initial_variables       emission_hash=0x685CCE2DF65DB7 variables=['emission_hash', 'fee_addr', 'root_addr_0', 'root_addr_1', 'root_addr_2', 'genesis_event_hash', 'token_hash']
2025-12-15T04:31:03.212296Z [info     ] Starting scenario: PHASE 2 - ESBocs Genesis
2025-12-15T04:31:03.212341Z [info     ] Description: Delegate keys on zerochain, create mainchain genesis block in seed mode
2025-12-15T04:31:03.212417Z [info     ] Executing setup phase...      
2025-12-15T04:31:03.212479Z [info     ] collecting_global_context_after_setup nodes=8
2025-12-15T04:31:03.212551Z [info     ] global_context_waiting_for_ips containers=['cellframe-stage-node-1', 'cellframe-stage-node-2', 'cellframe-stage-node-3', 'cellframe-stage-node-4', 'cellframe-stage-node-5', 'cellframe-stage-node-6', 'cellframe-stage-node-7', 'cellframe-stage-node-8'] count=8
2025-12-15T04:31:03.212609Z [info     ] waiting_for_container_ips      containers=['cellframe-stage-node-5', 'cellframe-stage-node-7', 'cellframe-stage-node-3', 'cellframe-stage-node-2', 'cellframe-stage-node-8', 'cellframe-stage-node-6', 'cellframe-stage-node-4', 'cellframe-stage-node-1'] timeout=30.0
2025-12-15T04:31:33.523819Z [warning  ] ip_acquisition_timeout         elapsed=30.3 pending=['cellframe-stage-node-7', 'cellframe-stage-node-8']
2025-12-15T04:31:33.524126Z [error    ] global_context_ip_timeout      containers=['cellframe-stage-node-1', 'cellframe-stage-node-2', 'cellframe-stage-node-3', 'cellframe-stage-node-4', 'cellframe-stage-node-5', 'cellframe-stage-node-6', 'cellframe-stage-node-7', 'cellframe-stage-node-8']
2025-12-15T04:31:33.524218Z [warning  ] failed_to_collect_global_context error="Containers did not receive IP addresses within timeout: ['cellframe-stage-node-1', 'cellframe-stage-node-2', 'cellframe-stage-node-3', 'cellframe-stage-node-4', 'cellframe-stage-node-5', 'cellframe-stage-node-6', 'cellframe-stage-node-7', 'cellframe-stage-node-8']" note='Continuing without global context'
2025-12-15T04:31:33.524322Z [info     ] Executing test phase...       
2025-12-15T04:31:33.524436Z [info     ] Step 1/27: DockerOpStep       
2025-12-15T04:31:33.524541Z [info     ] Docker operation: restart on services ['master-1', 'master-2', 'master-3']
2025-12-15T04:31:33.524654Z [info     ] restarting_services            services=['node-4', 'node-5', 'node-6']
2025-12-15T04:31:34.273840Z [info     ] services_restarted            
2025-12-15T04:31:34.274008Z [info     ] ✅ Docker operation 'restart' completed
2025-12-15T04:31:34.274073Z [info     ] Step 2/27: NetworkWaitStep    
2025-12-15T04:31:34.274115Z [info     ] Waiting for network state: online on nodes ['master-1', 'master-2', 'master-3']
2025-12-15T04:31:34.274175Z [info     ] waiting_for_nodes_online       node_count=3 timeout=60
2025-12-15T04:31:40.906422Z [info     ] all_nodes_online               count=3 elapsed=6.5s
2025-12-15T04:31:40.906596Z [info     ] ✅ Network state 'online' achieved
2025-12-15T04:31:40.906657Z [info     ] Step 3/27: WaitStep           
2025-12-15T04:31:40.906730Z [info     ] Executing WaitStep. Dump: {'wait': '10s', 'datum': None, 'node': None, 'nodes': None, 'network': None, 'chain': None, 'timeout': 60, 'wallet': None, 'token': None, 'balance': None, 'check_master': True, 'expected_count': None}
2025-12-15T04:31:40.906805Z [info     ] Waiting 10s (10s)             
2025-12-15T04:31:47.926409Z [info     ] Step 4/27: NetworkWaitStep    
2025-12-15T04:31:47.926748Z [info     ] Waiting for network state: links_established on nodes ['master-1', 'master-2', 'master-3', 'root-1', 'root-2', 'root-3']
2025-12-15T04:31:47.935648Z [info     ] network_consensus_monitor_initialized network=stagenet nodes=6
2025-12-15T04:31:47.935784Z [info     ] waiting_for_links_established  nodes=6 timeout=120.0
2025-12-15T04:31:52.794165Z [info     ] all_nodes_links_established    elapsed=4.6s
2025-12-15T04:31:52.794291Z [info     ] ✅ Network state 'links_established' achieved
2025-12-15T04:31:52.794721Z [info     ] Step 5/27: ConfigStep (cellframe-node)
2025-12-15T04:31:52.794803Z [info     ] Config: regenerating 'cellframe-node' for nodes [4, 5, 6] with vars ['seed_mode']
2025-12-15T04:31:52.795621Z [info     ] cert_generator_initialized     certs_dir=/home/olzh/demlabs/second/cellframe-node/tests/stage-env/cache/certs docker_mode=True
2025-12-15T04:31:52.796748Z [info     ] Regenerated cellframe-node.cfg for node 4
2025-12-15T04:31:52.796981Z [info     ] Regenerated cellframe-node.cfg for node 5
2025-12-15T04:31:52.797160Z [info     ] Regenerated cellframe-node.cfg for node 6
2025-12-15T04:31:52.797218Z [info     ] Step 6/27: ConfigStep (stagenet/main)
2025-12-15T04:31:52.797280Z [info     ] Config: regenerating 'stagenet/main' for nodes [4] with vars ['blocks_sign_cert']
2025-12-15T04:31:52.798478Z [info     ] cert_generator_initialized     certs_dir=/home/olzh/demlabs/second/cellframe-node/tests/stage-env/cache/certs docker_mode=True
2025-12-15T04:31:52.800101Z [info     ] Regenerated main.cfg for node 4
2025-12-15T04:31:52.800187Z [info     ] Step 7/27: ConfigStep (stagenet/main)
2025-12-15T04:31:52.800234Z [info     ] Config: regenerating 'stagenet/main' for nodes [5] with vars ['blocks_sign_cert']
2025-12-15T04:31:52.800950Z [info     ] cert_generator_initialized     certs_dir=/home/olzh/demlabs/second/cellframe-node/tests/stage-env/cache/certs docker_mode=True
2025-12-15T04:31:52.802507Z [info     ] Regenerated main.cfg for node 5
2025-12-15T04:31:52.802579Z [info     ] Step 8/27: ConfigStep (stagenet/main)
2025-12-15T04:31:52.802644Z [info     ] Config: regenerating 'stagenet/main' for nodes [6] with vars ['blocks_sign_cert']
2025-12-15T04:31:52.803377Z [info     ] cert_generator_initialized     certs_dir=/home/olzh/demlabs/second/cellframe-node/tests/stage-env/cache/certs docker_mode=True
2025-12-15T04:31:52.804963Z [info     ] Regenerated main.cfg for node 6
2025-12-15T04:31:52.805044Z [info     ] Step 9/27: WaitStep           
2025-12-15T04:31:52.805095Z [info     ] Executing WaitStep. Dump: {'wait': '2s', 'datum': None, 'node': None, 'nodes': None, 'network': None, 'chain': None, 'timeout': 60, 'wallet': None, 'token': None, 'balance': None, 'check_master': True, 'expected_count': None}
2025-12-15T04:31:52.805143Z [info     ] Waiting 2s (2s)               
2025-12-15T04:31:54.807104Z [info     ] Step 10/27: DockerOpStep      
2025-12-15T04:31:54.807283Z [info     ] Docker operation: stop on services ['master-1', 'master-2', 'master-3']
2025-12-15T04:31:54.807343Z [error    ] Docker operation failed: DockerComposeManager.down() got an unexpected keyword argument 'services'
2025-12-15T04:31:54.808506Z [error    ] master_nodes_genesis_failed    error="Docker operation failed: DockerComposeManager.down() got an unexpected keyword argument 'services'\nStep: docker_op='stop' services=['master-1', 'master-2', 'master-3'] command=None detach=True wait_for_ip=True wait=None" traceback='Traceback (most recent call last):\n  File "/home/olzh/demlabs/second/cellframe-node/tests/stage-env/src/scenarios/step/docker_op.py", line 102, in execute\n    compose_manager.down(services=services)\nTypeError: DockerComposeManager.down() got an unexpected keyword argument \'services\'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/home/olzh/demlabs/second/cellframe-node/tests/stage-env/src/network/manager.py", line 1034, in start\n    ctx = await executor.execute_scenario(\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/home/olzh/demlabs/second/cellframe-node/tests/stage-env/src/scenarios/executor.py", line 511, in execute_scenario\n    await self._execute_steps(scenario.test.steps, ctx, section_defaults)\n  File "/home/olzh/demlabs/second/cellframe-node/tests/stage-env/src/scenarios/executor.py", line 609, in _execute_steps\n    await self.docker_op_executor.execute(step, ctx)\n  File "/home/olzh/demlabs/second/cellframe-node/tests/stage-env/src/scenarios/step/docker_op.py", line 129, in execute\n    raise ScenarioExecutionError(error_msg, step=step)\nsrc.scenarios.executor.ScenarioExecutionError: Docker operation failed: DockerComposeManager.down() got an unexpected keyword argument \'services\'\nStep: docker_op=\'stop\' services=[\'master-1\', \'master-2\', \'master-3\'] command=None detach=True wait_for_ip=True wait=None\n'
2025-12-15T04:31:54.877074Z [info     ] Dumped log for cellframe-stage-node-2 to /tmp/cellframe-stage-node-2.log
2025-12-15T04:31:54.885060Z [info     ] Dumped log for cellframe-stage-node-1 to /tmp/cellframe-stage-node-1.log
2025-12-15T04:31:54.893520Z [info     ] Dumped log for cellframe-stage-node-3 to /tmp/cellframe-stage-node-3.log
2025-12-15T04:31:54.902377Z [info     ] Dumped log for cellframe-stage-node-4 to /tmp/cellframe-stage-node-4.log
2025-12-15T04:31:54.912983Z [info     ] Dumped log for cellframe-stage-node-6 to /tmp/cellframe-stage-node-6.log
2025-12-15T04:31:54.921653Z [info     ] Dumped log for cellframe-stage-node-5 to /tmp/cellframe-stage-node-5.log
2025-12-15T04:31:54.921864Z [info     ] stopping_services              remove_images=False volumes=False
2025-12-15T04:31:56.299061Z [info     ] services_stopped              
