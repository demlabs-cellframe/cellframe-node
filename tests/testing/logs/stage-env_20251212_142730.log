2025-12-12T07:27:30.461051Z [info     ] file_logging_enabled           log_file=/home/olzh/demlabs/second/cellframe-node/tests/stage-env/../testing/logs/stage-env_20251212_142730.log
2025-12-12T07:27:30.881203Z [info     ] loading_topology_from_template topology=default
2025-12-12T07:27:30.881590Z [info     ] loaded_config                  path=/home/olzh/demlabs/second/cellframe-node/tests/stage-env.cfg
2025-12-12T07:27:30.887075Z [info     ] cert_generator_initialized     certs_dir=/home/olzh/demlabs/second/cellframe-node/tests/testing/cache/certs docker_mode=True
2025-12-12T07:27:30.957668Z [info     ] docker_connected               version=28.5.1
2025-12-12T07:27:31.088319Z [info     ] genesis_initializer_created    network=stagenet
2025-12-12T07:27:31.097153Z [info     ] artifacts_manager_initialized  artifacts_dir=/home/olzh/demlabs/second/cellframe-node/tests/testing/artifacts collect_crash_dumps=True collect_health_logs=True collect_node_logs=True
2025-12-12T07:27:31.106022Z [info     ] squashfs_mode_initialized      compression=none overlayfs_available=True tools_available=True
2025-12-12T07:27:31.106156Z [info     ] snapshot_manager_initialized   base_path=/home/olzh/demlabs/second/cellframe-node/tests/stage-env config={'mode': 'squashfs', 'squashfs_compression': 'none', 'auto_create_on_startup': True, 'snapshot_name': 'clean_state', 'genesis_stage': 'none', 'phase1_snapshot_name': 'phase1_zerochain_genesis', 'auto_cleanup': True, 'keep_snapshot_count': 5, 'snapshots_dir': '../testing/snapshots', 'cache_dir': '../testing/cache'} mode=squashfs
2025-12-12T07:27:31.106630Z [info     ] network_manager_initialized    cache_dir=../testing/cache network=stagenet snapshot_mode=squashfs timeouts={'startup': 600, 'health_check': 600, 'command': 30} topology=default
2025-12-12T07:27:31.106882Z [info     ] starting_network               rebuild=False topology=default
2025-12-12T07:27:31.106957Z [info     ] stopping_previous_environment 
2025-12-12T07:27:31.107015Z [info     ] stopping_services              remove_images=False volumes=False
2025-12-12T07:27:31.170725Z [info     ] services_stopped              
2025-12-12T07:27:31.170855Z [info     ] previous_environment_stopped  
2025-12-12T07:27:31.170905Z [info     ] cleanup_stale_resources        project=cellframe-stage
2025-12-12T07:27:31.180033Z [info     ] cleanup_completed             
2025-12-12T07:27:31.180188Z [info     ] no_phase1_snapshot_cleaning_data_for_fresh_start name=phase1_zerochain_genesis
2025-12-12T07:27:31.180251Z [info     ] cleaning_node_data_after_stop 
2025-12-12T07:27:31.180349Z [info     ] removing_node_data_directories path=/home/olzh/demlabs/second/cellframe-node/tests/testing/cache/data
2025-12-12T07:27:31.180417Z [info     ] cleaning_cache_data_with_docker path=/home/olzh/demlabs/second/cellframe-node/tests/testing/cache/data
2025-12-12T07:27:31.651727Z [info     ] cache_data_cleaned             output='Cleanup complete'
2025-12-12T07:27:31.651877Z [info     ] node_data_removed             
2025-12-12T07:27:31.652137Z [info     ] node_data_cleaned_and_recreated nodes=0
2025-12-12T07:27:31.652201Z [info     ] generating_node_configs       
2025-12-12T07:27:31.652303Z [info     ] node_configs_generated         count=8 seed_nodes=3 validators=3
2025-12-12T07:27:31.652354Z [info     ] generating_configs_and_certs  
2025-12-12T07:27:31.652400Z [info     ] generating_configurations      force=False network=stagenet nodes=8
2025-12-12T07:27:31.654656Z [info     ] generating_certificates        count=8 force=False
2025-12-12T07:27:31.654813Z [info     ] generating_all_certificates    method=docker network=stagenet nodes=8 validators=3
• Generating 8 node certificates using Docker...
2025-12-12T07:27:31.686614Z [info     ] calling_docker_cert_generator  image=cf-cert-generator:latest network_id=0x1234 network_name=stagenet node_count=8 output_dir=/home/olzh/demlabs/second/cellframe-node/tests/testing/cache/certs
2025-12-12T07:27:32.073141Z [info     ] cert_generator_docker_output   stdout=
✓ Generated 8 node + 0 validator certificates
2025-12-12T07:27:32.074124Z [info     ] all_certificates_generated     nodes=8 validators=0
2025-12-12T07:27:32.076282Z [info     ] organizing_validator_certificates
2025-12-12T07:27:32.077537Z [info     ] copying_all_private_certs_to_root1_for_centralized_genesis
2025-12-12T07:27:32.077750Z [info     ] all_private_certs_copied_to_root1 additional_certs=2 note='root-1 can now perform centralized genesis with threshold consensus' own_cert=1 total_pvt_certs=3
2025-12-12T07:27:32.078146Z [info     ] distributing_public_certs_to_all_nodes network=stagenet total_nodes=8
2025-12-12T07:27:32.078493Z [info     ] public_certs_distributed_to_node master_certs=3 node_id=1 root_certs=3
2025-12-12T07:27:32.078842Z [info     ] public_certs_distributed_to_node master_certs=3 node_id=2 root_certs=3
2025-12-12T07:27:32.079167Z [info     ] public_certs_distributed_to_node master_certs=3 node_id=3 root_certs=3
2025-12-12T07:27:32.079487Z [info     ] public_certs_distributed_to_node master_certs=3 node_id=4 root_certs=3
2025-12-12T07:27:32.079808Z [info     ] public_certs_distributed_to_node master_certs=3 node_id=5 root_certs=3
2025-12-12T07:27:32.080126Z [info     ] public_certs_distributed_to_node master_certs=3 node_id=6 root_certs=3
2025-12-12T07:27:32.080453Z [info     ] public_certs_distributed_to_node master_certs=3 node_id=7 root_certs=3
2025-12-12T07:27:32.080819Z [info     ] public_certs_distributed_to_node master_certs=3 node_id=8 root_certs=3
2025-12-12T07:27:32.080897Z [info     ] certificates_generated         count=8
2025-12-12T07:27:32.086660Z [info     ] validator_addresses_collected  addresses=[06AD::5072::FE74::EB38,D8D2::E961::3A9E::5EA1,C30... count=3
2025-12-12T07:27:32.086834Z [info     ] root_node_addresses_collected  addresses=[C1E8::6DC5::3B94::71F4,909B::9AB5::1F52::996F,B57... count=3
2025-12-12T07:27:32.086951Z [info     ] validator_addresses_collected  addresses=[06AD::5072::FE74::EB38,D8D2::E961::3A9E::5EA1,C30... count=3
2025-12-12T07:27:32.087008Z [info     ] mainchain_validators_configured master_validators_count=3 min_validators_count=2 note='Using master node addresses in validators_addrs for mainchain'
2025-12-12T07:27:32.087268Z [info     ] loaded_config                  path=/home/olzh/demlabs/second/cellframe-node/tests/stage-env.cfg
2025-12-12T07:27:32.091529Z [info     ] configurations_generated       network=stagenet nodes=8
2025-12-12T07:27:32.091625Z [info     ] generating_docker_compose     
2025-12-12T07:27:32.091911Z [info     ] generating_compose_file        build_type=debug cache_dir=../testing/cache node_count=8 node_source_type=url
2025-12-12T07:27:32.118232Z [info     ] compose_file_generated         path=/home/olzh/demlabs/second/cellframe-node/tests/stage-env/docker-compose.generated.yml services=8
2025-12-12T07:27:32.118403Z [info     ] node_distribution              full=2 master=3 root=3
2025-12-12T07:27:32.118467Z [info     ] === PHASE 1: ROOT Nodes Startup (DAG-PoA Genesis) ===
2025-12-12T07:27:32.126297Z [info     ] network_consensus_monitor_initialized network=stagenet nodes=3
2025-12-12T07:27:32.142344Z [info     ] Loaded scenario: PHASE 1 - Zerochain Genesis from genesis/phase1_zerochain.yml
2025-12-12T07:27:32.155666Z [info     ] executing_phase1_scenario     
2025-12-12T07:27:32.155803Z [info     ] Starting scenario: PHASE 1 - Zerochain Genesis
2025-12-12T07:27:32.155868Z [info     ] Description: Initialize ROOT nodes, create token and emission
2025-12-12T07:27:32.155970Z [info     ] Executing setup phase...      
2025-12-12T07:27:32.156042Z [info     ] Step 1/4: ConfigStep (cellframe-node)
2025-12-12T07:27:32.156215Z [info     ] Config: regenerating 'cellframe-node' for nodes [1, 2, 3] with vars ['seed_mode']
2025-12-12T07:27:32.156833Z [info     ] cert_generator_initialized     certs_dir=/home/olzh/demlabs/second/cellframe-node/tests/testing/cache/certs docker_mode=True
2025-12-12T07:27:32.157943Z [info     ] Regenerated cellframe-node.cfg for node 1
2025-12-12T07:27:32.158157Z [info     ] Regenerated cellframe-node.cfg for node 2
2025-12-12T07:27:32.158342Z [info     ] Regenerated cellframe-node.cfg for node 3
2025-12-12T07:27:32.158412Z [info     ] Step 2/4: DockerOpStep        
2025-12-12T07:27:32.158481Z [info     ] Docker operation: start on services ['root-1', 'root-2', 'root-3', 'master-1', 'master-2', 'master-3']
2025-12-12T07:27:32.158550Z [info     ] starting_services              services=['node-1', 'node-2', 'node-3', 'node-4', 'node-5', 'node-6']
2025-12-12T07:27:32.802796Z [info     ] services_started              
2025-12-12T07:27:32.803394Z [info     ] waiting_for_container_ips      containers=['cellframe-stage-node-1', 'cellframe-stage-node-2', 'cellframe-stage-node-3', 'cellframe-stage-node-4', 'cellframe-stage-node-5', 'cellframe-stage-node-6']
2025-12-12T07:27:32.803520Z [info     ] waiting_for_container_ips      containers=['cellframe-stage-node-2', 'cellframe-stage-node-1', 'cellframe-stage-node-3', 'cellframe-stage-node-5', 'cellframe-stage-node-6', 'cellframe-stage-node-4'] timeout=30.0
2025-12-12T07:27:32.835214Z [info     ] all_containers_have_ips        count=6 elapsed=0.0
2025-12-12T07:27:32.835362Z [info     ] ✅ All containers have IP addresses count=6
2025-12-12T07:27:32.835429Z [info     ] ✅ Docker operation 'start' completed
2025-12-12T07:27:32.835494Z [info     ] Step 3/4: NetworkWaitStep     
2025-12-12T07:27:32.835573Z [info     ] Waiting for network state: online on nodes ['root-1', 'root-2', 'root-3', 'master-1', 'master-2', 'master-3']
2025-12-12T07:27:32.858939Z [info     ] waiting_for_nodes_online       node_count=6 timeout=60
2025-12-12T07:27:40.104060Z [info     ] all_nodes_online               count=6 elapsed=6.9s
2025-12-12T07:27:40.104199Z [info     ] ✅ Network state 'online' achieved
2025-12-12T07:27:40.104268Z [info     ] Step 4/4: WaitStep            
2025-12-12T07:27:40.104344Z [info     ] Executing WaitStep. Dump: {'wait': '5s', 'datum': None, 'node': None, 'nodes': None, 'network': None, 'chain': None, 'timeout': 60, 'check_master': True, 'expected_count': None}
2025-12-12T07:27:40.104524Z [info     ] Waiting 5s (5s)               
2025-12-12T07:27:45.241607Z [info     ] collecting_global_context_after_setup nodes=3
2025-12-12T07:27:45.242305Z [info     ] global_context_waiting_for_ips containers=['cellframe-stage-node-1', 'cellframe-stage-node-2', 'cellframe-stage-node-3'] count=3
2025-12-12T07:27:45.242668Z [info     ] waiting_for_container_ips      containers=['cellframe-stage-node-2', 'cellframe-stage-node-1', 'cellframe-stage-node-3'] timeout=30.0
2025-12-12T07:27:45.274285Z [info     ] all_containers_have_ips        count=3 elapsed=0.0
2025-12-12T07:27:45.274428Z [info     ] global_context_ips_collected   count=3 node_ip_map={'node1': '172.20.0.10', 'node2': '172.20.0.11', 'node3': '172.20.0.12'}
2025-12-12T07:27:45.274515Z [info     ] global_context_injected_into_scenario node_count=3 node_ip_map={'node1': '172.20.0.10', 'node2': '172.20.0.11', 'node3': '172.20.0.12'} variables=['network_name', 'topology_name', 'node_ips', 'node_ip', 'node_count', 'root_count', 'master_count', 'full_count', 'root_nodes', 'master_nodes', 'full_nodes']
2025-12-12T07:27:45.275431Z [info     ] Loaded CLI commands from cache: 41 commands
2025-12-12T07:27:45.275521Z [info     ] Executing test phase...       
2025-12-12T07:27:45.275600Z [info     ] Step 1/23: StepGroup          
2025-12-12T07:27:45.275657Z [info     ] Step 1/3: CLIStep             
2025-12-12T07:27:45.275723Z [info     ] CLI step: node dump (node: root-1)
2025-12-12T07:27:45.283358Z [info     ] exec_cli_command_debug         command_original='node dump -net stagenet' command_split=['node', 'dump', '-net', 'stagenet'] container=cellframe-stage-node-1 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-1', 'sh', '-c', 'cellframe-node-cli node dump -net stagenet'] shell_cmd='cellframe-node-cli node dump -net stagenet'
2025-12-12T07:27:45.352442Z [info     ] cli_save_node_output_debug     command='node dump -net stagenet' output_length=292 output_preview='Record timestamp: Fri, 12 Dec 2025 07:27:42 +0000\nRecord version: 2\nNode version: 5.7-14\nNode addr: C1E8::6DC5::3B94::71F4\nNet: stagenet\nRole: NODE_ROLE_ROOT\nEvents count: 0\nAtoms count: 0\nUplinks count: 0\nDownlinks count: 0\n-----------------------------------------------------------------\n\n' pattern='Node addr:\\s+([A-Fa-f0-9:]+)'
2025-12-12T07:27:45.352744Z [info     ] Step 2/3: CLIStep             
2025-12-12T07:27:45.352827Z [info     ] CLI step: node dump (node: root-2)
2025-12-12T07:27:45.362338Z [info     ] exec_cli_command_debug         command_original='node dump -net stagenet' command_split=['node', 'dump', '-net', 'stagenet'] container=cellframe-stage-node-2 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-2', 'sh', '-c', 'cellframe-node-cli node dump -net stagenet'] shell_cmd='cellframe-node-cli node dump -net stagenet'
2025-12-12T07:27:45.426170Z [info     ] cli_save_node_output_debug     command='node dump -net stagenet' output_length=292 output_preview='Record timestamp: Fri, 12 Dec 2025 07:27:43 +0000\nRecord version: 2\nNode version: 5.7-14\nNode addr: 909B::9AB5::1F52::996F\nNet: stagenet\nRole: NODE_ROLE_ROOT\nEvents count: 0\nAtoms count: 0\nUplinks count: 0\nDownlinks count: 0\n-----------------------------------------------------------------\n\n' pattern='Node addr:\\s+([A-Fa-f0-9:]+)'
2025-12-12T07:27:45.426359Z [info     ] Step 3/3: CLIStep             
2025-12-12T07:27:45.426426Z [info     ] CLI step: node dump (node: root-3)
2025-12-12T07:27:45.434355Z [info     ] exec_cli_command_debug         command_original='node dump -net stagenet' command_split=['node', 'dump', '-net', 'stagenet'] container=cellframe-stage-node-3 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-3', 'sh', '-c', 'cellframe-node-cli node dump -net stagenet'] shell_cmd='cellframe-node-cli node dump -net stagenet'
2025-12-12T07:27:45.501201Z [info     ] cli_save_node_output_debug     command='node dump -net stagenet' output_length=292 output_preview='Record timestamp: Fri, 12 Dec 2025 07:27:42 +0000\nRecord version: 2\nNode version: 5.7-14\nNode addr: B577::C928::D50F::39BF\nNet: stagenet\nRole: NODE_ROLE_ROOT\nEvents count: 0\nAtoms count: 0\nUplinks count: 0\nDownlinks count: 0\n-----------------------------------------------------------------\n\n' pattern='Node addr:\\s+([A-Fa-f0-9:]+)'
2025-12-12T07:27:45.501384Z [info     ] Step 2/23: StepGroup          
2025-12-12T07:27:45.501464Z [info     ] Step 1/2: CLIStep             
2025-12-12T07:27:45.501546Z [info     ] CLI step: node add -addr 909B::9AB5::1F52::996F -alias root-2 -host 172.20.0.11 -port 8079 (node: root-1)
2025-12-12T07:27:45.509039Z [info     ] exec_cli_command_debug         command_original='node add -addr 909B::9AB5::1F52::996F -alias root-2 -host 172.20.0.11 -port 8079 -net stagenet' command_split=['node', 'add', '-addr', '909B::9AB5::1F52::996F', '-alias', 'root-2', '-host', '172.20.0.11', '-port', '8079', '-net', 'stagenet'] container=cellframe-stage-node-1 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-1', 'sh', '-c', 'cellframe-node-cli node add -addr 909B::9AB5::1F52::996F -alias root-2 -host 172.20.0.11 -port 8079 -net stagenet'] shell_cmd='cellframe-node-cli node add -addr 909B::9AB5::1F52::996F -alias root-2 -host 172.20.0.11 -port 8079 -net stagenet'
2025-12-12T07:27:45.575890Z [info     ] Step 2/2: CLIStep             
2025-12-12T07:27:45.576033Z [info     ] CLI step: node add -addr B577::C928::D50F::39BF -alias root-3 -host 172.20.0.12 -port 8079 (node: root-1)
2025-12-12T07:27:45.583692Z [info     ] exec_cli_command_debug         command_original='node add -addr B577::C928::D50F::39BF -alias root-3 -host 172.20.0.12 -port 8079 -net stagenet' command_split=['node', 'add', '-addr', 'B577::C928::D50F::39BF', '-alias', 'root-3', '-host', '172.20.0.12', '-port', '8079', '-net', 'stagenet'] container=cellframe-stage-node-1 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-1', 'sh', '-c', 'cellframe-node-cli node add -addr B577::C928::D50F::39BF -alias root-3 -host 172.20.0.12 -port 8079 -net stagenet'] shell_cmd='cellframe-node-cli node add -addr B577::C928::D50F::39BF -alias root-3 -host 172.20.0.12 -port 8079 -net stagenet'
2025-12-12T07:27:45.643494Z [info     ] Step 3/23: StepGroup          
2025-12-12T07:27:45.643643Z [info     ] Step 1/2: CLIStep             
2025-12-12T07:27:45.643717Z [info     ] CLI step: node add -addr C1E8::6DC5::3B94::71F4 -alias root-1 -host 172.20.0.10 -port 8079 (node: root-2)
2025-12-12T07:27:45.651335Z [info     ] exec_cli_command_debug         command_original='node add -addr C1E8::6DC5::3B94::71F4 -alias root-1 -host 172.20.0.10 -port 8079 -net stagenet' command_split=['node', 'add', '-addr', 'C1E8::6DC5::3B94::71F4', '-alias', 'root-1', '-host', '172.20.0.10', '-port', '8079', '-net', 'stagenet'] container=cellframe-stage-node-2 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-2', 'sh', '-c', 'cellframe-node-cli node add -addr C1E8::6DC5::3B94::71F4 -alias root-1 -host 172.20.0.10 -port 8079 -net stagenet'] shell_cmd='cellframe-node-cli node add -addr C1E8::6DC5::3B94::71F4 -alias root-1 -host 172.20.0.10 -port 8079 -net stagenet'
2025-12-12T07:27:45.733115Z [info     ] Step 2/2: CLIStep             
2025-12-12T07:27:45.733444Z [info     ] CLI step: node add -addr B577::C928::D50F::39BF -alias root-3 -host 172.20.0.12 -port 8079 (node: root-2)
2025-12-12T07:27:45.742270Z [info     ] exec_cli_command_debug         command_original='node add -addr B577::C928::D50F::39BF -alias root-3 -host 172.20.0.12 -port 8079 -net stagenet' command_split=['node', 'add', '-addr', 'B577::C928::D50F::39BF', '-alias', 'root-3', '-host', '172.20.0.12', '-port', '8079', '-net', 'stagenet'] container=cellframe-stage-node-2 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-2', 'sh', '-c', 'cellframe-node-cli node add -addr B577::C928::D50F::39BF -alias root-3 -host 172.20.0.12 -port 8079 -net stagenet'] shell_cmd='cellframe-node-cli node add -addr B577::C928::D50F::39BF -alias root-3 -host 172.20.0.12 -port 8079 -net stagenet'
2025-12-12T07:27:45.820351Z [info     ] Step 4/23: StepGroup          
2025-12-12T07:27:45.820498Z [info     ] Step 1/2: CLIStep             
2025-12-12T07:27:45.820571Z [info     ] CLI step: node add -addr C1E8::6DC5::3B94::71F4 -alias root-1 -host 172.20.0.10 -port 8079 (node: root-3)
2025-12-12T07:27:45.827945Z [info     ] exec_cli_command_debug         command_original='node add -addr C1E8::6DC5::3B94::71F4 -alias root-1 -host 172.20.0.10 -port 8079 -net stagenet' command_split=['node', 'add', '-addr', 'C1E8::6DC5::3B94::71F4', '-alias', 'root-1', '-host', '172.20.0.10', '-port', '8079', '-net', 'stagenet'] container=cellframe-stage-node-3 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-3', 'sh', '-c', 'cellframe-node-cli node add -addr C1E8::6DC5::3B94::71F4 -alias root-1 -host 172.20.0.10 -port 8079 -net stagenet'] shell_cmd='cellframe-node-cli node add -addr C1E8::6DC5::3B94::71F4 -alias root-1 -host 172.20.0.10 -port 8079 -net stagenet'
2025-12-12T07:27:45.919014Z [info     ] Step 2/2: CLIStep             
2025-12-12T07:27:45.919162Z [info     ] CLI step: node add -addr 909B::9AB5::1F52::996F -alias root-2 -host 172.20.0.11 -port 8079 (node: root-3)
2025-12-12T07:27:45.926346Z [info     ] exec_cli_command_debug         command_original='node add -addr 909B::9AB5::1F52::996F -alias root-2 -host 172.20.0.11 -port 8079 -net stagenet' command_split=['node', 'add', '-addr', '909B::9AB5::1F52::996F', '-alias', 'root-2', '-host', '172.20.0.11', '-port', '8079', '-net', 'stagenet'] container=cellframe-stage-node-3 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-3', 'sh', '-c', 'cellframe-node-cli node add -addr 909B::9AB5::1F52::996F -alias root-2 -host 172.20.0.11 -port 8079 -net stagenet'] shell_cmd='cellframe-node-cli node add -addr 909B::9AB5::1F52::996F -alias root-2 -host 172.20.0.11 -port 8079 -net stagenet'
2025-12-12T07:27:45.986382Z [info     ] Step 5/23: StepGroup          
2025-12-12T07:27:45.986530Z [info     ] Step 1/3: CLIStep             
2025-12-12T07:27:45.986595Z [info     ] CLI step: net go offline (node: root-1)
2025-12-12T07:27:45.994100Z [info     ] exec_cli_command_debug         command_original='net go offline -net stagenet' command_split=['net', 'go', 'offline', '-net', 'stagenet'] container=cellframe-stage-node-1 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-1', 'sh', '-c', 'cellframe-node-cli net go offline -net stagenet'] shell_cmd='cellframe-node-cli net go offline -net stagenet'
2025-12-12T07:27:46.044422Z [info     ] Step 2/3: CLIStep             
2025-12-12T07:27:46.044554Z [info     ] CLI step: net go offline (node: root-2)
2025-12-12T07:27:46.052005Z [info     ] exec_cli_command_debug         command_original='net go offline -net stagenet' command_split=['net', 'go', 'offline', '-net', 'stagenet'] container=cellframe-stage-node-2 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-2', 'sh', '-c', 'cellframe-node-cli net go offline -net stagenet'] shell_cmd='cellframe-node-cli net go offline -net stagenet'
2025-12-12T07:27:46.124379Z [info     ] Step 3/3: CLIStep             
2025-12-12T07:27:46.124512Z [info     ] CLI step: net go offline (node: root-3)
2025-12-12T07:27:46.131491Z [info     ] exec_cli_command_debug         command_original='net go offline -net stagenet' command_split=['net', 'go', 'offline', '-net', 'stagenet'] container=cellframe-stage-node-3 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-3', 'sh', '-c', 'cellframe-node-cli net go offline -net stagenet'] shell_cmd='cellframe-node-cli net go offline -net stagenet'
2025-12-12T07:27:46.185054Z [info     ] Step 6/23: NetworkWaitStep    
2025-12-12T07:27:46.185196Z [info     ] Waiting for network state: offline on nodes ['root-1', 'root-2', 'root-3']
2025-12-12T07:27:46.185285Z [info     ] waiting_for_nodes_offline      node_count=3 timeout=60
2025-12-12T07:27:46.395336Z [info     ] all_nodes_offline              count=3 elapsed=0.0s
2025-12-12T07:27:46.395470Z [info     ] ✅ Network state 'offline' achieved
2025-12-12T07:27:46.395543Z [info     ] Step 7/23: StepGroup          
2025-12-12T07:27:46.395614Z [info     ] Step 1/3: CLIStep             
2025-12-12T07:27:46.395671Z [info     ] CLI step: net go online (node: root-1)
2025-12-12T07:27:46.402808Z [info     ] exec_cli_command_debug         command_original='net go online -net stagenet' command_split=['net', 'go', 'online', '-net', 'stagenet'] container=cellframe-stage-node-1 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-1', 'sh', '-c', 'cellframe-node-cli net go online -net stagenet'] shell_cmd='cellframe-node-cli net go online -net stagenet'
2025-12-12T07:27:46.464883Z [info     ] Step 2/3: CLIStep             
2025-12-12T07:27:46.465026Z [info     ] CLI step: net go online (node: root-2)
2025-12-12T07:27:46.472147Z [info     ] exec_cli_command_debug         command_original='net go online -net stagenet' command_split=['net', 'go', 'online', '-net', 'stagenet'] container=cellframe-stage-node-2 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-2', 'sh', '-c', 'cellframe-node-cli net go online -net stagenet'] shell_cmd='cellframe-node-cli net go online -net stagenet'
2025-12-12T07:27:46.546254Z [info     ] Step 3/3: CLIStep             
2025-12-12T07:27:46.546405Z [info     ] CLI step: net go online (node: root-3)
2025-12-12T07:27:46.554025Z [info     ] exec_cli_command_debug         command_original='net go online -net stagenet' command_split=['net', 'go', 'online', '-net', 'stagenet'] container=cellframe-stage-node-3 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-3', 'sh', '-c', 'cellframe-node-cli net go online -net stagenet'] shell_cmd='cellframe-node-cli net go online -net stagenet'
2025-12-12T07:27:46.636044Z [info     ] Step 8/23: NetworkWaitStep    
2025-12-12T07:27:46.636176Z [info     ] Waiting for network state: links_established on nodes ['root-1', 'root-2', 'root-3']
2025-12-12T07:27:46.642810Z [info     ] network_consensus_monitor_initialized network=stagenet nodes=3
2025-12-12T07:27:46.642943Z [info     ] waiting_for_links_established  nodes=3 timeout=120.0
2025-12-12T07:27:53.355835Z [info     ] links_establishment_progress   elapsed=6.5s ready=0 total=3
2025-12-12T07:27:59.797482Z [info     ] links_establishment_progress   elapsed=13.0s ready=0 total=3
2025-12-12T07:28:06.455312Z [info     ] links_establishment_progress   elapsed=19.6s ready=2 total=3
2025-12-12T07:28:13.193539Z [info     ] links_establishment_progress   elapsed=26.2s ready=3 total=3
2025-12-12T07:28:13.193728Z [info     ] all_nodes_links_established    elapsed=26.2s
2025-12-12T07:28:13.193799Z [info     ] ✅ Network state 'links_established' achieved
2025-12-12T07:28:13.194274Z [info     ] Step 9/23: WaitStep           
2025-12-12T07:28:13.194360Z [info     ] Executing WaitStep. Dump: {'wait': 'cli_ready', 'datum': None, 'node': None, 'nodes': ['root-1', 'root-2', 'root-3'], 'network': None, 'chain': None, 'timeout': 40, 'check_master': True, 'expected_count': None}
2025-12-12T07:28:13.194434Z [info     ] Waiting for condition: cli_ready
2025-12-12T07:28:13.203115Z [info     ] exec_cli_command_debug         command_original='net -net stagenet get status' command_split=['net', '-net', 'stagenet', 'get', 'status'] container=cellframe-stage-node-1 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-1', 'sh', '-c', 'cellframe-node-cli net -net stagenet get status'] shell_cmd='cellframe-node-cli net -net stagenet get status'
2025-12-12T07:28:13.307440Z [info     ] exec_cli_command_debug         command_original='net -net stagenet get status' command_split=['net', '-net', 'stagenet', 'get', 'status'] container=cellframe-stage-node-2 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-2', 'sh', '-c', 'cellframe-node-cli net -net stagenet get status'] shell_cmd='cellframe-node-cli net -net stagenet get status'
2025-12-12T07:28:13.397150Z [info     ] exec_cli_command_debug         command_original='net -net stagenet get status' command_split=['net', '-net', 'stagenet', 'get', 'status'] container=cellframe-stage-node-3 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-3', 'sh', '-c', 'cellframe-node-cli net -net stagenet get status'] shell_cmd='cellframe-node-cli net -net stagenet get status'
2025-12-12T07:28:13.470882Z [info     ] ✅ Waiter 'cli_ready' completed
2025-12-12T07:28:13.471037Z [info     ] Step 10/23: CLIStep           
2025-12-12T07:28:13.471108Z [info     ] CLI step: wallet new -w fee_collector (node: root-1)
2025-12-12T07:28:13.478524Z [info     ] exec_cli_command_debug         command_original='wallet new -w fee_collector -net stagenet' command_split=['wallet', 'new', '-w', 'fee_collector', '-net', 'stagenet'] container=cellframe-stage-node-1 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-1', 'sh', '-c', 'cellframe-node-cli wallet new -w fee_collector -net stagenet'] shell_cmd='cellframe-node-cli wallet new -w fee_collector -net stagenet'
2025-12-12T07:28:13.560750Z [info     ] Step 11/23: CLIStep           
2025-12-12T07:28:13.560893Z [info     ] CLI step: wallet info -w fee_collector (node: root-1)
2025-12-12T07:28:13.567837Z [info     ] exec_cli_command_debug         command_original='wallet info -w fee_collector -net stagenet' command_split=['wallet', 'info', '-w', 'fee_collector', '-net', 'stagenet'] container=cellframe-stage-node-1 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-1', 'sh', '-c', 'cellframe-node-cli wallet info -w fee_collector -net stagenet'] shell_cmd='cellframe-node-cli wallet info -w fee_collector -net stagenet'
2025-12-12T07:28:13.634375Z [info     ] Step 12/23: StepGroup         
2025-12-12T07:28:13.634520Z [info     ] Step 1/3: CLIStep             
2025-12-12T07:28:13.634592Z [info     ] CLI step: token_decl -token TCELL -chain zerochain -total_supply 1000000.0e+18 -decimals 18 -signs_emission 2 -signs_total 3 -certs pvt.stagenet.root.0,pvt.stagenet.root.1,pvt.stagenet.root.2 (node: root-1)
2025-12-12T07:28:13.642594Z [info     ] exec_cli_command_debug         command_original='token_decl -token TCELL -chain zerochain -total_supply 1000000.0e+18 -decimals 18 -signs_emission 2 -signs_total 3 -certs pvt.stagenet.root.0,pvt.stagenet.root.1,pvt.stagenet.root.2 -net stagenet' command_split=['token_decl', '-token', 'TCELL', '-chain', 'zerochain', '-total_supply', '1000000.0e+18', '-decimals', '18', '-signs_emission', '2', '-signs_total', '3', '-certs', 'pvt.stagenet.root.0,pvt.stagenet.root.1,pvt.stagenet.root.2', '-net', 'stagenet'] container=cellframe-stage-node-1 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-1', 'sh', '-c', 'cellframe-node-cli token_decl -token TCELL -chain zerochain -total_supply 1000000.0e+18 -decimals 18 -signs_emission 2 -signs_total 3 -certs pvt.stagenet.root.0,pvt.stagenet.root.1,pvt.stagenet.root.2 -net stagenet'] shell_cmd='cellframe-node-cli token_decl -token TCELL -chain zerochain -total_supply 1000000.0e+18 -decimals 18 -signs_emission 2 -signs_total 3 -certs pvt.stagenet.root.0,pvt.stagenet.root.1,pvt.stagenet.root.2 -net stagenet'
2025-12-12T07:28:13.750282Z [info     ] Step 2/3: WaitStep            
2025-12-12T07:28:13.750432Z [info     ] Executing WaitStep. Dump: {'wait': '5s', 'datum': None, 'node': None, 'nodes': None, 'network': None, 'chain': None, 'timeout': 60, 'check_master': True, 'expected_count': None}
2025-12-12T07:28:13.750503Z [info     ] Waiting 5s (5s)               
2025-12-12T07:28:18.756068Z [info     ] Step 3/3: WaitStep            
2025-12-12T07:28:18.756720Z [info     ] Executing WaitStep. Dump: {'wait': 'finalized', 'datum': '{{token_hash}}', 'node': 'root-1', 'nodes': None, 'network': None, 'chain': 'zerochain', 'timeout': 80, 'check_master': True, 'expected_count': None}
2025-12-12T07:28:18.757044Z [info     ] Waiting for condition: finalized
2025-12-12T07:28:18.757335Z [info     ] Waiting for datum 0x7FF1D293FFAAD6... to be finalized
2025-12-12T07:28:18.758116Z [info     ] waiting_for_datum_in_mempool   chain=zerochain datum_hash=0x7FF1D293FFAAD612D87D5B1FB77B66874D91294E3C68015A5852FD51F07E5AB6 network=stagenet node=root-1 node_id=1
2025-12-12T07:28:18.863059Z [info     ] mempool_list_result            elapsed=0.10s looking_for=0x7FF1D293FFAAD612D87D5B1FB77B66874D91294E3C68015A5852FD51F07E5AB6 node_id=1 stdout_length=2177 stdout_preview='    \n        net: stagenet\n        chains: \n            \n                name: zerochain\n                removed: 0\n                datums: \n                    \n                        type: DATUM_TOKEN\n                        hash: 0x7FF1D293FFAAD612D87D5B1FB77B66874D91294E3C68015A5852FD51F07E5AB6\n                        created: \n                            time_stamp: 1765524493\n                            str: Fri, 12 Dec 2025 07:28:13 +0000\n\n                        Datum: \n                '
2025-12-12T07:28:18.863205Z [info     ] datum_found_in_mempool         datum=0x7FF1D293FFAAD6 elapsed=0.10s format=with_0x_prefix node_id=1
2025-12-12T07:29:19.336540Z [info     ] ✅ Datum 0x7FF1D293FFAAD6... finalized successfully in 60.2s
2025-12-12T07:29:19.336703Z [info     ] Step 13/23: ConfigStep (cellframe-node)
2025-12-12T07:29:19.336789Z [info     ] Config: regenerating 'cellframe-node' for nodes [1, 2, 3] with vars ['seed_mode']
2025-12-12T07:29:19.337690Z [info     ] cert_generator_initialized     certs_dir=/home/olzh/demlabs/second/cellframe-node/tests/testing/cache/certs docker_mode=True
2025-12-12T07:29:19.339350Z [info     ] Regenerated cellframe-node.cfg for node 1
2025-12-12T07:29:19.339719Z [info     ] Regenerated cellframe-node.cfg for node 2
2025-12-12T07:29:19.340038Z [info     ] Regenerated cellframe-node.cfg for node 3
2025-12-12T07:29:19.340113Z [info     ] Step 14/23: ConfigStep (stagenet/zerochain)
2025-12-12T07:29:19.340187Z [info     ] Config: regenerating 'stagenet/zerochain' for nodes [1, 2, 3] with vars ['static_genesis_event', 'is_static_genesis_event']
2025-12-12T07:29:19.340790Z [info     ] cert_generator_initialized     certs_dir=/home/olzh/demlabs/second/cellframe-node/tests/testing/cache/certs docker_mode=True
2025-12-12T07:29:19.342253Z [info     ] Regenerated zerochain.cfg for node 1
2025-12-12T07:29:19.342577Z [info     ] Regenerated zerochain.cfg for node 2
2025-12-12T07:29:19.342863Z [info     ] Regenerated zerochain.cfg for node 3
2025-12-12T07:29:19.342932Z [info     ] Step 15/23: DockerOpStep      
2025-12-12T07:29:19.342998Z [info     ] Docker operation: restart on services ['root-1', 'root-2', 'root-3']
2025-12-12T07:29:19.343055Z [info     ] restarting_services            services=['node-1', 'node-2', 'node-3']
2025-12-12T07:29:20.406198Z [info     ] services_restarted            
2025-12-12T07:29:20.406331Z [info     ] ✅ Docker operation 'restart' completed
2025-12-12T07:29:20.406385Z [info     ] Step 16/23: NetworkWaitStep   
2025-12-12T07:29:20.406436Z [info     ] Waiting for network state: online on nodes ['root-1', 'root-2', 'root-3']
2025-12-12T07:29:20.406526Z [info     ] waiting_for_nodes_online       node_count=3 timeout=60
2025-12-12T07:29:31.317604Z [info     ] node_state_check_during_wait   elapsed=10.8s node_id=2 note='Waiting for node to reach ONLINE state' state=NET_STATE_LINKS_PREPARE
2025-12-12T07:29:31.389308Z [info     ] node_state_check_during_wait   elapsed=10.8s node_id=3 note='Waiting for node to reach ONLINE state' state=NET_STATE_LINKS_PREPARE
2025-12-12T07:29:31.389487Z [info     ] nodes_online_progress          elapsed=10.8s online=1 total=3
2025-12-12T07:29:35.662179Z [info     ] all_nodes_online               count=3 elapsed=15.1s
2025-12-12T07:29:35.662324Z [info     ] ✅ Network state 'online' achieved
2025-12-12T07:29:35.662408Z [info     ] Step 17/23: NetworkWaitStep   
2025-12-12T07:29:35.662521Z [info     ] Waiting for network state: links_established on nodes ['root-1', 'root-2', 'root-3']
2025-12-12T07:29:35.669377Z [info     ] network_consensus_monitor_initialized network=stagenet nodes=3
2025-12-12T07:29:35.669507Z [info     ] waiting_for_links_established  nodes=3 timeout=120.0
2025-12-12T07:29:35.889976Z [info     ] all_nodes_links_established    elapsed=0.0s
2025-12-12T07:29:35.890102Z [info     ] ✅ Network state 'links_established' achieved
2025-12-12T07:29:35.890453Z [info     ] Step 18/23: WaitStep          
2025-12-12T07:29:35.890550Z [info     ] Executing WaitStep. Dump: {'wait': 'cli_ready', 'datum': None, 'node': None, 'nodes': ['root-1', 'root-2', 'root-3'], 'network': None, 'chain': None, 'timeout': 40, 'check_master': True, 'expected_count': None}
2025-12-12T07:29:35.890612Z [info     ] Waiting for condition: cli_ready
2025-12-12T07:29:35.898072Z [info     ] exec_cli_command_debug         command_original='net -net stagenet get status' command_split=['net', '-net', 'stagenet', 'get', 'status'] container=cellframe-stage-node-1 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-1', 'sh', '-c', 'cellframe-node-cli net -net stagenet get status'] shell_cmd='cellframe-node-cli net -net stagenet get status'
2025-12-12T07:29:35.988051Z [info     ] exec_cli_command_debug         command_original='net -net stagenet get status' command_split=['net', '-net', 'stagenet', 'get', 'status'] container=cellframe-stage-node-2 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-2', 'sh', '-c', 'cellframe-node-cli net -net stagenet get status'] shell_cmd='cellframe-node-cli net -net stagenet get status'
2025-12-12T07:29:36.048828Z [info     ] exec_cli_command_debug         command_original='net -net stagenet get status' command_split=['net', '-net', 'stagenet', 'get', 'status'] container=cellframe-stage-node-3 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-3', 'sh', '-c', 'cellframe-node-cli net -net stagenet get status'] shell_cmd='cellframe-node-cli net -net stagenet get status'
2025-12-12T07:29:36.119202Z [info     ] ✅ Waiter 'cli_ready' completed
2025-12-12T07:29:36.119342Z [info     ] Step 19/23: StepGroup         
2025-12-12T07:29:36.119422Z [info     ] Step 1/4: LoopStep            
2025-12-12T07:29:36.119500Z [info     ] Starting loop: 3 iterations   
2025-12-12T07:29:36.119561Z [info     ] Step 1/2: SetStep             
2025-12-12T07:29:36.119628Z [info     ] Set variable 'node_name' = root-1
2025-12-12T07:29:36.119680Z [info     ] Step 2/2: CLIStep             
2025-12-12T07:29:36.119732Z [info     ] CLI step: global_db sync -net stagenet (node: root-1)
2025-12-12T07:29:36.127631Z [info     ] exec_cli_command_debug         command_original='global_db sync -net stagenet' command_split=['global_db', 'sync', '-net', 'stagenet'] container=cellframe-stage-node-1 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-1', 'sh', '-c', 'cellframe-node-cli global_db sync -net stagenet'] shell_cmd='cellframe-node-cli global_db sync -net stagenet'
2025-12-12T07:29:36.204586Z [info     ] Step 1/2: SetStep             
2025-12-12T07:29:36.204728Z [info     ] Set variable 'node_name' = root-2
2025-12-12T07:29:36.204789Z [info     ] Step 2/2: CLIStep             
2025-12-12T07:29:36.204845Z [info     ] CLI step: global_db sync -net stagenet (node: root-2)
2025-12-12T07:29:36.211633Z [info     ] exec_cli_command_debug         command_original='global_db sync -net stagenet' command_split=['global_db', 'sync', '-net', 'stagenet'] container=cellframe-stage-node-2 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-2', 'sh', '-c', 'cellframe-node-cli global_db sync -net stagenet'] shell_cmd='cellframe-node-cli global_db sync -net stagenet'
2025-12-12T07:29:36.289983Z [info     ] Step 1/2: SetStep             
2025-12-12T07:29:36.290119Z [info     ] Set variable 'node_name' = root-3
2025-12-12T07:29:36.290177Z [info     ] Step 2/2: CLIStep             
2025-12-12T07:29:36.290229Z [info     ] CLI step: global_db sync -net stagenet (node: root-3)
2025-12-12T07:29:36.297556Z [info     ] exec_cli_command_debug         command_original='global_db sync -net stagenet' command_split=['global_db', 'sync', '-net', 'stagenet'] container=cellframe-stage-node-3 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-3', 'sh', '-c', 'cellframe-node-cli global_db sync -net stagenet'] shell_cmd='cellframe-node-cli global_db sync -net stagenet'
2025-12-12T07:29:36.360008Z [info     ] Step 2/4: WaitStep            
2025-12-12T07:29:36.360153Z [info     ] Executing WaitStep. Dump: {'wait': '5s', 'datum': None, 'node': None, 'nodes': None, 'network': None, 'chain': None, 'timeout': 60, 'check_master': True, 'expected_count': None}
2025-12-12T07:29:36.360226Z [info     ] Waiting 5s (5s)               
2025-12-12T07:29:41.363308Z [info     ] Step 3/4: LoopStep            
2025-12-12T07:29:41.363819Z [info     ] Starting loop: 3 iterations   
2025-12-12T07:29:41.364119Z [info     ] Step 1/2: SetStep             
2025-12-12T07:29:41.364406Z [info     ] Set variable 'node_name' = root-1
2025-12-12T07:29:41.364691Z [info     ] Step 2/2: CLIStep             
2025-12-12T07:29:41.364933Z [info     ] CLI step: mempool proc -net stagenet -chain zerochain (node: root-1)
2025-12-12T07:29:41.379881Z [info     ] exec_cli_command_debug         command_original='mempool proc -net stagenet -chain zerochain' command_split=['mempool', 'proc', '-net', 'stagenet', '-chain', 'zerochain'] container=cellframe-stage-node-1 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-1', 'sh', '-c', 'cellframe-node-cli mempool proc -net stagenet -chain zerochain'] shell_cmd='cellframe-node-cli mempool proc -net stagenet -chain zerochain'
2025-12-12T07:29:41.434993Z [info     ] Step 1/2: SetStep             
2025-12-12T07:29:41.435127Z [info     ] Set variable 'node_name' = root-2
2025-12-12T07:29:41.435185Z [info     ] Step 2/2: CLIStep             
2025-12-12T07:29:41.435239Z [info     ] CLI step: mempool proc -net stagenet -chain zerochain (node: root-2)
2025-12-12T07:29:41.442087Z [info     ] exec_cli_command_debug         command_original='mempool proc -net stagenet -chain zerochain' command_split=['mempool', 'proc', '-net', 'stagenet', '-chain', 'zerochain'] container=cellframe-stage-node-2 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-2', 'sh', '-c', 'cellframe-node-cli mempool proc -net stagenet -chain zerochain'] shell_cmd='cellframe-node-cli mempool proc -net stagenet -chain zerochain'
2025-12-12T07:29:41.508036Z [info     ] Step 1/2: SetStep             
2025-12-12T07:29:41.508174Z [info     ] Set variable 'node_name' = root-3
2025-12-12T07:29:41.508237Z [info     ] Step 2/2: CLIStep             
2025-12-12T07:29:41.508291Z [info     ] CLI step: mempool proc -net stagenet -chain zerochain (node: root-3)
2025-12-12T07:29:41.515861Z [info     ] exec_cli_command_debug         command_original='mempool proc -net stagenet -chain zerochain' command_split=['mempool', 'proc', '-net', 'stagenet', '-chain', 'zerochain'] container=cellframe-stage-node-3 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-3', 'sh', '-c', 'cellframe-node-cli mempool proc -net stagenet -chain zerochain'] shell_cmd='cellframe-node-cli mempool proc -net stagenet -chain zerochain'
2025-12-12T07:29:41.576973Z [info     ] Step 4/4: WaitStep            
2025-12-12T07:29:41.577113Z [info     ] Executing WaitStep. Dump: {'wait': '5s', 'datum': None, 'node': None, 'nodes': None, 'network': None, 'chain': None, 'timeout': 60, 'check_master': True, 'expected_count': None}
2025-12-12T07:29:41.577188Z [info     ] Waiting 5s (5s)               
2025-12-12T07:29:46.746357Z [info     ] Step 20/23: StepGroup         
2025-12-12T07:29:46.746971Z [info     ] Step 1/9: CLIStep             
2025-12-12T07:29:46.747280Z [info     ] CLI step: global_db flush (node: root-1)
2025-12-12T07:29:46.762582Z [info     ] exec_cli_command_debug         command_original='global_db flush' command_split=['global_db', 'flush'] container=cellframe-stage-node-1 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-1', 'sh', '-c', 'cellframe-node-cli global_db flush'] shell_cmd='cellframe-node-cli global_db flush'
2025-12-12T07:29:46.843964Z [info     ] Step 2/9: WaitStep            
2025-12-12T07:29:46.844109Z [info     ] Executing WaitStep. Dump: {'wait': '5s', 'datum': None, 'node': None, 'nodes': None, 'network': None, 'chain': None, 'timeout': 60, 'check_master': True, 'expected_count': None}
2025-12-12T07:29:46.844185Z [info     ] Waiting 5s (5s)               
2025-12-12T07:29:51.849103Z [info     ] Step 3/9: CLIStep             
2025-12-12T07:29:51.849767Z [info     ] CLI step: token_emit -chain zerochain -token TCELL -emission_value 1000000.0e+18 -addr WkojSeUjApyYYy5XFCtNdBP3NAXFZzWSUaJZSvYEaLn3RA4GFCJhgwvpec1Ruusbyjfd4EE7w4PEmSAir4VB4uBq8CuRZ2uFmg4vpRMd -certs pvt.stagenet.root.0,pvt.stagenet.root.1,pvt.stagenet.root.2 (node: root-1)
2025-12-12T07:29:51.867123Z [info     ] exec_cli_command_debug         command_original='token_emit -chain zerochain -token TCELL -emission_value 1000000.0e+18 -addr WkojSeUjApyYYy5XFCtNdBP3NAXFZzWSUaJZSvYEaLn3RA4GFCJhgwvpec1Ruusbyjfd4EE7w4PEmSAir4VB4uBq8CuRZ2uFmg4vpRMd -certs pvt.stagenet.root.0,pvt.stagenet.root.1,pvt.stagenet.root.2 -net stagenet' command_split=['token_emit', '-chain', 'zerochain', '-token', 'TCELL', '-emission_value', '1000000.0e+18', '-addr', 'WkojSeUjApyYYy5XFCtNdBP3NAXFZzWSUaJZSvYEaLn3RA4GFCJhgwvpec1Ruusbyjfd4EE7w4PEmSAir4VB4uBq8CuRZ2uFmg4vpRMd', '-certs', 'pvt.stagenet.root.0,pvt.stagenet.root.1,pvt.stagenet.root.2', '-net', 'stagenet'] container=cellframe-stage-node-1 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-1', 'sh', '-c', 'cellframe-node-cli token_emit -chain zerochain -token TCELL -emission_value 1000000.0e+18 -addr WkojSeUjApyYYy5XFCtNdBP3NAXFZzWSUaJZSvYEaLn3RA4GFCJhgwvpec1Ruusbyjfd4EE7w4PEmSAir4VB4uBq8CuRZ2uFmg4vpRMd -certs pvt.stagenet.root.0,pvt.stagenet.root.1,pvt.stagenet.root.2 -net stagenet'] shell_cmd='cellframe-node-cli token_emit -chain zerochain -token TCELL -emission_value 1000000.0e+18 -addr WkojSeUjApyYYy5XFCtNdBP3NAXFZzWSUaJZSvYEaLn3RA4GFCJhgwvpec1Ruusbyjfd4EE7w4PEmSAir4VB4uBq8CuRZ2uFmg4vpRMd -certs pvt.stagenet.root.0,pvt.stagenet.root.1,pvt.stagenet.root.2 -net stagenet'
2025-12-12T07:29:51.936512Z [info     ] Step 4/9: WaitStep            
2025-12-12T07:29:51.936658Z [info     ] Executing WaitStep. Dump: {'wait': '5s', 'datum': None, 'node': None, 'nodes': None, 'network': None, 'chain': None, 'timeout': 60, 'check_master': True, 'expected_count': None}
2025-12-12T07:29:51.936726Z [info     ] Waiting 5s (5s)               
2025-12-12T07:29:56.941745Z [info     ] Step 5/9: LoopStep            
2025-12-12T07:29:56.941912Z [info     ] Starting loop: 3 iterations   
2025-12-12T07:29:56.941992Z [info     ] Step 1/3: SetStep             
2025-12-12T07:29:56.942052Z [info     ] Set variable 'node_name' = root-1
2025-12-12T07:29:56.942101Z [info     ] Step 2/3: CLIStep             
2025-12-12T07:29:56.942148Z [info     ] CLI step: mempool proc -net stagenet -chain zerochain (node: root-1)
2025-12-12T07:29:56.950118Z [info     ] exec_cli_command_debug         command_original='mempool proc -net stagenet -chain zerochain' command_split=['mempool', 'proc', '-net', 'stagenet', '-chain', 'zerochain'] container=cellframe-stage-node-1 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-1', 'sh', '-c', 'cellframe-node-cli mempool proc -net stagenet -chain zerochain'] shell_cmd='cellframe-node-cli mempool proc -net stagenet -chain zerochain'
2025-12-12T07:29:57.010343Z [info     ] Step 3/3: WaitStep            
2025-12-12T07:29:57.010489Z [info     ] Executing WaitStep. Dump: {'wait': '5s', 'datum': None, 'node': None, 'nodes': None, 'network': None, 'chain': None, 'timeout': 60, 'check_master': True, 'expected_count': None}
2025-12-12T07:29:57.010561Z [info     ] Waiting 5s (5s)               
2025-12-12T07:30:02.012179Z [info     ] Step 1/3: SetStep             
2025-12-12T07:30:02.012783Z [info     ] Set variable 'node_name' = root-2
2025-12-12T07:30:02.013132Z [info     ] Step 2/3: CLIStep             
2025-12-12T07:30:02.013485Z [info     ] CLI step: mempool proc -net stagenet -chain zerochain (node: root-2)
2025-12-12T07:30:02.027825Z [info     ] exec_cli_command_debug         command_original='mempool proc -net stagenet -chain zerochain' command_split=['mempool', 'proc', '-net', 'stagenet', '-chain', 'zerochain'] container=cellframe-stage-node-2 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-2', 'sh', '-c', 'cellframe-node-cli mempool proc -net stagenet -chain zerochain'] shell_cmd='cellframe-node-cli mempool proc -net stagenet -chain zerochain'
2025-12-12T07:30:02.096281Z [info     ] Step 3/3: WaitStep            
2025-12-12T07:30:02.096426Z [info     ] Executing WaitStep. Dump: {'wait': '5s', 'datum': None, 'node': None, 'nodes': None, 'network': None, 'chain': None, 'timeout': 60, 'check_master': True, 'expected_count': None}
2025-12-12T07:30:02.096501Z [info     ] Waiting 5s (5s)               
2025-12-12T07:30:07.101742Z [info     ] Step 1/3: SetStep             
2025-12-12T07:30:07.102343Z [info     ] Set variable 'node_name' = root-3
2025-12-12T07:30:07.102589Z [info     ] Step 2/3: CLIStep             
2025-12-12T07:30:07.102882Z [info     ] CLI step: mempool proc -net stagenet -chain zerochain (node: root-3)
2025-12-12T07:30:07.119290Z [info     ] exec_cli_command_debug         command_original='mempool proc -net stagenet -chain zerochain' command_split=['mempool', 'proc', '-net', 'stagenet', '-chain', 'zerochain'] container=cellframe-stage-node-3 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-3', 'sh', '-c', 'cellframe-node-cli mempool proc -net stagenet -chain zerochain'] shell_cmd='cellframe-node-cli mempool proc -net stagenet -chain zerochain'
2025-12-12T07:30:07.200730Z [info     ] Step 3/3: WaitStep            
2025-12-12T07:30:07.200885Z [info     ] Executing WaitStep. Dump: {'wait': '5s', 'datum': None, 'node': None, 'nodes': None, 'network': None, 'chain': None, 'timeout': 60, 'check_master': True, 'expected_count': None}
2025-12-12T07:30:07.200958Z [info     ] Waiting 5s (5s)               
2025-12-12T07:30:12.330083Z [info     ] Step 6/9: WaitStep            
2025-12-12T07:30:12.330636Z [info     ] Executing WaitStep. Dump: {'wait': '15s', 'datum': None, 'node': None, 'nodes': None, 'network': None, 'chain': None, 'timeout': 60, 'check_master': True, 'expected_count': None}
2025-12-12T07:30:12.330875Z [info     ] Waiting 15s (15s)             
2025-12-12T07:30:27.337365Z [info     ] Step 7/9: WaitStep            
2025-12-12T07:30:27.338102Z [info     ] Executing WaitStep. Dump: {'wait': 'finalized', 'datum': '{{emission_hash}}', 'node': 'root-1', 'nodes': None, 'network': None, 'chain': 'zerochain', 'timeout': 120, 'check_master': True, 'expected_count': None}
2025-12-12T07:30:27.338525Z [info     ] Waiting for condition: finalized
2025-12-12T07:30:27.338846Z [info     ] Waiting for datum 0x6AFD2C120EA23D... to be finalized
2025-12-12T07:30:27.339199Z [info     ] waiting_for_datum_in_mempool   chain=zerochain datum_hash=0x6AFD2C120EA23DC75E5950A70EF3124F31F794B940C843732AA597D1ACF75E15 network=stagenet node=root-1 node_id=1
2025-12-12T07:30:27.412398Z [info     ] mempool_list_result            elapsed=0.07s looking_for=0x6AFD2C120EA23DC75E5950A70EF3124F31F794B940C843732AA597D1ACF75E15 node_id=1 stdout_length=190 stdout_preview='    \n        net: stagenet\n        chains: \n            \n                name: zerochain\n                removed: 0\n                datums: \n\n                total: stagenet.zerochain: 0\n\n\n\n'
2025-12-12T07:30:27.412550Z [info     ] datum_not_found_yet            looking_for=0x6AFD2C120EA23DC75E5950A70EF3124F31F794B940C843732AA597D1ACF75E15 looking_for_no_prefix=6afd2c120ea23dc75e5950a70ef3124f31f794b940c843732aa597d1acf75e15 node_id=1 stdout_sample='    \n        net: stagenet\n        chains: \n            \n                name: zerochain\n                removed: 0\n                datums: \n\n                total: stagenet.zerochain: 0\n\n\n\n'
2025-12-12T07:30:27.981422Z [info     ] mempool_list_result            elapsed=0.64s looking_for=0x6AFD2C120EA23DC75E5950A70EF3124F31F794B940C843732AA597D1ACF75E15 node_id=1 stdout_length=190 stdout_preview='    \n        net: stagenet\n        chains: \n            \n                name: zerochain\n                removed: 0\n                datums: \n\n                total: stagenet.zerochain: 0\n\n\n\n'
2025-12-12T07:30:27.981584Z [info     ] datum_not_found_yet            looking_for=0x6AFD2C120EA23DC75E5950A70EF3124F31F794B940C843732AA597D1ACF75E15 looking_for_no_prefix=6afd2c120ea23dc75e5950a70ef3124f31f794b940c843732aa597d1acf75e15 node_id=1 stdout_sample='    \n        net: stagenet\n        chains: \n            \n                name: zerochain\n                removed: 0\n                datums: \n\n                total: stagenet.zerochain: 0\n\n\n\n'
2025-12-12T07:30:28.551687Z [info     ] mempool_list_result            elapsed=1.21s looking_for=0x6AFD2C120EA23DC75E5950A70EF3124F31F794B940C843732AA597D1ACF75E15 node_id=1 stdout_length=190 stdout_preview='    \n        net: stagenet\n        chains: \n            \n                name: zerochain\n                removed: 0\n                datums: \n\n                total: stagenet.zerochain: 0\n\n\n\n'
2025-12-12T07:30:28.551834Z [info     ] datum_not_found_yet            looking_for=0x6AFD2C120EA23DC75E5950A70EF3124F31F794B940C843732AA597D1ACF75E15 looking_for_no_prefix=6afd2c120ea23dc75e5950a70ef3124f31f794b940c843732aa597d1acf75e15 node_id=1 stdout_sample='    \n        net: stagenet\n        chains: \n            \n                name: zerochain\n                removed: 0\n                datums: \n\n                total: stagenet.zerochain: 0\n\n\n\n'
2025-12-12T07:30:29.115424Z [info     ] mempool_list_result            elapsed=1.78s looking_for=0x6AFD2C120EA23DC75E5950A70EF3124F31F794B940C843732AA597D1ACF75E15 node_id=1 stdout_length=190 stdout_preview='    \n        net: stagenet\n        chains: \n            \n                name: zerochain\n                removed: 0\n                datums: \n\n                total: stagenet.zerochain: 0\n\n\n\n'
2025-12-12T07:30:29.115566Z [info     ] datum_not_found_yet            looking_for=0x6AFD2C120EA23DC75E5950A70EF3124F31F794B940C843732AA597D1ACF75E15 looking_for_no_prefix=6afd2c120ea23dc75e5950a70ef3124f31f794b940c843732aa597d1acf75e15 node_id=1 stdout_sample='    \n        net: stagenet\n        chains: \n            \n                name: zerochain\n                removed: 0\n                datums: \n\n                total: stagenet.zerochain: 0\n\n\n\n'
2025-12-12T07:30:29.706150Z [info     ] mempool_list_result            elapsed=2.37s looking_for=0x6AFD2C120EA23DC75E5950A70EF3124F31F794B940C843732AA597D1ACF75E15 node_id=1 stdout_length=190 stdout_preview='    \n        net: stagenet\n        chains: \n            \n                name: zerochain\n                removed: 0\n                datums: \n\n                total: stagenet.zerochain: 0\n\n\n\n'
2025-12-12T07:30:30.270882Z [info     ] mempool_list_result            elapsed=2.93s looking_for=0x6AFD2C120EA23DC75E5950A70EF3124F31F794B940C843732AA597D1ACF75E15 node_id=1 stdout_length=190 stdout_preview='    \n        net: stagenet\n        chains: \n            \n                name: zerochain\n                removed: 0\n                datums: \n\n                total: stagenet.zerochain: 0\n\n\n\n'
2025-12-12T07:30:30.837819Z [info     ] mempool_list_result            elapsed=3.50s looking_for=0x6AFD2C120EA23DC75E5950A70EF3124F31F794B940C843732AA597D1ACF75E15 node_id=1 stdout_length=190 stdout_preview='    \n        net: stagenet\n        chains: \n            \n                name: zerochain\n                removed: 0\n                datums: \n\n                total: stagenet.zerochain: 0\n\n\n\n'
2025-12-12T07:30:31.424279Z [info     ] mempool_list_result            elapsed=4.08s looking_for=0x6AFD2C120EA23DC75E5950A70EF3124F31F794B940C843732AA597D1ACF75E15 node_id=1 stdout_length=190 stdout_preview='    \n        net: stagenet\n        chains: \n            \n                name: zerochain\n                removed: 0\n                datums: \n\n                total: stagenet.zerochain: 0\n\n\n\n'
2025-12-12T07:30:32.006219Z [info     ] mempool_list_result            elapsed=4.67s looking_for=0x6AFD2C120EA23DC75E5950A70EF3124F31F794B940C843732AA597D1ACF75E15 node_id=1 stdout_length=190 stdout_preview='    \n        net: stagenet\n        chains: \n            \n                name: zerochain\n                removed: 0\n                datums: \n\n                total: stagenet.zerochain: 0\n\n\n\n'
2025-12-12T07:30:37.636196Z [warning  ] datum_not_found_in_mempool_timeout chain=zerochain datum=0x6AFD2C120EA23D elapsed=10.3s note='Datum not found in mempool - may not have been created or synced'
2025-12-12T07:30:37.653369Z [info     ] collected_node_logs_for_diagnosis container=cellframe-stage-node-1 lines=100 log_preview='\x1b[1;35;40m[12/12/25-07:29:41] [WRN] [dap_global_db][dap_global_db_get_sync:443] Sanity check error\n\x1b[1;31;40m[12/12/25-07:29:41] [ERR] [dap_json_rpc_errors] Registration type error. Code error: 15 message: Error! Can\'t find datum (null)\n\x1b[0;37;40m[12/12/25-07:29:46] [DBG] [dap_server] Listening socket 465 uuid 0x0000106D binded on /opt/cellframe-node/var/run/node_cli:438 accepted new connection from remote 482\n\x1b[1;32;40m[12/12/25-07:29:46] [INF] [dap_server] Connection accepted at "/opt/cellfram' node=root-1
2025-12-12T07:30:37.653526Z [error    ] Datum finalization failed: Datum never appeared in mempool after 10.0s - likely not created (check CLI command output for errors)
2025-12-12T07:30:37.653629Z [error    ] WaitStep execution failed. Step: wait='finalized' datum='{{emission_hash}}' node='root-1' nodes=None network=None chain='zerochain' timeout=120 check_master=True expected_count=None. Error: Datum finalization failed: Datum never appeared in mempool after 10.0s - likely not created (check CLI command output for errors)
Step: wait='finalized' datum='{{emission_hash}}' node='root-1' nodes=None network=None chain='zerochain' timeout=120 check_master=True expected_count=None
Context: {'datum_hash': '0x6AFD2C120EA23DC75E5950A70EF3124F31F794B940C843732AA597D1ACF75E15', 'status': 'rejected', 'elapsed_time': 1.3270000636111945e-06, 'details': {}}
2025-12-12T07:30:37.664830Z [error    ] Traceback (most recent call last):
  File "/home/olzh/demlabs/second/cellframe-node/tests/stage-env/src/scenarios/step/wait.py", line 66, in execute
    await self._execute_waiter(step, ctx)
  File "/home/olzh/demlabs/second/cellframe-node/tests/stage-env/src/scenarios/step/wait.py", line 229, in _execute_waiter
    await self._execute_datum_finalized_waiter(step, ctx)
  File "/home/olzh/demlabs/second/cellframe-node/tests/stage-env/src/scenarios/step/wait.py", line 182, in _execute_datum_finalized_waiter
    raise ScenarioExecutionError(
src.scenarios.executor.ScenarioExecutionError: Datum finalization failed: Datum never appeared in mempool after 10.0s - likely not created (check CLI command output for errors)
Step: wait='finalized' datum='{{emission_hash}}' node='root-1' nodes=None network=None chain='zerochain' timeout=120 check_master=True expected_count=None
Context: {'datum_hash': '0x6AFD2C120EA23DC75E5950A70EF3124F31F794B940C843732AA597D1ACF75E15', 'status': 'rejected', 'elapsed_time': 1.3270000636111945e-06, 'details': {}}

2025-12-12T07:30:37.666301Z [error    ] root_nodes_genesis_failed      error="Datum finalization failed: Datum never appeared in mempool after 10.0s - likely not created (check CLI command output for errors)\nStep: wait='finalized' datum='{{emission_hash}}' node='root-1' nodes=None network=None chain='zerochain' timeout=120 check_master=True expected_count=None\nContext: {'datum_hash': '0x6AFD2C120EA23DC75E5950A70EF3124F31F794B940C843732AA597D1ACF75E15', 'status': 'rejected', 'elapsed_time': 1.3270000636111945e-06, 'details': {}}" traceback='Traceback (most recent call last):\n  File "/home/olzh/demlabs/second/cellframe-node/tests/stage-env/src/network/manager.py", line 384, in start\n    ctx = await executor.execute_scenario(\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/home/olzh/demlabs/second/cellframe-node/tests/stage-env/src/scenarios/executor.py", line 499, in execute_scenario\n    await self._execute_steps(scenario.test.steps, ctx, section_defaults)\n  File "/home/olzh/demlabs/second/cellframe-node/tests/stage-env/src/scenarios/executor.py", line 567, in _execute_steps\n    await self._execute_steps(step.steps, ctx, group_defaults)\n  File "/home/olzh/demlabs/second/cellframe-node/tests/stage-env/src/scenarios/executor.py", line 583, in _execute_steps\n    await self.wait_executor.execute(step, ctx)\n  File "/home/olzh/demlabs/second/cellframe-node/tests/stage-env/src/scenarios/step/wait.py", line 66, in execute\n    await self._execute_waiter(step, ctx)\n  File "/home/olzh/demlabs/second/cellframe-node/tests/stage-env/src/scenarios/step/wait.py", line 229, in _execute_waiter\n    await self._execute_datum_finalized_waiter(step, ctx)\n  File "/home/olzh/demlabs/second/cellframe-node/tests/stage-env/src/scenarios/step/wait.py", line 182, in _execute_datum_finalized_waiter\n    raise ScenarioExecutionError(\nsrc.scenarios.executor.ScenarioExecutionError: Datum finalization failed: Datum never appeared in mempool after 10.0s - likely not created (check CLI command output for errors)\nStep: wait=\'finalized\' datum=\'{{emission_hash}}\' node=\'root-1\' nodes=None network=None chain=\'zerochain\' timeout=120 check_master=True expected_count=None\nContext: {\'datum_hash\': \'0x6AFD2C120EA23DC75E5950A70EF3124F31F794B940C843732AA597D1ACF75E15\', \'status\': \'rejected\', \'elapsed_time\': 1.3270000636111945e-06, \'details\': {}}\n'
2025-12-12T07:30:37.666476Z [info     ] stopping_services              remove_images=False volumes=False
2025-12-12T07:30:39.218913Z [info     ] services_stopped              
