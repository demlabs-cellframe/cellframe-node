2025-12-15T15:57:26.804615Z [info     ] file_logging_enabled           log_file=/home/olzh/demlabs/second/cellframe-node/tests/stage-env/../testing/logs/stage-env_20251215_225726.log
2025-12-15T15:57:26.932636Z [info     ] artifacts_manager_initialized  artifacts_dir=/home/olzh/demlabs/second/cellframe-node/tests/testing/artifacts collect_crash_dumps=True collect_health_logs=True collect_node_logs=True
2025-12-15T15:57:26.933756Z [info     ] loading_topology_from_template topology=default
2025-12-15T15:57:26.934125Z [info     ] loaded_config                  path=/home/olzh/demlabs/second/cellframe-node/tests/stage-env/config/stage-env.cfg
2025-12-15T15:57:26.939062Z [info     ] cert_generator_initialized     certs_dir=/home/olzh/demlabs/second/cellframe-node/tests/stage-env/cache/certs docker_mode=True
2025-12-15T15:57:26.967676Z [info     ] docker_connected               version=28.5.1
2025-12-15T15:57:27.154676Z [info     ] genesis_initializer_created    network=stagenet
2025-12-15T15:57:27.162683Z [info     ] artifacts_manager_initialized  artifacts_dir=/home/olzh/demlabs/second/cellframe-node/tests/testing/artifacts collect_crash_dumps=True collect_health_logs=True collect_node_logs=True
2025-12-15T15:57:27.163121Z [info     ] snapshot_manager_initialized   base_path=/home/olzh/demlabs/second/cellframe-node/tests/stage-env config={'mode': 'disabled', 'squashfs_compression': 'none', 'auto_create_on_startup': True, 'snapshot_name': 'clean_state', 'genesis_stage': 'full', 'phase1_snapshot_name': 'phase1_zerochain_genesis', 'auto_cleanup': True, 'keep_snapshot_count': 5, 'snapshots_dir': '../testing/snapshots', 'cache_dir': 'cache'} mode=disabled
2025-12-15T15:57:27.163718Z [info     ] network_manager_initialized    cache_dir=cache network=stagenet snapshot_mode=disabled timeouts={'startup': 600, 'health_check': 600, 'command': 30} topology=default
2025-12-15T15:57:27.163959Z [info     ] starting_network               rebuild=False topology=default
2025-12-15T15:57:27.164026Z [info     ] stopping_previous_environment 
2025-12-15T15:57:27.164078Z [info     ] stopping_services              remove_images=False volumes=False
2025-12-15T15:57:27.244890Z [info     ] services_stopped              
2025-12-15T15:57:27.245024Z [info     ] previous_environment_stopped  
2025-12-15T15:57:27.245070Z [info     ] cleanup_stale_resources        project=cellframe-stage
2025-12-15T15:57:27.344197Z [info     ] removing_stale_containers      count=6
2025-12-15T15:57:29.070716Z [info     ] removing_stale_networks        count=1
2025-12-15T15:57:29.422383Z [info     ] cleanup_completed             
2025-12-15T15:57:29.422726Z [info     ] snapshot_system_disabled_or_auto_create_disabled_cleaning_data
2025-12-15T15:57:29.422950Z [info     ] removing_node_data_directories path=/home/olzh/demlabs/second/cellframe-node/tests/stage-env/cache/data
2025-12-15T15:57:29.423037Z [info     ] cleaning_cache_data_with_docker path=/home/olzh/demlabs/second/cellframe-node/tests/stage-env/cache/data
2025-12-15T15:57:29.812298Z [info     ] cache_data_cleaned             output='Cleanup complete'
2025-12-15T15:57:29.812520Z [info     ] node_data_removed             
2025-12-15T15:57:29.812782Z [info     ] node_data_cleaned_and_recreated nodes=0
2025-12-15T15:57:29.812864Z [info     ] generating_node_configs       
2025-12-15T15:57:29.812967Z [info     ] node_configs_generated         count=8 seed_nodes=3 validators=3
2025-12-15T15:57:29.813025Z [info     ] generating_configs_and_certs  
2025-12-15T15:57:29.813078Z [info     ] generating_configurations      force=False network=stagenet nodes=8
2025-12-15T15:57:29.815480Z [info     ] preparing_certificate_directories count=8 note='Certificates will be created inside containers after startup'
2025-12-15T15:57:29.817025Z [info     ] certificate_directories_prepared note='Run create_certificates_in_containers() after container startup'
2025-12-15T15:57:29.821519Z [info     ] validator_addresses_collected  addresses=[] count=0
2025-12-15T15:57:29.821679Z [info     ] root_node_addresses_collected  addresses=[] count=0
2025-12-15T15:57:29.821771Z [info     ] validator_addresses_collected  addresses=[] count=0
2025-12-15T15:57:29.821825Z [info     ] mainchain_validators_configured master_validators_count=3 min_validators_count=2 note='Using master node addresses in validators_addrs for mainchain'
2025-12-15T15:57:29.822223Z [info     ] loaded_config                  path=/home/olzh/demlabs/second/cellframe-node/tests/stage-env/config/stage-env.cfg
2025-12-15T15:57:29.825312Z [info     ] configurations_generated       network=stagenet nodes=8
2025-12-15T15:57:29.825402Z [info     ] generating_docker_compose     
2025-12-15T15:57:29.825740Z [info     ] generating_compose_file        build_type=debug cache_dir=cache node_count=8 node_source_type=url
2025-12-15T15:57:29.850511Z [info     ] compose_file_generated         path=/home/olzh/demlabs/second/cellframe-node/tests/stage-env/docker-compose.generated.yml services=8
2025-12-15T15:57:29.850674Z [info     ] node_distribution              full=2 master=3 root=3
2025-12-15T15:57:29.850743Z [info     ] === PHASE 1: ROOT Nodes Startup (DAG-PoA Genesis) ===
2025-12-15T15:57:29.858858Z [info     ] network_consensus_monitor_initialized network=stagenet nodes=3
2025-12-15T15:57:29.872033Z [info     ] Loaded scenario: PHASE 1 - Zerochain Genesis from genesis/phase1_zerochain.yml
2025-12-15T15:57:29.885981Z [info     ] executing_phase1_scenario     
2025-12-15T15:57:29.886123Z [info     ] Starting scenario: PHASE 1 - Zerochain Genesis
2025-12-15T15:57:29.886175Z [info     ] Description: Initialize ROOT nodes, create token and emission
2025-12-15T15:57:29.886246Z [info     ] Executing setup phase...      
2025-12-15T15:57:29.886314Z [info     ] Step 1/7: ConfigStep (cellframe-node)
2025-12-15T15:57:29.886472Z [info     ] Config: regenerating 'cellframe-node' for nodes [1, 2, 3] with vars ['seed_mode']
2025-12-15T15:57:29.887285Z [info     ] cert_generator_initialized     certs_dir=/home/olzh/demlabs/second/cellframe-node/tests/stage-env/cache/certs docker_mode=True
2025-12-15T15:57:29.888396Z [info     ] Regenerated cellframe-node.cfg for node 1
2025-12-15T15:57:29.888627Z [info     ] Regenerated cellframe-node.cfg for node 2
2025-12-15T15:57:29.888813Z [info     ] Regenerated cellframe-node.cfg for node 3
2025-12-15T15:57:29.888888Z [info     ] Step 2/7: DockerOpStep        
2025-12-15T15:57:29.888956Z [info     ] Docker operation: start on services ['root-1', 'root-2', 'root-3', 'master-1', 'master-2', 'master-3']
2025-12-15T15:57:29.889025Z [info     ] starting_services              services=['node-1', 'node-2', 'node-3', 'node-4', 'node-5', 'node-6']
2025-12-15T15:57:30.525465Z [info     ] services_started              
2025-12-15T15:57:30.526082Z [info     ] waiting_for_container_ips      containers=['cellframe-stage-node-1', 'cellframe-stage-node-2', 'cellframe-stage-node-3', 'cellframe-stage-node-4', 'cellframe-stage-node-5', 'cellframe-stage-node-6']
2025-12-15T15:57:30.526229Z [info     ] waiting_for_container_ips      containers=['cellframe-stage-node-2', 'cellframe-stage-node-6', 'cellframe-stage-node-5', 'cellframe-stage-node-3', 'cellframe-stage-node-4', 'cellframe-stage-node-1'] timeout=30.0
2025-12-15T15:57:30.554134Z [info     ] all_containers_have_ips        count=6 elapsed=0.0
2025-12-15T15:57:30.554272Z [info     ] ✅ All containers have IP addresses count=6
2025-12-15T15:57:30.554329Z [info     ] ✅ Docker operation 'start' completed
2025-12-15T15:57:30.554383Z [info     ] Step 3/7: WaitStep            
2025-12-15T15:57:30.554459Z [info     ] Executing WaitStep. Dump: {'wait': 'cli_ready', 'datum': None, 'node': None, 'nodes': ['root-1', 'root-2', 'root-3', 'master-1', 'master-2', 'master-3'], 'network': None, 'chain': None, 'timeout': 60, 'wallet': None, 'token': None, 'balance': None, 'check_master': True, 'expected_count': None}
2025-12-15T15:57:30.554620Z [info     ] Waiting for condition: cli_ready
2025-12-15T15:57:30.564829Z [info     ] exec_cli_command_debug         command_original='net -net stagenet get status' command_split=['net', '-net', 'stagenet', 'get', 'status'] container=cellframe-stage-node-1 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-1', 'sh', '-c', 'cellframe-node-cli net -net stagenet get status'] shell_cmd='cellframe-node-cli net -net stagenet get status'
2025-12-15T15:57:30.646519Z [info     ] exec_cli_command_debug         command_original='net -net stagenet get status' command_split=['net', '-net', 'stagenet', 'get', 'status'] container=cellframe-stage-node-2 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-2', 'sh', '-c', 'cellframe-node-cli net -net stagenet get status'] shell_cmd='cellframe-node-cli net -net stagenet get status'
2025-12-15T15:57:30.735160Z [info     ] exec_cli_command_debug         command_original='net -net stagenet get status' command_split=['net', '-net', 'stagenet', 'get', 'status'] container=cellframe-stage-node-3 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-3', 'sh', '-c', 'cellframe-node-cli net -net stagenet get status'] shell_cmd='cellframe-node-cli net -net stagenet get status'
2025-12-15T15:57:30.837953Z [info     ] exec_cli_command_debug         command_original='net -net stagenet get status' command_split=['net', '-net', 'stagenet', 'get', 'status'] container=cellframe-stage-node-4 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-4', 'sh', '-c', 'cellframe-node-cli net -net stagenet get status'] shell_cmd='cellframe-node-cli net -net stagenet get status'
2025-12-15T15:57:30.921961Z [info     ] exec_cli_command_debug         command_original='net -net stagenet get status' command_split=['net', '-net', 'stagenet', 'get', 'status'] container=cellframe-stage-node-5 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-5', 'sh', '-c', 'cellframe-node-cli net -net stagenet get status'] shell_cmd='cellframe-node-cli net -net stagenet get status'
2025-12-15T15:57:30.994939Z [info     ] exec_cli_command_debug         command_original='net -net stagenet get status' command_split=['net', '-net', 'stagenet', 'get', 'status'] container=cellframe-stage-node-6 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-6', 'sh', '-c', 'cellframe-node-cli net -net stagenet get status'] shell_cmd='cellframe-node-cli net -net stagenet get status'
2025-12-15T15:57:31.066258Z [info     ] ✅ Waiter 'cli_ready' completed
2025-12-15T15:57:31.066393Z [info     ] Step 4/7: BashStep            
2025-12-15T15:57:31.066462Z [info     ] executing_bash_on_host         script_preview='TOOL=/opt/cellframe-node/bin/cellframe-node-tool\nNET=stagenet\nKTYPE=sig_dil\n\n# Host path for shared '
2025-12-15T15:57:32.539463Z [info     ] bash_host_execution_completed  returncode=0 stdout_preview='File "/opt/cellframe-node/var/lib/ca/node-addr.dcert" already exists!\nCert "/opt/cellframe-node/var/lib/ca/pvt.stagenet.root.0.dcert" created\nA certificate with a public key has been created.\nROOT nod'
2025-12-15T15:57:32.539616Z [info     ] Step 5/7: DockerOpStep        
2025-12-15T15:57:32.539673Z [info     ] Docker operation: restart on services ['root-1', 'root-2', 'root-3', 'master-1', 'master-2', 'master-3']
2025-12-15T15:57:32.539740Z [info     ] restarting_services            services=['node-1', 'node-2', 'node-3', 'node-4', 'node-5', 'node-6']
2025-12-15T15:57:33.913756Z [info     ] services_restarted            
2025-12-15T15:57:33.913914Z [info     ] ✅ Docker operation 'restart' completed
2025-12-15T15:57:33.913983Z [info     ] Step 6/7: NetworkWaitStep     
2025-12-15T15:57:33.914060Z [info     ] Waiting for network state: online on nodes ['root-1', 'root-2', 'root-3', 'master-1', 'master-2', 'master-3']
2025-12-15T15:57:33.935097Z [info     ] waiting_for_nodes_online       node_count=6 timeout=120
2025-12-15T15:57:41.132702Z [info     ] all_nodes_online               count=6 elapsed=7.0s
2025-12-15T15:57:41.132853Z [info     ] ✅ Network state 'online' achieved
2025-12-15T15:57:41.132916Z [info     ] Step 7/7: WaitStep            
2025-12-15T15:57:41.132989Z [info     ] Executing WaitStep. Dump: {'wait': '5s', 'datum': None, 'node': None, 'nodes': None, 'network': None, 'chain': None, 'timeout': 60, 'wallet': None, 'token': None, 'balance': None, 'check_master': True, 'expected_count': None}
2025-12-15T15:57:41.133135Z [info     ] Waiting 5s (5s)               
2025-12-15T15:57:46.134754Z [info     ] collecting_global_context_after_setup nodes=3
2025-12-15T15:57:46.134993Z [info     ] global_context_waiting_for_ips containers=['cellframe-stage-node-1', 'cellframe-stage-node-2', 'cellframe-stage-node-3'] count=3
2025-12-15T15:57:46.135107Z [info     ] waiting_for_container_ips      containers=['cellframe-stage-node-1', 'cellframe-stage-node-2', 'cellframe-stage-node-3'] timeout=30.0
2025-12-15T15:57:46.147608Z [info     ] all_containers_have_ips        count=3 elapsed=0.0
2025-12-15T15:57:46.147745Z [info     ] global_context_ips_collected   count=3 node_ip_map={'node1': '172.20.0.10', 'node2': '172.20.0.11', 'node3': '172.20.0.12'}
2025-12-15T15:57:46.147814Z [info     ] global_context_injected_into_scenario node_count=3 node_ip_map={'node1': '172.20.0.10', 'node2': '172.20.0.11', 'node3': '172.20.0.12'} variables=['network_name', 'topology_name', 'node_ips', 'node_ip', 'node_count', 'root_count', 'master_count', 'full_count', 'root_nodes', 'master_nodes', 'full_nodes']
2025-12-15T15:57:46.158981Z [info     ] Loaded CLI commands from cache: 41 commands
2025-12-15T15:57:46.159109Z [info     ] Executing test phase...       
2025-12-15T15:57:46.159181Z [info     ] Step 1/24: StepGroup          
2025-12-15T15:57:46.159345Z [info     ] Step 1/3: CLIStep             
2025-12-15T15:57:46.159407Z [info     ] CLI: node dump                
2025-12-15T15:57:46.168026Z [info     ] exec_cli_command_debug         command_original='node dump -net stagenet' command_split=['node', 'dump', '-net', 'stagenet'] container=cellframe-stage-node-1 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-1', 'sh', '-c', 'cellframe-node-cli node dump -net stagenet'] shell_cmd='cellframe-node-cli node dump -net stagenet'
2025-12-15T15:57:46.242148Z [info     ] cli_save_node_output_debug     command='node dump -net stagenet' output_length=292 output_preview='Record timestamp: Mon, 15 Dec 2025 15:57:43 +0000\nRecord version: 2\nNode version: 5.7-14\nNode addr: FD70::A81D::4C84::14E6\nNet: stagenet\nRole: NODE_ROLE_ROOT\nEvents count: 0\nAtoms count: 0\nUplinks count: 0\nDownlinks count: 0\n-----------------------------------------------------------------\n\n' pattern='Node addr:\\s+([A-Fa-f0-9:]+)'
2025-12-15T15:57:46.242445Z [info     ] Step 2/3: CLIStep             
2025-12-15T15:57:46.242514Z [info     ] CLI: node dump                
2025-12-15T15:57:46.250194Z [info     ] exec_cli_command_debug         command_original='node dump -net stagenet' command_split=['node', 'dump', '-net', 'stagenet'] container=cellframe-stage-node-2 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-2', 'sh', '-c', 'cellframe-node-cli node dump -net stagenet'] shell_cmd='cellframe-node-cli node dump -net stagenet'
2025-12-15T15:57:46.305480Z [info     ] cli_save_node_output_debug     command='node dump -net stagenet' output_length=292 output_preview='Record timestamp: Mon, 15 Dec 2025 15:57:43 +0000\nRecord version: 2\nNode version: 5.7-14\nNode addr: F6BB::DB46::CCFC::1A1F\nNet: stagenet\nRole: NODE_ROLE_ROOT\nEvents count: 0\nAtoms count: 0\nUplinks count: 0\nDownlinks count: 0\n-----------------------------------------------------------------\n\n' pattern='Node addr:\\s+([A-Fa-f0-9:]+)'
2025-12-15T15:57:46.305661Z [info     ] Step 3/3: CLIStep             
2025-12-15T15:57:46.305729Z [info     ] CLI: node dump                
2025-12-15T15:57:46.313350Z [info     ] exec_cli_command_debug         command_original='node dump -net stagenet' command_split=['node', 'dump', '-net', 'stagenet'] container=cellframe-stage-node-3 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-3', 'sh', '-c', 'cellframe-node-cli node dump -net stagenet'] shell_cmd='cellframe-node-cli node dump -net stagenet'
2025-12-15T15:57:46.378291Z [info     ] cli_save_node_output_debug     command='node dump -net stagenet' output_length=292 output_preview='Record timestamp: Mon, 15 Dec 2025 15:57:43 +0000\nRecord version: 2\nNode version: 5.7-14\nNode addr: 9DE7::3FA9::ECB6::1056\nNet: stagenet\nRole: NODE_ROLE_ROOT\nEvents count: 0\nAtoms count: 0\nUplinks count: 0\nDownlinks count: 0\n-----------------------------------------------------------------\n\n' pattern='Node addr:\\s+([A-Fa-f0-9:]+)'
2025-12-15T15:57:46.378467Z [info     ] Step 2/24: StepGroup          
2025-12-15T15:57:46.378545Z [info     ] Step 1/2: CLIStep             
2025-12-15T15:57:46.378622Z [info     ] CLI: node add -addr F6BB::DB46::CCFC::1A1F -alias root-2 -host 172.20.0.11 -port 8079
2025-12-15T15:57:46.385787Z [info     ] exec_cli_command_debug         command_original='node add -addr F6BB::DB46::CCFC::1A1F -alias root-2 -host 172.20.0.11 -port 8079 -net stagenet' command_split=['node', 'add', '-addr', 'F6BB::DB46::CCFC::1A1F', '-alias', 'root-2', '-host', '172.20.0.11', '-port', '8079', '-net', 'stagenet'] container=cellframe-stage-node-1 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-1', 'sh', '-c', 'cellframe-node-cli node add -addr F6BB::DB46::CCFC::1A1F -alias root-2 -host 172.20.0.11 -port 8079 -net stagenet'] shell_cmd='cellframe-node-cli node add -addr F6BB::DB46::CCFC::1A1F -alias root-2 -host 172.20.0.11 -port 8079 -net stagenet'
2025-12-15T15:57:46.442897Z [info     ] Step 2/2: CLIStep             
2025-12-15T15:57:46.443046Z [info     ] CLI: node add -addr 9DE7::3FA9::ECB6::1056 -alias root-3 -host 172.20.0.12 -port 8079
2025-12-15T15:57:46.450986Z [info     ] exec_cli_command_debug         command_original='node add -addr 9DE7::3FA9::ECB6::1056 -alias root-3 -host 172.20.0.12 -port 8079 -net stagenet' command_split=['node', 'add', '-addr', '9DE7::3FA9::ECB6::1056', '-alias', 'root-3', '-host', '172.20.0.12', '-port', '8079', '-net', 'stagenet'] container=cellframe-stage-node-1 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-1', 'sh', '-c', 'cellframe-node-cli node add -addr 9DE7::3FA9::ECB6::1056 -alias root-3 -host 172.20.0.12 -port 8079 -net stagenet'] shell_cmd='cellframe-node-cli node add -addr 9DE7::3FA9::ECB6::1056 -alias root-3 -host 172.20.0.12 -port 8079 -net stagenet'
2025-12-15T15:57:46.513871Z [info     ] Step 3/24: StepGroup          
2025-12-15T15:57:46.514051Z [info     ] Step 1/2: CLIStep             
2025-12-15T15:57:46.514125Z [info     ] CLI: node add -addr FD70::A81D::4C84::14E6 -alias root-1 -host 172.20.0.10 -port 8079
2025-12-15T15:57:46.522025Z [info     ] exec_cli_command_debug         command_original='node add -addr FD70::A81D::4C84::14E6 -alias root-1 -host 172.20.0.10 -port 8079 -net stagenet' command_split=['node', 'add', '-addr', 'FD70::A81D::4C84::14E6', '-alias', 'root-1', '-host', '172.20.0.10', '-port', '8079', '-net', 'stagenet'] container=cellframe-stage-node-2 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-2', 'sh', '-c', 'cellframe-node-cli node add -addr FD70::A81D::4C84::14E6 -alias root-1 -host 172.20.0.10 -port 8079 -net stagenet'] shell_cmd='cellframe-node-cli node add -addr FD70::A81D::4C84::14E6 -alias root-1 -host 172.20.0.10 -port 8079 -net stagenet'
2025-12-15T15:57:46.606447Z [info     ] Step 2/2: CLIStep             
2025-12-15T15:57:46.606598Z [info     ] CLI: node add -addr 9DE7::3FA9::ECB6::1056 -alias root-3 -host 172.20.0.12 -port 8079
2025-12-15T15:57:46.613785Z [info     ] exec_cli_command_debug         command_original='node add -addr 9DE7::3FA9::ECB6::1056 -alias root-3 -host 172.20.0.12 -port 8079 -net stagenet' command_split=['node', 'add', '-addr', '9DE7::3FA9::ECB6::1056', '-alias', 'root-3', '-host', '172.20.0.12', '-port', '8079', '-net', 'stagenet'] container=cellframe-stage-node-2 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-2', 'sh', '-c', 'cellframe-node-cli node add -addr 9DE7::3FA9::ECB6::1056 -alias root-3 -host 172.20.0.12 -port 8079 -net stagenet'] shell_cmd='cellframe-node-cli node add -addr 9DE7::3FA9::ECB6::1056 -alias root-3 -host 172.20.0.12 -port 8079 -net stagenet'
2025-12-15T15:57:46.682141Z [info     ] Step 4/24: StepGroup          
2025-12-15T15:57:46.682287Z [info     ] Step 1/2: CLIStep             
2025-12-15T15:57:46.682357Z [info     ] CLI: node add -addr FD70::A81D::4C84::14E6 -alias root-1 -host 172.20.0.10 -port 8079
2025-12-15T15:57:46.690175Z [info     ] exec_cli_command_debug         command_original='node add -addr FD70::A81D::4C84::14E6 -alias root-1 -host 172.20.0.10 -port 8079 -net stagenet' command_split=['node', 'add', '-addr', 'FD70::A81D::4C84::14E6', '-alias', 'root-1', '-host', '172.20.0.10', '-port', '8079', '-net', 'stagenet'] container=cellframe-stage-node-3 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-3', 'sh', '-c', 'cellframe-node-cli node add -addr FD70::A81D::4C84::14E6 -alias root-1 -host 172.20.0.10 -port 8079 -net stagenet'] shell_cmd='cellframe-node-cli node add -addr FD70::A81D::4C84::14E6 -alias root-1 -host 172.20.0.10 -port 8079 -net stagenet'
2025-12-15T15:57:46.741500Z [info     ] Step 2/2: CLIStep             
2025-12-15T15:57:46.741661Z [info     ] CLI: node add -addr F6BB::DB46::CCFC::1A1F -alias root-2 -host 172.20.0.11 -port 8079
2025-12-15T15:57:46.749127Z [info     ] exec_cli_command_debug         command_original='node add -addr F6BB::DB46::CCFC::1A1F -alias root-2 -host 172.20.0.11 -port 8079 -net stagenet' command_split=['node', 'add', '-addr', 'F6BB::DB46::CCFC::1A1F', '-alias', 'root-2', '-host', '172.20.0.11', '-port', '8079', '-net', 'stagenet'] container=cellframe-stage-node-3 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-3', 'sh', '-c', 'cellframe-node-cli node add -addr F6BB::DB46::CCFC::1A1F -alias root-2 -host 172.20.0.11 -port 8079 -net stagenet'] shell_cmd='cellframe-node-cli node add -addr F6BB::DB46::CCFC::1A1F -alias root-2 -host 172.20.0.11 -port 8079 -net stagenet'
2025-12-15T15:57:46.814500Z [info     ] Step 5/24: StepGroup          
2025-12-15T15:57:46.814640Z [info     ] Step 1/3: CLIStep             
2025-12-15T15:57:46.814700Z [info     ] CLI: net go offline           
2025-12-15T15:57:46.821384Z [info     ] exec_cli_command_debug         command_original='net go offline -net stagenet' command_split=['net', 'go', 'offline', '-net', 'stagenet'] container=cellframe-stage-node-1 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-1', 'sh', '-c', 'cellframe-node-cli net go offline -net stagenet'] shell_cmd='cellframe-node-cli net go offline -net stagenet'
2025-12-15T15:57:46.893740Z [info     ] Step 2/3: CLIStep             
2025-12-15T15:57:46.893871Z [info     ] CLI: net go offline           
2025-12-15T15:57:46.901585Z [info     ] exec_cli_command_debug         command_original='net go offline -net stagenet' command_split=['net', 'go', 'offline', '-net', 'stagenet'] container=cellframe-stage-node-2 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-2', 'sh', '-c', 'cellframe-node-cli net go offline -net stagenet'] shell_cmd='cellframe-node-cli net go offline -net stagenet'
2025-12-15T15:57:46.978037Z [info     ] Step 3/3: CLIStep             
2025-12-15T15:57:46.978167Z [info     ] CLI: net go offline           
2025-12-15T15:57:46.985236Z [info     ] exec_cli_command_debug         command_original='net go offline -net stagenet' command_split=['net', 'go', 'offline', '-net', 'stagenet'] container=cellframe-stage-node-3 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-3', 'sh', '-c', 'cellframe-node-cli net go offline -net stagenet'] shell_cmd='cellframe-node-cli net go offline -net stagenet'
2025-12-15T15:57:47.058537Z [info     ] Step 6/24: NetworkWaitStep    
2025-12-15T15:57:47.058676Z [info     ] Waiting for network state: offline on nodes ['root-1', 'root-2', 'root-3']
2025-12-15T15:57:47.058756Z [info     ] waiting_for_nodes_offline      node_count=3 timeout=60
2025-12-15T15:57:47.215979Z [info     ] all_nodes_offline              count=3 elapsed=0.0s
2025-12-15T15:57:47.216109Z [info     ] ✅ Network state 'offline' achieved
2025-12-15T15:57:47.216170Z [info     ] Step 7/24: StepGroup          
2025-12-15T15:57:47.216238Z [info     ] Step 1/3: CLIStep             
2025-12-15T15:57:47.216293Z [info     ] CLI: net go online            
2025-12-15T15:57:47.223375Z [info     ] exec_cli_command_debug         command_original='net go online -net stagenet' command_split=['net', 'go', 'online', '-net', 'stagenet'] container=cellframe-stage-node-1 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-1', 'sh', '-c', 'cellframe-node-cli net go online -net stagenet'] shell_cmd='cellframe-node-cli net go online -net stagenet'
2025-12-15T15:57:47.295080Z [info     ] Step 2/3: CLIStep             
2025-12-15T15:57:47.295222Z [info     ] CLI: net go online            
2025-12-15T15:57:47.303482Z [info     ] exec_cli_command_debug         command_original='net go online -net stagenet' command_split=['net', 'go', 'online', '-net', 'stagenet'] container=cellframe-stage-node-2 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-2', 'sh', '-c', 'cellframe-node-cli net go online -net stagenet'] shell_cmd='cellframe-node-cli net go online -net stagenet'
2025-12-15T15:57:47.378135Z [info     ] Step 3/3: CLIStep             
2025-12-15T15:57:47.378268Z [info     ] CLI: net go online            
2025-12-15T15:57:47.385983Z [info     ] exec_cli_command_debug         command_original='net go online -net stagenet' command_split=['net', 'go', 'online', '-net', 'stagenet'] container=cellframe-stage-node-3 full_cmd_list=['docker', 'exec', 'cellframe-stage-node-3', 'sh', '-c', 'cellframe-node-cli net go online -net stagenet'] shell_cmd='cellframe-node-cli net go online -net stagenet'
2025-12-15T15:57:47.458054Z [info     ] Step 8/24: NetworkWaitStep    
2025-12-15T15:57:47.458193Z [info     ] Waiting for network state: links_established on nodes ['root-1', 'root-2', 'root-3']
2025-12-15T15:57:47.465362Z [info     ] network_consensus_monitor_initialized network=stagenet nodes=3
2025-12-15T15:57:47.465494Z [info     ] waiting_for_links_established  nodes=3 timeout=120.0
2025-12-15T15:57:54.928166Z [info     ] links_establishment_progress   elapsed=6.5s ready=0 total=3
2025-12-15T15:58:01.475595Z [info     ] links_establishment_progress   elapsed=13.0s ready=0 total=3
2025-12-15T15:58:07.992167Z [info     ] links_establishment_progress   elapsed=19.5s ready=0 total=3
2025-12-15T15:58:14.511346Z [info     ] links_establishment_progress   elapsed=26.0s ready=0 total=3
2025-12-15T15:58:21.135651Z [info     ] links_establishment_progress   elapsed=32.6s ready=0 total=3
2025-12-15T15:58:28.611641Z [info     ] links_establishment_progress   elapsed=39.3s ready=0 total=3
2025-12-15T15:58:35.080928Z [info     ] links_establishment_progress   elapsed=45.8s ready=0 total=3
2025-12-15T15:58:41.605768Z [info     ] links_establishment_progress   elapsed=52.3s ready=0 total=3
2025-12-15T15:58:48.181295Z [info     ] links_establishment_progress   elapsed=58.8s ready=0 total=3
2025-12-15T15:58:54.781114Z [info     ] links_establishment_progress   elapsed=65.4s ready=0 total=3
2025-12-15T15:59:02.269854Z [info     ] links_establishment_progress   elapsed=72.0s ready=0 total=3
2025-12-15T15:59:08.909341Z [info     ] links_establishment_progress   elapsed=78.6s ready=0 total=3
2025-12-15T15:59:15.353131Z [info     ] links_establishment_progress   elapsed=85.1s ready=0 total=3
2025-12-15T15:59:21.813189Z [info     ] links_establishment_progress   elapsed=91.6s ready=0 total=3
2025-12-15T15:59:29.123348Z [info     ] links_establishment_progress   elapsed=98.0s ready=0 total=3
2025-12-15T15:59:35.535424Z [info     ] links_establishment_progress   elapsed=104.5s ready=0 total=3
2025-12-15T15:59:41.976661Z [info     ] links_establishment_progress   elapsed=110.9s ready=0 total=3
2025-12-15T15:59:48.560002Z [info     ] links_establishment_progress   elapsed=117.5s ready=0 total=3
2025-12-15T15:59:52.746544Z [error    ] links_establishment_timeout    elapsed=121.8s timeout=120.0
2025-12-15T15:59:52.746726Z [error    ] Network wait failed: Links did not establish within 120.0s
2025-12-15T15:59:52.750517Z [error    ] root_nodes_genesis_failed      error="Network wait failed: Links did not establish within 120.0s\nStep: wait_network='links_established' nodes=['root-1', 'root-2', 'root-3'] timeout=120 network='stagenet' chain=None" traceback='Traceback (most recent call last):\n  File "/home/olzh/demlabs/second/cellframe-node/tests/stage-env/src/scenarios/step/network_wait.py", line 103, in execute\n    await monitor.wait_for_links_established(timeout=float(step.timeout))\n  File "/home/olzh/demlabs/second/cellframe-node/tests/stage-env/src/monitoring/network_consensus.py", line 414, in wait_for_links_established\n    raise TimeoutError(f"Links did not establish within {timeout}s")\nTimeoutError: Links did not establish within 120.0s\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/home/olzh/demlabs/second/cellframe-node/tests/stage-env/src/network/manager.py", line 387, in start\n    ctx = await executor.execute_scenario(\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/home/olzh/demlabs/second/cellframe-node/tests/stage-env/src/scenarios/executor.py", line 511, in execute_scenario\n    await self._execute_steps(scenario.test.steps, ctx, section_defaults)\n  File "/home/olzh/demlabs/second/cellframe-node/tests/stage-env/src/scenarios/executor.py", line 607, in _execute_steps\n    await self.network_wait_executor.execute(step, ctx)\n  File "/home/olzh/demlabs/second/cellframe-node/tests/stage-env/src/scenarios/step/network_wait.py", line 126, in execute\n    raise ScenarioExecutionError(error_msg, step=step)\nsrc.scenarios.executor.ScenarioExecutionError: Network wait failed: Links did not establish within 120.0s\nStep: wait_network=\'links_established\' nodes=[\'root-1\', \'root-2\', \'root-3\'] timeout=120 network=\'stagenet\' chain=None\n'
