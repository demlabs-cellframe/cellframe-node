[network]
name = stagenet
consensus_type = esbocs

[topology]
root_nodes_count = 3
master_nodes_count = 3
full_nodes_count = 1

[build]
build_type = debug

[network_settings]
base_ip = 172.20.0.10
subnet = 172.20.0.0/16

[consensus]
min_validators = 2
new_round_delay = 45
collecting_level = 10.0
auth_certs_prefix = stagenet.master

[features]
monitoring = true
tests = true
crash_artifacts = true

[logging]
log_dir = ../testing/logs
log_level = info
scenario_logs = true
retain_days = 7

[paths]
cache_dir = ../testing/cache
artifacts_dir = ../testing/artifacts

[artifacts]
collect_node_logs = true
collect_health_logs = true
collect_crash_dumps = true
retain_days = 30

[timeouts]
startup = 600
health_check = 600
command = 30

[node_source]
type = local
local_path = ../../build/cellframe-node-5.6-LOCALBUILD-dbg-amd64.deb

# ============================================================================
# Docker Image Customization (Optional)
# ============================================================================
# Uncomment and configure to customize Docker images for nodes

# [docker_customization]
# # Base packages to install on all nodes
# base_packages = vim,curl,htop,net-tools,strace
# # Script to run after base package installation (path relative to stage-env/)
# base_post_script = scripts/base-init.sh

# [role_customization_root]
# # Additional packages for root nodes only
# packages = prometheus-node-exporter,tcpdump
# # Post-installation script for root nodes
# post_script = scripts/root-init.sh

# [role_customization_master]
# # Additional packages for master nodes only
# packages = gdb,valgrind
# # Post-installation script for master nodes
# post_script = scripts/master-init.sh

# [role_customization_full]
# # Additional packages for full nodes only
# packages = iperf3
# # Post-installation script for full nodes
# post_script = scripts/full-init.sh

# [node_customization_node1]
# # Specific customization for node1
# packages = gdb,valgrind,strace
# # Direct .deb package URLs to install
# deb_urls = https://example.com/custom-tool_1.0_amd64.deb
# # Node-specific initialization script
# post_script = scripts/node1-init.sh

# [node_customization_node2]
# # Specific customization for node2
# packages = perf-tools-unstable
# post_script = scripts/node2-init.sh

# ============================================================================
# Custom DEB Repositories (Optional)
# ============================================================================
# Uncomment to add custom APT repositories

# [repository_custom1]
# name = Custom Repository 1
# url = https://repo.example.com/ubuntu
# key_url = https://repo.example.com/key.gpg
# components = main restricted
# distribution = jammy

# [repository_debug]
# name = Debug Symbols Repository
# url = http://ddebs.ubuntu.com
# key_url = https://ddebs.ubuntu.com/dbgsym-release-key.asc
# components = main restricted universe multiverse
# distribution = jammy

