#!/bin/bash -e

case "$1" in
	remove|purge|abort-install|abort-upgrade)
		echo "[*] Stopping cellframe-node and services..."
		systemctl stop cellframe-node || true
		systemctl stop cellframe-diagtool || true
		systemctl stop cellframe-updater || true

		echo "[*] Disabling cellframe-node and services..."
		systemctl disable cellframe-node || true
		systemctl disable cellframe-diagtool || true
		systemctl disable cellframe-updater || true
		;;

	disappear)
		;;

	upgrade)
		echo "[*] Stopping cellframe-node and services..."
        systemctl stop cellframe-node || true
		systemctl stop cellframe-diagtool || true
        systemctl stop cellframe-updater || true
		;;

	failed-upgrade)
		echo "[*] Stopping cellframe-node and services"
        systemctl stop cellframe-node || true
		systemctl stop cellframe-diagtool || true
        systemctl stop cellframe-updater || true
        ;;

	*)
	    echo "prerm called with unknown argument \`$1'" >&2
		exit 1;;
esac

exit 0
