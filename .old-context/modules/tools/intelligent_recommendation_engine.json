{
  "name": "Интеллектуальная рекомендательная система",
  "version": "1.0.0",
  "category": "tools",
      "description": "TF-IDF алгоритм и семантический анализ для умных рекомендаций модулей СЛК",
  "created": "2025-01-14",
      "author": "Саморазвитие СЛК - Фаза 2 реализации",
  "tags": ["tf-idf", "семантический-анализ", "рекомендации", "nlp", "машинное-обучение"],
  
  "metadata": {
    "complexity": "средняя",
    "время_реализации": "2-3 дня",
            "целевая_аудитория": "система_слк",
    "требования": ["math", "collections", "re", "context_usage_tracker"]
  },

  "назначение": {
    "описание": "Анализ пользовательских запросов и предоставление интеллектуальных рекомендаций на основе TF-IDF и истории использования",
    "интеграция_с": ["modules/tools/context_usage_tracker.json", "modules/methodologies/intelligent_context_prediction.json"],
    "выходные_данные": "Ранжированный список рекомендаций с оценками релевантности"
  },

  "алгоритм_tf_idf": {
    "описание": "Term Frequency - Inverse Document Frequency для анализа релевантности модулей",
    
    "компоненты": {
      "term_frequency": {
        "формула": "TF(t,d) = (количество_вхождений_термина_t_в_документе_d) / (общее_количество_терминов_в_документе_d)",
        "применение": "Анализ частоты ключевых слов в запросе пользователя"
      },
      
      "inverse_document_frequency": {
        "формула": "IDF(t,D) = log(|D| / |{d ∈ D : t ∈ d}|)",
        "применение": "Определение уникальности термина в коллекции модулей"
      },
      
      "tf_idf_score": {
        "формула": "TF-IDF(t,d,D) = TF(t,d) * IDF(t,D)",
        "применение": "Финальная оценка релевантности модуля для запроса"
      }
    },

    "документная_коллекция": {
      "источники": [
        "Названия модулей и шаблонов",
        "Описания модулей",
        "Ключевые слова и теги",
        "Target projects списки",
        "История поисковых запросов"
      ],
      
      "предобработка_текста": {
        "токенизация": "Разбиение на отдельные слова",
        "нормализация": "Приведение к нижнему регистру",
        "удаление_стоп_слов": ["и", "или", "в", "на", "для", "с", "a", "an", "the", "in", "on", "for"],
        "стемминг": "Упрощенное приведение к основе слова"
      }
    }
  },

  "система_весов": {
    "описание": "Комбинирование различных факторов для финальной оценки",
    
    "весовые_коэффициенты": {
      "tf_idf_score": {
        "вес": 0.40,
        "описание": "Семантическая релевантность на основе TF-IDF"
      },
      "usage_frequency": {
        "вес": 0.30,
        "описание": "Частота использования модуля в истории"
      },
      "contextual_relevance": {
        "вес": 0.20,
        "описание": "Соответствие контексту текущей работы"
      },
      "user_feedback": {
        "вес": 0.10,
        "описание": "Обратная связь пользователя (если доступна)"
      }
    },

    "нормализация": {
      "метод": "min-max_scaling",
      "диапазон": "[0, 1] для каждого компонента",
      "формула": "normalized = (value - min) / (max - min)"
    },

    "финальная_формула": "final_score = Σ(component_i * weight_i) для всех компонентов"
  },

  "семантический_анализ": {
    "анализ_намерений": {
      "описание": "Определение типа запроса пользователя",
      
      "категории_намерений": {
        "поиск_шаблона": {
          "паттерны": ["создать", "шаблон", "template", "новый проект"],
          "действие": "Приоритет модулям с готовыми шаблонами"
        },
        "изучение_информации": {
          "паттерны": ["что такое", "как", "документация", "info"],
          "действие": "Приоритет информационным и методологическим модулям"
        },
        "решение_проблемы": {
          "паттерны": ["ошибка", "проблема", "fix", "debug", "помощь"],
          "действие": "Приоритет tools и troubleshooting модулям"
        },
        "анализ_технологии": {
          "паттерны": ["анализ", "audit", "review", "оценка"],
          "действание": "Приоритет аналитическим методологиям"
        }
      }
    },

    "контекстуальные_подсказки": {
      "временной_контекст": "Анализ недавних действий пользователя",
      "тематический_контекст": "Определение области работы (crypto, web, mobile)",
      "уровень_сложности": "Подбор модулей соответствующей сложности"
    }
  },

  "рекомендательный_движок": {
    "алгоритм_работы": [
      "1. Предобработка пользовательского запроса",
      "2. Анализ намерений и извлечение ключевых терминов",
      "3. Расчет TF-IDF scores для всех модулей",
      "4. Получение статистики использования из UsageTracker",
      "5. Анализ контекстуальной релевантности",
      "6. Комбинирование всех факторов с весовыми коэффициентами",
      "7. Ранжирование результатов по финальным оценкам",
      "8. Фильтрация и возврат топ-N рекомендаций"
    ],

    "оптимизации": {
      "кэширование": "TF-IDF векторы модулей кэшируются до изменения",
      "ленивые_вычисления": "IDF пересчитывается только при добавлении новых модулей",
      "пакетная_обработка": "Обработка множественных запросов одновременно"
    },

    "качество_рекомендаций": {
      "метрики": [
        "Precision@K - точность топ-K рекомендаций",
        "Recall@K - полнота рекомендаций",
        "NDCG - нормализованный дисконтированный кумулятивный выигрыш",
        "MRR - средний обратный ранг первой релевантной рекомендации"
      ],
      
      "мониторинг": "Автоматическое отслеживание принятых/отклоненных рекомендаций"
    }
  },

  "адаптивное_обучение": {
    "обновление_весов": {
      "описание": "Динамическая корректировка весовых коэффициентов на основе обратной связи",
      "алгоритм": "Gradient descent на основе успешности рекомендаций",
      "частота": "Еженедельное обновление весов"
    },

    "персонализация": {
      "пользовательские_профили": "Индивидуальные весовые коэффициенты для разных пользователей",
      "история_взаимодействий": "Учет долгосрочных предпочтений пользователя",
      "кластеризация": "Группировка пользователей по схожим паттернам использования"
    }
  },

  "реализация": {
    "основные_классы": {
      "TFIDFAnalyzer": "Расчет TF-IDF vectors для модулей и запросов",
      "SemanticAnalyzer": "Анализ намерений и семантики запросов", 
      "RecommendationEngine": "Основной движок рекомендаций",
      "AdaptiveLearner": "Система адаптивного обучения весов"
    },

    "интеграция_с_cli": {
      "команда_recommend": "slc_cli.py recommend [запрос] --количество N",
      "автоматические_предложения": "Предложения во время поиска и просмотра",
      "обратная_связь": "slc_cli.py feedback [recommendation_id] [полезно/неполезно]"
    },

    "производительность": {
      "время_ответа": "< 200мс для генерации рекомендаций",
      "использование_памяти": "< 50МБ для кэшированных данных",
      "влияние_на_cli": "< 2% замедления основных операций"
    }
  },

  "план_реализации": {
    "этап_1_базовый_tf_idf": [
      "☐ Создание TFIDFAnalyzer класса",
      "☐ Построение словаря терминов из модулей",
      "☐ Расчет IDF для терминов",
      "☐ Функция расчета TF-IDF для запросов"
    ],

    "этап_2_семантический_анализ": [
      "☐ SemanticAnalyzer для анализа намерений",
      "☐ Извлечение ключевых терминов из запросов",
      "☐ Определение контекстуальных подсказок",
      "☐ Интеграция с категориями намерений"
    ],

    "этап_3_рекомендательный_движок": [
      "☐ RecommendationEngine основной класс",
      "☐ Комбинирование всех факторов оценки",
      "☐ Ранжирование и фильтрация результатов",
      "☐ Интеграция с UsageTracker данными"
    ],

    "этап_4_интеграция_и_оптимизация": [
      "☐ Интеграция в slc_cli.py",
      "☐ Кэширование и оптимизация производительности",
      "☐ Система обратной связи",
      "☐ Тестирование и валидация качества"
    ]
  },

  "тестирование": {
    "unit_tests": "Тестирование каждого алгоритма отдельно",
    "integration_tests": "Тестирование полного пайплайна рекомендаций",
    "performance_tests": "Проверка скорости и использования ресурсов",
    "accuracy_tests": "Проверка качества рекомендаций на тестовых данных"
  },

  "критерии_успеха": {
    "точность_рекомендаций": "> 80% релевантных предложений в топ-5",
    "скорость_генерации": "< 200мс для получения рекомендаций",
    "покрытие_модулей": "> 90% модулей доступны для рекомендаций",
    "пользовательское_принятие": "> 70% рекомендаций используются"
  }
} 