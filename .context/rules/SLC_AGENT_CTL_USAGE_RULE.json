{
  "id": "SLC_AGENT_CTL_USAGE_RULE",
  "title": "Обязательное использование slc_agent_ctl утилиты для управления SLC Agent",
  "description": "Критически важное правило: SLC Agent должен запускаться ТОЛЬКО через slc_agent_ctl утилиту, НЕ через python -m",
  "category": "agent_management",
  "priority": "critical",
  "status": "active",
  "created_at": "2025-01-24T12:15:00Z",
  "tags": ["agent", "slc_agent_ctl", "startup", "management", "critical"],
  
  "rule_details": {
    "primary_rule": "ВСЕГДА используй slc_agent_ctl утилиту для запуска/остановки/перезапуска SLC Agent",
    "forbidden_commands": [
      "python -m src.core.agent.slc_agent",
      "python src/core/agent/slc_agent.py", 
      "python slc-agent/src/core/agent/slc_agent.py",
      "Любые прямые python команды для запуска агента"
    ],
    "correct_commands": [
      "slc_agent_ctl start agent",
      "slc_agent_ctl stop agent", 
      "slc_agent_ctl restart agent",
      "slc_agent_ctl status agent",
      "slc_agent_ctl logs agent"
    ]
  },
  
  "why_critical": [
    "slc_agent_ctl утилита обеспечивает правильную инициализацию всех компонентов",
    "Корректная настройка переменных окружения и конфигурации",
    "Правильный порядок запуска сервисов (API, WebSocket, Telegram Bot)",
    "Управление жизненным циклом процессов",
    "Логирование и мониторинг состояния",
    "Graceful shutdown при остановке"
  ],
  
  "context_integration": {
    "auto_load": true,
    "show_in_status": true,
    "reminder_frequency": "every_context_reload",
    "display_priority": "top"
  },
  
  "enforcement": {
    "level": "mandatory",
    "auto_correct": true,
    "warning_message": "⚠️ КРИТИЧНО: Используй 'slc_agent_ctl start agent' вместо python -m команд!",
    "block_incorrect_usage": false
  },
  
  "examples": {
    "correct_startup_sequence": [
      "# Правильный способ:",
      "slc_agent_ctl start agent",
      "",
      "# Проверка статуса:",
      "slc_agent_ctl status agent",
      "",
      "# Просмотр логов:",
      "slc_agent_ctl logs agent --follow",
      "",
      "# Перезапуск:",
      "slc_agent_ctl restart agent"
    ],
    "incorrect_usage": [
      "# НЕПРАВИЛЬНО - НЕ ИСПОЛЬЗУЙ:",
      "python -m src.core.agent.slc_agent",
      "python src/core/agent/slc_agent.py"
    ]
  },
  
  "troubleshooting": {
    "if_ctl_not_found": [
      "Убедись, что находишься в корневой директории проекта",
      "Проверь права доступа: chmod +x slc_agent_ctl", 
      "Используй ./slc_agent_ctl если slc_agent_ctl не в PATH"
    ],
    "if_agent_fails_to_start": [
      "slc_agent_ctl logs agent - проверь логи",
      "slc_agent_ctl status agent - проверь статус",
      "Проверь .env файл и конфигурацию"
    ]
  },
  
  "related_files": [
    "slc_agent_ctl",
    "slc-agent/.env",
    "slc-agent/config/agent_config.yaml",
    "slc-agent/src/core/agent_lifecycle.py"
  ],
  
  "notes": [
    "Это правило должно ВСЕГДА быть видно в контексте",
    "При каждой перезагрузке контекста напоминать об этом правиле",
    "Критически важно для стабильной работы агента",
    "slc_agent_ctl утилита - единственный правильный способ управления агентом"
  ]
} 