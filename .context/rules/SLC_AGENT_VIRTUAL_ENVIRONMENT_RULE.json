{
  "rule_id": "SLC_AGENT_VIRTUAL_ENVIRONMENT_RULE",
  "title": "–í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ SLC Agent",
  "priority": "critical",
  "category": "environment",
  "applies_to": ["slc_agent", "development", "deployment"],
  "created": "2025-06-24T13:15:00Z",
  "description": "–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è SLC Agent",
  
  "rule_details": {
    "virtual_environment": {
      "location": "./slc-agent/venv/",
      "status": "–ê–ö–¢–ò–í–ù–û ‚úÖ",
      "python_version": "3.13",
      "created": "2025-06-24",
      "packages_installed": true,
      "path": "/Users/dmitriygerasimov/work/agent/slc-agent/venv"
    },
    
    "activation_commands": {
      "from_root": "source slc-agent/venv/bin/activate",
      "from_slc_agent": "source venv/bin/activate", 
      "check_active": "echo $VIRTUAL_ENV",
      "expected_path": "/Users/dmitriygerasimov/work/agent/slc-agent/venv"
    },
    
    "agent_startup": {
      "correct_way": "cd slc-agent && ./slc_agent_ctl start agent",
      "status_check": "cd slc-agent && ./slc_agent_ctl status",
      "logs_check": "cd slc-agent && ./slc_agent_ctl logs",
      "stop_agent": "cd slc-agent && ./slc_agent_ctl stop",
      "working_directory": "./slc-agent/",
      "control_script": "./slc-agent/slc_agent_ctl",
      "current_status": "–ó–ê–ü–£–©–ï–ù ‚úÖ (PID: 11451, http://localhost:8000)"
    },
    
    "dependencies": {
      "requirements_file": "./slc-agent/requirements.txt",
      "installation_status": "–£–°–¢–ê–ù–û–í–õ–ï–ù–´ ‚úÖ",
      "last_update": "2025-06-24T13:03:00Z",
      "key_packages": [
        "fastapi>=0.104.0",
        "uvicorn>=0.24.0", 
        "anthropic>=0.25.0",
        "openai>=1.0.0",
        "loguru>=0.7.0",
        "pydantic>=2.0.0"
      ]
    }
  },
  
  "critical_rules": {
    "environment_setup": [
      "‚úÖ –í–°–ï–ì–î–ê –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ ./slc-agent/venv/",
      "‚ùå –ù–ï —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞",
      "‚úÖ –ü–†–û–í–ï–†–Ø–ô–¢–ï –∞–∫—Ç–∏–≤–∞—Ü–∏—é —á–µ—Ä–µ–∑ echo $VIRTUAL_ENV",
      "‚úÖ –£–°–¢–ê–ù–ê–í–õ–ò–í–ê–ô–¢–ï –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Ç–æ–ª—å–∫–æ –≤ –∞–∫—Ç–∏–≤–Ω–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏"
    ],
    
    "agent_control": [
      "üöÄ –ó–ê–ü–£–°–ö: cd slc-agent && ./slc_agent_ctl start agent",
      "‚èπÔ∏è –û–°–¢–ê–ù–û–í–ö–ê: cd slc-agent && ./slc_agent_ctl stop",
      "üìä –°–¢–ê–¢–£–°: cd slc-agent && ./slc_agent_ctl status", 
      "üìã –õ–û–ì–ò: cd slc-agent && ./slc_agent_ctl logs",
      "‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ python -m –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∞–≥–µ–Ω—Ç–∞"
    ],
    
    "troubleshooting": [
      "–ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å ./slc-agent/venv/",
      "–ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö –∑–∞–ø—É—Å–∫–∞ - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏: ./slc-agent/logs/agent.log",
      "–ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å ./slc-agent/.env",
      "–ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π - –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å: pip install -r requirements.txt"
    ]
  },
  
  "fixed_issues": {
    "config_parsing_error": {
      "description": "–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ agent_config.yaml",
      "error": "invalid literal for int() with base 10: '${API_SERVER_RATE_LIMIT_REQUESTS_PER_MINUTE:60}'",
      "location": "slc-agent/src/api/web_interface_server.py",
      "fix_applied": "–ò—Å–ø—Ä–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ _get_config_value_nested –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞ ${VAR:default} —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞",
      "status": "–ò–°–ü–†–ê–í–õ–ï–ù–û ‚úÖ"
    },
    "syntax_error": {
      "description": "–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –≤ API —Ä–æ—É—Ç–∞—Ö",
      "error": "parameter without a default follows parameter with a default",
      "location": "slc-agent/src/api/routes/minds.py",
      "fix_applied": "–ò–∑–º–µ–Ω–µ–Ω –ø–æ—Ä—è–¥–æ–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ —Ñ—É–Ω–∫—Ü–∏—è—Ö switch_mind –∏ perform_mind_action",
      "status": "–ò–°–ü–†–ê–í–õ–ï–ù–û ‚úÖ"
    }
  },
  
  "current_status": {
    "agent_running": true,
    "pid": 11451,
    "api_server": "http://localhost:8000",
    "venv_active": true,
    "all_dependencies_installed": true,
    "configuration_valid": true,
    "last_check": "2025-06-24T13:15:00Z"
  },
  
  "navigation_system": {
    "purpose": "–ü—Ä–∞–≤–∏–ª–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è SLC Agent",
    "recovery_path": ".context/manifest.json",
    "current_file": ".context/rules/SLC_AGENT_VIRTUAL_ENVIRONMENT_RULE.json",
    "file_role": "ENVIRONMENT_RULE",
    "related_files": [
      ".context/rules/SLC_AGENT_CTL_USAGE_RULE.json",
      "slc-agent/slc_agent_ctl",
      "slc-agent/requirements.txt",
      "slc-agent/.env"
    ],
    "quick_navigation": {
      "üè† –ì–ª–∞–≤–Ω–∞—è": ".context/manifest.json - –≥–ª–∞–≤–Ω—ã–π –Ω–∞–≤–∏–≥–∞—Ç–æ—Ä —Å–∏—Å—Ç–µ–º—ã",
      "üîß –ü—Ä–∞–≤–∏–ª–∞": ".context/rules/ - –≤—Å–µ –ø—Ä–∞–≤–∏–ª–∞ –ø—Ä–æ–µ–∫—Ç–∞",
      "ü§ñ –ê–≥–µ–Ω—Ç": "slc-agent/ - –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è SLC Agent",
      "‚öôÔ∏è –ö–æ–Ω—Ç—Ä–æ–ª—å": "slc-agent/slc_agent_ctl - —É—Ç–∏–ª–∏—Ç–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–≥–µ–Ω—Ç–æ–º"
    },
    "usage_hint": "cd slc-agent && ./slc_agent_ctl status –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∞–≥–µ–Ω—Ç–∞",
    "ai_context": "–§–∞–π–ª –°–õ–ö —Å–∏—Å—Ç–µ–º—ã: –ø—Ä–∞–≤–∏–ª–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è"
  },
  
  "verification_checklist": {
    "environment_check": [
      "‚úÖ –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç: ./slc-agent/venv/",
      "‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã",
      "‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω",
      "‚úÖ –ê–≥–µ–Ω—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ",
      "‚úÖ API —Å–µ—Ä–≤–µ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ http://localhost:8000"
    ],
    
    "completed_tasks": [
      "‚úÖ –ù–∞–π–¥–µ–Ω–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –≤ ./slc-agent/venv/",
      "‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ _get_config_value_nested",
      "‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –≤ minds.py",
      "‚úÖ –ê–≥–µ–Ω—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω",
      "‚úÖ –°–æ–∑–¥–∞–Ω–æ –ø—Ä–∞–≤–∏–ª–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è"
    ]
  },
  
  "ai_integration": {
    "auto_load_with": [
      "SLC_AGENT_CTL_USAGE_RULE",
      "API_SERVER_COMPREHENSIVE_TESTS"
    ],
    "context_keywords": [
      "slc agent",
      "–≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ", 
      "venv",
      "–∑–∞–ø—É—Å–∫ –∞–≥–µ–Ω—Ç–∞",
      "slc_agent_ctl",
      "dependencies",
      "requirements.txt"
    ],
    "recommended_actions": [
      "–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –∞–≥–µ–Ω—Ç–æ–º - –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å cd slc-agent && ./slc_agent_ctl",
      "–ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å —á–µ—Ä–µ–∑ ./slc_agent_ctl status",
      "–ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ —á–µ—Ä–µ–∑ ./slc_agent_ctl logs"
    ]
  }
} 