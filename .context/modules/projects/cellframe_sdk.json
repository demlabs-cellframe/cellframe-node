{
  "type": "project_module",
  "domain": "cellframe_sdk",
  "version": "3.4-0",
  "created": "2025-01-07T00:00:00Z",
  "updated": "2025-10-16T00:00:00Z",
  "template_source": "Cellframe SDK v3.4-0 + DAP SDK analysis",
  "navigation_system": {
    "purpose": "–§–∞–π–ª –°–õ–ö: cellframe_sdk.json",
    "recovery_path": ".context/manifest.json",
    "current_file": ".context/modules/projects/cellframe_sdk.json",
    "file_role": "PROJECT_MODULE",
    "related_files": [
      ".context/manifest.json",
      ".context/modules/standards/dap_sdk_coding_standards.json",
      ".context/modules/projects/dap_sdk.json",
      ".context/modules/projects/dap_sdk/python_bindings_coding_standards.json"
    ],
    "quick_navigation": {
      "üè† –ì–ª–∞–≤–Ω–∞—è": ".context/manifest.json - –≥–ª–∞–≤–Ω—ã–π –Ω–∞–≤–∏–≥–∞—Ç–æ—Ä —Å–∏—Å—Ç–µ–º—ã",
      "üõ†Ô∏è CLI": ".context/tools/scripts/slc_cli.py - –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è",
      "üìã DAP SDK": ".context/modules/projects/dap_sdk.json - –±–∞–∑–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å",
      "üîß –°—Ç–∞–Ω–¥–∞—Ä—Ç—ã": ".context/modules/standards/dap_sdk_coding_standards.json - –ø—Ä–∞–≤–∏–ª–∞ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è"
    },
    "usage_hint": "–ê–≤—Ç–æ–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å Cellframe SDK —Ñ–∞–π–ª–∞–º–∏",
    "ai_context": "–§–∞–π–ª –°–õ–ö —Å–∏—Å—Ç–µ–º—ã: cellframe_sdk.json"
  },
  "template_info": {
    "name": "Cellframe SDK Architecture & Development Guide",
    "description": "–ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ Cellframe SDK",
    "version": "3.4-0",
    "domain": "blockchain_development",
    "specialization": "modular_blockchain_platform",
    "applicability": "–í—Å–µ –ø—Ä–æ–µ–∫—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–µ Cellframe SDK",
    "auto_load_triggers": [
      "cellframe-sdk",
      "cellframe-node", 
      "dap_chain_",
      "cellframe",
      "consensus",
      "srv-stake",
      "srv-voting",
      "srv-bridge",
      "srv-xchange",
      "cs-dag-poa",
      "cs-esbocs"
    ],
    "depends_on": [
      ".context/modules/standards/dap_sdk_coding_standards.json",
      ".context/modules/projects/dap_sdk.json"
    ]
  },

  "architecture_overview": {
    "description": "Cellframe SDK - –º–æ–¥—É–ª—å–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –±–ª–æ–∫—á–µ–π–Ω –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π",
    "base_foundation": "DAP SDK - –≤—Å–µ –ø—Ä–∞–≤–∏–ª–∞ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Å–ª–µ–¥—É—é—Ç—Å—è",
    "architecture_layers": {
      "layer_1": {
        "name": "DAP SDK Foundation", 
        "description": "–ë–∞–∑–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å: –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—è, —Å–µ—Ç—å, –ø–∞–º—è—Ç—å, —Å–æ–±—ã—Ç–∏—è",
        "auto_loads": ".context/modules/standards/dap_sdk_coding_standards.json"
      },
      "layer_2": {
        "name": "Cellframe Core",
        "description": "–Ø–¥—Ä–æ: —Ü–µ–ø–∏, –∫–æ—à–µ–ª—å–∫–∏, –æ–±—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã",
        "modules": ["common", "chain", "wallet"]
      },
      "layer_3": {
        "name": "Consensus Layer", 
        "description": "–ú–æ–¥—É–ª–∏ –∫–æ–Ω—Å–µ–Ω—Å—É—Å–∞",
        "types": ["dag", "blocks"],
        "algorithms": ["dag-poa", "esbocs", "block-pow", "none"]
      },
      "layer_4": {
        "name": "Network & Services",
        "description": "–°–µ—Ç–µ–≤–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –∏ —Å–µ—Ä–≤–∏—Å—ã",
        "components": ["net", "mempool", "mining", "srv-*"]
      },
      "layer_5": {
        "name": "Python Bindings",
        "description": "Python –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å",
        "auto_loads": ".context/modules/projects/dap_sdk/python_bindings_coding_standards.json"
      }
    }
  },

  "module_structure": {
    "core_modules": {
      "common": {
        "library": "dap_chain_common",
        "path": "cellframe-sdk/modules/common/",
        "description": "–û–±—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –±–ª–æ–∫—á–µ–π–Ω–∞",
        "dependencies": ["dap_core", "dap_crypto", "dap_chain_net"],
        "key_files": {
          "headers": ["dap_chain_datum.h", "dap_chain_common.h"],
          "sources": ["dap_chain_*.c"]
        },
        "cmake_target": "dap_chain_common"
      },
      "chain": {
        "library": "dap_chain", 
        "path": "cellframe-sdk/modules/chain/",
        "description": "–û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –±–ª–æ–∫—á–µ–π–Ω —Ü–µ–ø–µ–π",
        "dependencies": ["dap_chain_common", "dap_global_db", "dap_notify_srv", "dap_stream"],
        "key_files": {
          "main": ["dap_chain.c", "dap_chain_cell.c", "dap_chain_ch.c"],
          "consensus": ["dap_chain_cs.c"],
          "policy": ["dap_chain_policy.c"],
          "transactions": ["dap_chain_tx.c"]
        },
        "cmake_target": "dap_chain"
      },
      "wallet": {
        "library": "dap_chain_wallet",
        "path": "cellframe-sdk/modules/wallet/", 
        "description": "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ—à–µ–ª—å–∫–∞–º–∏ –∏ –∫–ª—é—á–∞–º–∏",
        "dependencies": ["dap_chain_common"],
        "cmake_target": "dap_chain_wallet"
      }
    },

    "network_modules": {
      "net": {
        "library": "dap_chain_net",
        "path": "cellframe-sdk/modules/net/",
        "description": "–°–µ—Ç–µ–≤–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–µ–∂–¥—É —É–∑–ª–∞–º–∏",
        "key_components": {
          "ledger": "dap_chain_ledger.c - —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π —Ä–µ–µ—Å—Ç—Ä",
          "networking": "dap_chain_net.c - —Å–µ—Ç–µ–≤–æ–π –ø—Ä–æ—Ç–æ–∫–æ–ª",
          "node": "dap_chain_node.c - —É–∑–µ–ª —Å–µ—Ç–∏",
          "cli": "dap_chain_node_cli.c - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏"
        },
        "cli_support": true
      },
      "mempool": {
        "library": "dap_chain_mempool",
        "path": "cellframe-sdk/modules/mempool/",
        "description": "–ü—É–ª –æ–∂–∏–¥–∞—é—â–∏—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π"
      }
    },

    "consensus_modules": {
      "types": {
        "dag": {
          "library": "dap_chain_cs_dag",
          "path": "cellframe-sdk/modules/type/dag/",
          "description": "DAG —Ç–æ–ø–æ–ª–æ–≥–∏—è –±–ª–æ–∫—á–µ–π–Ω–∞"
        },
        "blocks": {
          "library": "dap_chain_cs_blocks", 
          "path": "cellframe-sdk/modules/type/blocks/",
          "description": "–ë–ª–æ—á–Ω–∞—è —Ç–æ–ø–æ–ª–æ–≥–∏—è –±–ª–æ–∫—á–µ–π–Ω–∞"
        },
        "none": {
          "path": "cellframe-sdk/modules/type/none/",
          "description": "–¢–æ–ø–æ–ª–æ–≥–∏—è –±–µ–∑ –∫–æ–Ω—Å–µ–Ω—Å—É—Å–∞"
        }
      },
      "algorithms": {
        "dag_poa": {
          "library": "dap_chain_cs_dag_poa",
          "path": "cellframe-sdk/modules/consensus/dag-poa/",
          "description": "Proof of Authority –¥–ª—è DAG",
          "enable_flag": "cs-dag-poa"
        },
        "esbocs": {
          "library": "dap_chain_cs_esbocs",
          "path": "cellframe-sdk/modules/consensus/esbocs/", 
          "description": "ESBOCS –∫–æ–Ω—Å–µ–Ω—Å—É—Å –¥–ª—è –±–ª–æ–∫–æ–≤",
          "enable_flag": "cs-esbocs"
        },
        "block_pow": {
          "library": "dap_chain_cs_block_pow",
          "path": "cellframe-sdk/modules/consensus/block-pow/",
          "description": "Proof of Work –¥–ª—è –±–ª–æ–∫–æ–≤",
          "enable_flag": "cs-block-pow"
        }
      }
    },

    "service_modules": {
      "stake": {
        "path": "cellframe-sdk/modules/service/stake/",
        "description": "–°—Ç–µ–π–∫–∏–Ω–≥ —Ç–æ–∫–µ–Ω–æ–≤ –∏ PoS –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ",
        "enable_flag": "srv-stake",
        "cmake_define": "DAP_SRV_STAKE_USED"
      },
      "voting": {
        "path": "cellframe-sdk/modules/service/voting/",
        "description": "–ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è –∏ –æ–ø—Ä–æ—Å—ã",
        "enable_flag": "srv-voting"
      },
      "bridge": {
        "path": "cellframe-sdk/modules/service/bridge/",
        "description": "–ú–æ—Å—Ç—ã –º–µ–∂–¥—É –±–ª–æ–∫—á–µ–π–Ω–∞–º–∏", 
        "enable_flag": "srv-bridge"
      },
      "xchange": {
        "path": "cellframe-sdk/modules/service/xchange/",
        "description": "–î–µ—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –±–∏—Ä–∂–∞",
        "enable_flag": "srv-xchange"
      },
      "vpn": {
        "path": "cellframe-sdk/modules/service/vpn/",
        "description": "VPN —Å–µ—Ä–≤–∏—Å",
        "enable_flag": "srv-vpn",
        "platforms": ["LINUX", "DARWIN"]
      }
    }
  },

  "build_system": {
    "cmake_configuration": {
      "minimum_version": "3.10",
      "project_name": "cellframe-sdk",
      "language": "C",
      "c_standard": "11",
      "version": "3.4-0",
      "version_define": "CELLFRAME_SDK_VERSION"
    },
    "default_modules": "core chains mining network cs-dag-poa cs-esbocs cs-none srv-stake srv-voting srv-bridge srv-xchange",
    "conditional_modules": {
      "srv-vpn": ["LINUX", "DARWIN"]
    },
    "module_activation_pattern": "CELLFRAME_MODULES MATCHES \"module_name\"",
    "cmake_structure": {
      "main_cmakelists": "cellframe-sdk/CMakeLists.txt",
      "modules_cmakelists": "cellframe-sdk/modules/CMakeLists.txt",
      "module_cmakelists": "–∫–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –∏–º–µ–µ—Ç —Å–≤–æ–π CMakeLists.txt"
    },
    "library_linking": {
      "type": "STATIC",
      "pattern": "target_link_libraries(${PROJECT_NAME} dependencies...)",
      "installation": {
        "libraries": "lib/modules/{category}/",
        "headers": "include/modules/{category}/",
        "public_headers": "—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ PUBLIC_HEADER"
      }
    }
  },

  "development_guidelines": {
    "inherits_dap_rules": true,
    "auto_loads": ".context/modules/standards/dap_sdk_coding_standards.json",
    "cellframe_specific": {
      "module_creation": {
        "steps": [
          "–°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –≤ cellframe-sdk/modules/{category}/{module}",
          "–î–æ–±–∞–≤–∏—Ç—å CMakeLists.txt —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –∏–º–µ–Ω–µ–º –ø—Ä–æ–µ–∫—Ç–∞", 
          "–°–æ–∑–¥–∞—Ç—å include/ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é —Å –∑–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏",
          "–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏—Å—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã —Å #define LOG_TAG \"module_name\"",
          "–î–æ–±–∞–≤–∏—Ç—å –º–æ–¥—É–ª—å –≤ cellframe-sdk/modules/CMakeLists.txt",
          "–û–±–Ω–æ–≤–∏—Ç—å CELLFRAME_MODULES –≤ –≥–ª–∞–≤–Ω–æ–º CMakeLists.txt"
        ]
      },
      "naming_patterns": {
        "libraries": "dap_chain_{module_name}",
        "files": "dap_chain_{component}.c/.h",
        "cmake_projects": "dap_chain_{module_name}"
      },
      "dependencies": {
        "always_include": ["dap_chain_common"],
        "common_deps": ["dap_core", "dap_crypto", "dap_global_db"],
        "network_deps": ["dap_stream", "dap_notify_srv"]
      }
    }
  },

  "python_bindings": {
    "auto_loads": ".context/modules/projects/dap_sdk/python_bindings_coding_standards.json",
    "architecture": {
      "python_dap": {
        "description": "–ù–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ –±–∏–Ω–¥–∏–Ω–≥–∏ DAP SDK",
        "location": "python-dap/",
        "purpose": "–ü—Ä—è–º—ã–µ 1:1 –æ–±—ë—Ä—Ç–∫–∏ –Ω–∞–¥ DAP SDK C —Ñ—É–Ω–∫—Ü–∏—è–º–∏"
      },
      "python_cellframe": {
        "description": "–í—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ –±–∏–Ω–¥–∏–Ω–≥–∏ Cellframe SDK", 
        "location": "cellframe/",
        "purpose": "–í—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π Cellframe SDK —Å Python –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏",
        "dependencies": ["python-dap"]
      }
    },
    "exception_hierarchy": {
      "base": "DapException (python-dap)",
      "cellframe": "CellframeException (python-cellframe)",
      "rule": "–í—Å–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –Ω–∞—Å–ª–µ–¥—É—é—Ç—Å—è –æ—Ç DAP –±–∞–∑–æ–≤—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π"
    }
  },

  "testing": {
    "unit_tests": {
      "option": "BUILD_CELLFRAME_SDK_TESTS",
      "defines": ["DAP_LEDGER_TEST", "DAP_CHAIN_BLOCKS_TEST"],
      "location": "–∫–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –∏–º–µ–µ—Ç tests/ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é"
    },
    "test_organization": {
      "pattern": "dap_{module}_test.c",
      "cmake_condition": "if(BUILD_CELLFRAME_SDK_TESTS)"
    }
  },

  "token_management_system": {
    "description": "–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞–º–∏ –≤ Cellframe SDK",
    "token_types": {
      "CF20": {
        "description": "–û—Å–Ω–æ–≤–Ω–æ–π —Ç–∏–ø —Ç–æ–∫–µ–Ω–∞ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π UTXO –º–æ–¥–µ–ª–∏",
        "subtypes": ["SIMPLE", "PRIVATE", "NATIVE", "PUBLIC"],
        "model": "UTXO (Unspent Transaction Output)",
        "key_files": [
          "cellframe-sdk/modules/common/include/dap_chain_datum_token.h",
          "cellframe-sdk/modules/net/dap_chain_ledger.c"
        ]
      }
    },
    
    "utxo_model": {
      "description": "Cellframe –∏—Å–ø–æ–ª—å–∑—É–µ—Ç UTXO –º–æ–¥–µ–ª—å –¥–ª—è CF20 —Ç–æ–∫–µ–Ω–æ–≤ (–∫–∞–∫ Bitcoin)",
      "utxo_structure": {
        "identification": "–ü–∞—Ä–∞ (tx_hash, out_idx)",
        "tracking": "dap_ledger_tx_item_t —Å –º–∞—Å—Å–∏–≤–æ–º tx_hash_spent_fast[]",
        "validation": "s_ledger_tx_add_check() –ø—Ä–æ–≤–µ—Ä—è–µ—Ç spent status"
      },
      "output_types": {
        "dap_chain_tx_out_t": "–ë–∞–∑–æ–≤—ã–π –≤—ã—Ö–æ–¥ —Å –∞–¥—Ä–µ—Å–æ–º –∏ –∑–Ω–∞—á–µ–Ω–∏–µ–º",
        "dap_chain_tx_out_ext_t": "–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –≤—ã—Ö–æ–¥ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º —Ç–æ–∫–µ–Ω–∞",
        "dap_chain_tx_out_std_t": "–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤—ã—Ö–æ–¥ —Å timelock –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π"
      }
    },

    "permissions_system": {
      "description": "–ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç—Ä–æ–ª—è –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è —Ç–æ–∫–µ–Ω–æ–≤",
      
      "address_based_permissions": {
        "description": "Whitelist/Blacklist –∞–¥—Ä–µ—Å–æ–≤ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–µ–π –∏ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π",
        "sender_lists": {
          "tx_send_allow": "Whitelist –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–µ–π (—Ä–∞–±–æ—Ç–∞–µ—Ç —Å ALL_SENDER_BLOCKED)",
          "tx_send_block": "Blacklist –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–µ–π (—Ä–∞–±–æ—Ç–∞–µ—Ç —Å ALL_SENDER_ALLOWED)"
        },
        "receiver_lists": {
          "tx_recv_allow": "Whitelist –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π (—Ä–∞–±–æ—Ç–∞–µ—Ç —Å ALL_RECEIVER_BLOCKED)",
          "tx_recv_block": "Blacklist –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π (—Ä–∞–±–æ—Ç–∞–µ—Ç —Å ALL_RECEIVER_ALLOWED)"
        },
        "validation": "s_ledger_addr_check() –≤ dap_chain_ledger.c:2615",
        "disable_flags": {
          "DISABLE_ADDRESS_SENDER_BLOCKING": "BIT(18) - –æ—Ç–∫–ª—é—á–∞–µ—Ç tx_send_allow/block –º–µ—Ö–∞–Ω–∏–∑–º",
          "DISABLE_ADDRESS_RECEIVER_BLOCKING": "BIT(19) - –æ—Ç–∫–ª—é—á–∞–µ—Ç tx_recv_allow/block –º–µ—Ö–∞–Ω–∏–∑–º",
          "rationale": "–ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç–∫–ª—é—á–∏—Ç—å address-based –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –¥–ª—è —Ç–æ–∫–µ–Ω–∞"
        }
      },

      "utxo_based_permissions": {
        "description": "–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –Ω–µ–ø–æ—Ç—Ä–∞—á–µ–Ω–Ω—ã—Ö –≤—ã—Ö–æ–¥–æ–≤ (UTXO)",
        "implementation_status": "–í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ - –∑–∞–¥–∞—á–∞ cf20_utxo_blocking_20250116",
        "mechanism": "Ban-–ª–∏—Å—Ç –¥–ª—è –ø–∞—Ä (tx_hash, out_idx) –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–æ–∫–µ–Ω–∞",
        "storage": "Hash table per token –≤ dap_ledger_token_item_t",
        "flags": {
          "UTXO_BLOCKING_ENABLED": "BIT(16) - –≤–∫–ª—é—á–∞–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ UTXO",
          "STATIC_UTXO_BLOCKLIST": "BIT(17) - –∑–∞–ø—Ä–µ—â–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–µ blocklist –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏"
        },
        "tsd_operations": {
          "TSD_TYPE_UTXO_BLOCKED_ADD": "0x0029 - –¥–æ–±–∞–≤–∏—Ç—å UTXO –≤ blocklist —á–µ—Ä–µ–∑ token_update",
          "TSD_TYPE_UTXO_BLOCKED_REMOVE": "0x002A - —É–¥–∞–ª–∏—Ç—å UTXO –∏–∑ blocklist",
          "TSD_TYPE_UTXO_BLOCKED_CLEAR": "0x002B - –æ—á–∏—Å—Ç–∏—Ç—å –≤–µ—Å—å blocklist"
        },
        "cli_commands": {
          "token_update": "–†–∞—Å—à–∏—Ä–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ -utxo_blocked_add/remove/clear",
          "token_utxo_list": "–ù–æ–≤–∞—è –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö UTXO"
        },
        "validation": "–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ s_ledger_tx_add_check –ø–µ—Ä–µ–¥ —Ç—Ä–∞—Ç–æ–π UTXO"
      },

      "token_flags": {
        "global_permissions": {
          "ALL_SENDER_BLOCKED": "BIT(1) - –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –≤—Å–µ—Ö –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–µ–π",
          "ALL_SENDER_ALLOWED": "BIT(2) - —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –≤—Å–µ—Ö –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–µ–π",
          "ALL_SENDER_FROZEN": "BIT(3) - –≤—Ä–µ–º–µ–Ω–Ω–∞—è –∑–∞–º–æ—Ä–æ–∑–∫–∞ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–µ–π",
          "ALL_SENDER_UNFROZEN": "BIT(4) - —Ä–∞–∑–º–æ—Ä–æ–∑–∫–∞ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–µ–π",
          "ALL_RECEIVER_BLOCKED": "BIT(5) - –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –≤—Å–µ—Ö –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π",
          "ALL_RECEIVER_ALLOWED": "BIT(6) - —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π",
          "ALL_RECEIVER_FROZEN": "BIT(7) - –≤—Ä–µ–º–µ–Ω–Ω–∞—è –∑–∞–º–æ—Ä–æ–∑–∫–∞ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π",
          "ALL_RECEIVER_UNFROZEN": "BIT(8) - —Ä–∞–∑–º–æ—Ä–æ–∑–∫–∞ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π"
        },
        "static_flags": {
          "STATIC_ALL": "BIT(9) - –∑–∞–ø—Ä–µ—Ç –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ç–æ–∫–µ–Ω–∞ –ø–æ—Å–ª–µ –¥–µ–∫–ª–∞—Ä–∞—Ü–∏–∏",
          "STATIC_FLAGS": "BIT(10) - –∑–∞–ø—Ä–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ñ–ª–∞–≥–æ–≤",
          "STATIC_PERMISSIONS_ALL": "BIT(11) - –∑–∞–ø—Ä–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤—Å–µ—Ö permissions",
          "STATIC_PERMISSIONS_DATUM_TYPE": "BIT(12) - –∑–∞–ø—Ä–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è datum type permissions",
          "STATIC_PERMISSIONS_TX_SENDER": "BIT(13) - –∑–∞–ø—Ä–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è sender permissions",
          "STATIC_PERMISSIONS_TX_RECEIVER": "BIT(14) - –∑–∞–ø—Ä–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è receiver permissions"
        },
        "new_flags_utxo_blocking": {
          "UTXO_BLOCKING_ENABLED": "BIT(16) - –≤–∫–ª—é—á–µ–Ω–∏–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ UTXO",
          "STATIC_UTXO_BLOCKLIST": "BIT(17) - –∑–∞–ø—Ä–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è UTXO blocklist",
          "DISABLE_ADDRESS_SENDER_BLOCKING": "BIT(18) - –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ address-based sender blocking",
          "DISABLE_ADDRESS_RECEIVER_BLOCKING": "BIT(19) - –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ address-based receiver blocking",
          "implementation": "–ó–∞–¥–∞—á–∞ cf20_utxo_blocking_20250116",
          "status": "–í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ"
        }
      }
    },

    "token_update_mechanism": {
      "description": "–°–∏—Å—Ç–µ–º–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ç–æ–∫–µ–Ω–æ–≤ –ø–æ—Å–ª–µ –¥–µ–∫–ª–∞—Ä–∞—Ü–∏–∏",
      "command": "token_update -net <net> -chain <chain> -token <ticker> [params]",
      "implementation": "com_token_update() –≤ dap_chain_node_cli_cmd.c:5149",
      "tsd_sections": {
        "general": {
          "SET_FLAGS": "0x0001 - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ñ–ª–∞–≥–æ–≤",
          "UNSET_FLAGS": "0x0002 - —Å–Ω—è—Ç–∏–µ —Ñ–ª–∞–≥–æ–≤",
          "TOTAL_SUPPLY": "0x0026 - –∏–∑–º–µ–Ω–µ–Ω–∏–µ total supply",
          "TOTAL_SIGNS_VALID": "0x0004 - –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ç—Ä–µ–±—É–µ–º–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ–¥–ø–∏—Å–µ–π",
          "TOTAL_PKEYS_ADD": "0x0006 - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–ª–∞–¥–µ–ª—å—Ü–∞",
          "TOTAL_PKEYS_REMOVE": "0x0005 - —É–¥–∞–ª–µ–Ω–∏–µ –≤–ª–∞–¥–µ–ª—å—Ü–∞"
        },
        "permissions": {
          "TX_SENDER_ALLOWED_ADD": "0x0020",
          "TX_SENDER_ALLOWED_REMOVE": "0x0021",
          "TX_SENDER_BLOCKED_ADD": "0x0023",
          "TX_SENDER_BLOCKED_REMOVE": "0x0024",
          "TX_RECEIVER_ALLOWED_ADD": "0x0014",
          "TX_RECEIVER_ALLOWED_REMOVE": "0x0015",
          "TX_RECEIVER_BLOCKED_ADD": "0x0017",
          "TX_RECEIVER_BLOCKED_REMOVE": "0x0018"
        },
        "utxo_blocking_new": {
          "UTXO_BLOCKED_ADD": "0x0029 - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ UTXO –≤ blocklist",
          "UTXO_BLOCKED_REMOVE": "0x002A - —É–¥–∞–ª–µ–Ω–∏–µ UTXO –∏–∑ blocklist",
          "UTXO_BLOCKED_CLEAR": "0x002B - –æ—á–∏—Å—Ç–∫–∞ blocklist",
          "implementation": "–ó–∞–¥–∞—á–∞ cf20_utxo_blocking_20250116",
          "status": "–í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ"
        }
      },
      "authorization": "–¢—Ä–µ–±—É—é—Ç—Å—è valid –ø–æ–¥–ø–∏—Å–∏ –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ —Ç–æ–∫–µ–Ω–∞",
      "storage": "TSD sections –≤ token_update datum, –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –≤ ledger"
    },

    "ledger_architecture": {
      "description": "–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π —Ä–µ–µ—Å—Ç—Ä —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –∏ –±–∞–ª–∞–Ω—Å–æ–≤",
      "file": "cellframe-sdk/modules/net/dap_chain_ledger.c",
      "key_structures": {
        "dap_ledger_t": "–û—Å–Ω–æ–≤–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ ledger",
        "dap_ledger_token_item_t": "–≠–ª–µ–º–µ–Ω—Ç –∫–µ—à–∞ –¥–ª—è —Ç–æ–∫–µ–Ω–∞ —Å permissions",
        "dap_ledger_tx_item_t": "–≠–ª–µ–º–µ–Ω—Ç –∫–µ—à–∞ –¥–ª—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å UTXO tracking"
      },
      "thread_safety": {
        "approach": "Multiple reader-writer locks –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤",
        "locks": {
          "ledger_rwlock": "–î–ª—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π",
          "tokens_rwlock": "–î–ª—è —Ç–æ–∫–µ–Ω–æ–≤",
          "balance_accounts_rwlock": "–î–ª—è –±–∞–ª–∞–Ω—Å–æ–≤",
          "locked_outs_rwlock": "–î–ª—è timelock outs"
        }
      },
      "utxo_tracking": {
        "spent_tracking": "tx_hash_spent_fast[] –º–∞—Å—Å–∏–≤ –≤ cache_data",
        "n_outs": "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã—Ö–æ–¥–æ–≤ –≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏",
        "n_outs_used": "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ç—Ä–∞—á–µ–Ω–Ω—ã—Ö –≤—ã—Ö–æ–¥–æ–≤",
        "validation": "s_ledger_tx_add_check() –ø—Ä–æ–≤–µ—Ä—è–µ—Ç spent status"
      }
    }
  },

  "testing_infrastructure": {
    "description": "–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è Cellframe SDK",
    "base_framework": "dap-sdk/test-framework (dap_test.h)",
    "test_directory": "cellframe-sdk/tests/",
    "cmake_option": "BUILD_TESTS=On",
    "structure": {
      "fixtures": "cellframe-sdk/tests/fixtures/ - reusable test helpers",
      "unit": "cellframe-sdk/tests/unit/ - unit —Ç–µ—Å—Ç—ã –º–æ–¥—É–ª–µ–π",
      "integration": "cellframe-sdk/tests/integration/ - E2E —Ç–µ—Å—Ç—ã"
    },
    "test_execution": {
      "framework": "CTest (CMake test framework)",
      "command_all": "cd build && ctest",
      "command_verbose": "ctest -V –∏–ª–∏ ctest --verbose",
      "individual": "./build/cellframe-sdk/tests/unit/<test_name>"
    },
    "fixtures_available": {
      "test_ledger_fixtures": "Helpers –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ ledger –∏ —Å–µ—Ç–∏",
      "test_token_fixtures": "Helpers –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤",
      "test_transaction_fixtures": "Helpers –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –∏ UTXO"
    },
    "quality_tools": {
      "memory_leaks": "valgrind --leak-check=full",
      "race_conditions": "valgrind --tool=helgrind",
      "sanitizers": "AddressSanitizer, ThreadSanitizer"
    },
    "related_task": ".context/tasks/cf20_utxo_blocking_20250116.json"
  },

  "code_quality": {
    "inherits_all_dap_rules": true,
    "auto_reference": ".context/modules/standards/dap_sdk_coding_standards.json",
    "additional_checks": {
      "module_structure": "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –º–æ–¥—É–ª–µ–π",
      "cmake_consistency": "–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ naming patterns –≤ CMake",
      "dependency_management": "–ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏"
    }
  },

  "integration_notes": {
    "with_dap_sdk": "–ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è, –≤—Å–µ –ø—Ä–∞–≤–∏–ª–∞ DAP –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è",
    "auto_loading": "–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å Cellframe SDK –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª–∞ DAP SDK",
    "template_intelligence": "–°–∏—Å—Ç–µ–º–∞ –ø–æ–Ω–∏–º–∞–µ—Ç –∏–µ—Ä–∞—Ä—Ö–∏—é DAP -> Cellframe –∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞"
  }
}