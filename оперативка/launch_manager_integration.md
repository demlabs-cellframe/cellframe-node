# Launch Manager Integration - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–º–∏ TestOps

## üéØ **–û–ø–∏—Å–∞–Ω–∏–µ**

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–ø—É—Å–∫–∞–º–∏ (launches) –≤ Allure TestOps —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π –≤ GitLab CI –ø–∞–π–ø–ª–∞–π–Ω.

## üîß **–ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ**

### **1. Launch Manager Script (`launch_manager.sh`)**

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö launches —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π launch
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ launch (passed/failed/broken/skipped)
- ‚úÖ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º launch –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è —Ä–µ–≥—Ä–µ—Å—Å–∏–π
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ launch –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
- ‚úÖ –¶–≤–µ—Ç–Ω–æ–π –≤—ã–≤–æ–¥ –∏ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ö–æ–º–∞–Ω–¥—ã:**
```bash
./launch_manager.sh create <name> <tags>     # –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π launch
./launch_manager.sh upload [launch_id] [dir] # –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
./launch_manager.sh stats [launch_id]        # –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
./launch_manager.sh compare [launch_id]      # –°—Ä–∞–≤–Ω–∏—Ç—å —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º
./launch_manager.sh close [launch_id]        # –ó–∞–∫—Ä—ã—Ç—å launch
./launch_manager.sh current                  # –ü–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â–∏–π launch ID
```

### **2. GitLab CI Integration**

**–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω:**
1. **–°–æ–∑–¥–∞–Ω–∏–µ launch** –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —Ç–µ—Å—Ç–æ–≤
2. **–ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤** –≤ —Å–æ–∑–¥–∞–Ω–Ω—ã–π launch
3. **–ê–Ω–∞–ª–∏–∑ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏** –∏ –≤—ã—è–≤–ª–µ–Ω–∏–µ —Ä–µ–≥—Ä–µ—Å—Å–∏–π
4. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ** launch

## üöÄ **Workflow –≤ GitLab CI**

### **–®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
apk add --no-cache bash curl wget jq

# –°–∫–∞—á–∏–≤–∞–Ω–∏–µ allurectl
wget allurectl_linux_amd64 -O ./allurectl
chmod +x ./allurectl
```

### **–®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ Launch**
```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–º–µ–Ω–∏ launch
NODE_VERSION_INFO=$(echo "${NODE_DOWNLOAD_URL}" | sed 's|.*/||' | sed 's|\.deb$||')
LAUNCH_NAME="QA Tests - $(date +%d.%m.%Y_%H:%M) - ${NODE_VERSION_INFO} - v${CI_COMMIT_SHORT_SHA}"
LAUNCH_TAGS="${ALLURE_LAUNCH_TAGS}"

# –°–æ–∑–¥–∞–Ω–∏–µ launch
./launch_manager.sh create "${LAUNCH_NAME}" "${LAUNCH_TAGS}"
```

### **–®–∞–≥ 3: –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤**
```bash
# –û–±—ã—á–Ω—ã–π –∑–∞–ø—É—Å–∫ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Å —Ç–µ—Å—Ç–∞–º–∏
docker run cellframe-qa-pytest:${CI_COMMIT_SHORT_SHA}
docker cp results...
```

### **–®–∞–≥ 4: –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –∞–Ω–∞–ª–∏–∑**
```bash
# –ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
./launch_manager.sh upload

# –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
./launch_manager.sh stats

# –ê–Ω–∞–ª–∏–∑ —Ä–µ–≥—Ä–µ—Å—Å–∏–π
./launch_manager.sh compare

# –ó–∞–∫—Ä—ã—Ç–∏–µ launch
./launch_manager.sh close
```

## üìä **–ü—Ä–∏–º–µ—Ä—ã –≤—ã–≤–æ–¥–∞**

### **–°–æ–∑–¥–∞–Ω–∏–µ Launch:**
```
[INFO] Creating new launch: QA Tests - 14.10.2025_21:00 - latest-amd64 - v2d9b110f
[INFO] Tags: cellframe,node,qa,ci,gitlab,qa-v2
[SUCCESS] Launch created with ID: 25
```

### **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ Launch:**
```
[INFO] Getting statistics for launch ID: 25
Launch Statistics:
  Passed: 24
  Failed: 5
  Broken: 0
  Skipped: 0
```

### **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º Launch:**
```
[INFO] Comparing with previous launch...
[INFO] Comparing with previous launch ID: 24

=== Launch Comparison ===
Previous launch: 24 (2 failed)
Current launch:  25 (5 failed)
[WARNING] REGRESSION DETECTED: More tests failed than in previous launch
```

### **–ó–∞–∫—Ä—ã—Ç–∏–µ Launch:**
```
[INFO] Closing launch ID: 25
[SUCCESS] Launch 25 closed successfully
```

## üéØ **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã**

### **1. –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å**
- ‚úÖ –ö–∞–∂–¥—ã–π –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ = –æ—Ç–¥–µ–ª—å–Ω—ã–π launch –≤ TestOps
- ‚úÖ –ß–µ—Ç–∫–∞—è —Å–≤—è–∑—å –º–µ–∂–¥—É GitLab CI job –∏ TestOps launch
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Å –≤–µ—Ä—Å–∏–µ–π –Ω–æ–¥—ã –∏ commit hash

### **2. –ê–Ω–∞–ª–∏–∑ —Ä–µ–≥—Ä–µ—Å—Å–∏–π**
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º –∑–∞–ø—É—Å–∫–æ–º
- ‚úÖ –í—ã—è–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø–∞–¥–µ–Ω–∏–π —Ç–µ—Å—Ç–æ–≤
- ‚úÖ –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ —Ä–µ–≥—Ä–µ—Å—Å–∏—è—Ö –≤ CI –ª–æ–≥–∞—Ö

### **3. –ü–æ–ª–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è**
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ ‚Üí –ó–∞–≥—Ä—É–∑–∫–∞ ‚Üí –ê–Ω–∞–ª–∏–∑ ‚Üí –ó–∞–∫—Ä—ã—Ç–∏–µ
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –æ—Ç–∫–∞—Ç –ø—Ä–∏ —Å–±–æ—è—Ö
- ‚úÖ –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### **4. –¢—Ä–∞—Å—Å–∏—Ä—É–µ–º–æ—Å—Ç—å**
- ‚úÖ Launch ID —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `.launch_id` —Ñ–∞–π–ª–µ
- ‚úÖ –°–≤—è–∑—å —Å GitLab CI pipeline —á–µ—Ä–µ–∑ —Ç–µ–≥–∏
- ‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤–µ—Ä—Å–∏–∏ –Ω–æ–¥—ã –≤ –∏–º–µ–Ω–∏ launch

## üîß **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**

### **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
```bash
ALLURE_ENDPOINT="http://178.49.151.230:8080"
ALLURE_TOKEN="c9d45bd4-394a-4e6c-aab2-f7bce2b5be44"
ALLURE_PROJECT_ID="1"
ALLURE_LAUNCH_TAGS="cellframe,node,qa,ci,gitlab,${CI_COMMIT_REF_NAME}"
```

### **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
- `allurectl` - CLI –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å TestOps
- `jq` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ JSON –æ—Ç–≤–µ—Ç–æ–≤
- `bash` - –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤

## üìà **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ TestOps**

### **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ Launch:**
```
Launch Name: "QA Tests - 14.10.2025_21:00 - cellframe-node-5.5-356-amd64 - v2d9b110f"
Tags: ["cellframe", "node", "qa", "ci", "gitlab", "qa-v2"]
Status: Closed
Results: 24 passed, 5 failed, 0 broken, 0 skipped
```

### **–°–≤—è–∑—å —Å GitLab CI:**
- üîó **Pipeline ID** –≤ —Ç–µ–≥–∞—Ö
- üîó **Commit hash** –≤ –∏–º–µ–Ω–∏ launch
- üîó **Branch name** –≤ —Ç–µ–≥–∞—Ö
- üîó **Node version** –≤ –∏–º–µ–Ω–∏ launch

## üö® **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**

### **–°—Ü–µ–Ω–∞—Ä–∏–∏ –æ—Ç–∫–∞—Ç–∞:**
1. **–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è launch** ‚Üí –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Å –æ–±—ã—á–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–æ–π
2. **–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤** ‚Üí –ü–æ–ø—ã—Ç–∫–∞ –∑–∞–∫—Ä—ã—Ç—å launch
3. **–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏** ‚Üí –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –±–µ–∑ –∞–Ω–∞–ª–∏–∑–∞
4. **–û—à–∏–±–∫–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è** ‚Üí –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –±–µ–∑ —Ä–µ–≥—Ä–µ—Å—Å–∏–æ–Ω–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞

### **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- üîµ **[INFO]** - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- üü¢ **[SUCCESS]** - —É—Å–ø–µ—à–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- üü° **[WARNING]** - –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è (—Ä–µ–≥—Ä–µ—Å—Å–∏–∏)
- üî¥ **[ERROR]** - –æ—à–∏–±–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

## üéØ **–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏**

### **–ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:**
1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ issues** –¥–ª—è —É–ø–∞–≤—à–∏—Ö —Ç–µ—Å—Ç–æ–≤
2. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å GitLab Issues** —á–µ—Ä–µ–∑ API
3. **–î–∞—à–±–æ—Ä–¥—ã –∏ –º–µ—Ç—Ä–∏–∫–∏** –≤ TestOps
4. **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Slack/Teams** –æ —Ä–µ–≥—Ä–µ—Å—Å–∏—è—Ö
5. **–ú–µ—Ä–∂–∏–Ω–≥ launches** –¥–ª—è batch —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### **–í–æ–∑–º–æ–∂–Ω—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è:**
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ multiple projects
- –ö–∞—Å—Ç–æ–º–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è —Ä–µ–≥—Ä–µ—Å—Å–∏–π
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Jira/YouTrack
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç-–ø–ª–∞–Ω–æ–≤

## ‚úÖ **–°—Ç–∞—Ç—É—Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏**

- ‚úÖ **Launch Manager** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω
- ‚úÖ **GitLab CI Integration** - –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ –ø–∞–π–ø–ª–∞–π–Ω
- ‚úÖ **Regression Analysis** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ
- ‚úÖ **Error Handling** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- ‚úÖ **Documentation** - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ–º—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üöÄ
